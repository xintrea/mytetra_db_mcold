<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'PT Serif,Georgia,Helvetica Neue,Arial,sans-serif'; font-size:xx-large; font-weight:600;">Sublime Text &amp; Haskell</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; color:#aaaaaa; text-transform:uppercase;">MAY 2ND, 2015 4:07 PM</span></p>
<p style=" margin-top:0px; margin-bottom:21px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'PT Serif,Georgia,Times,Times New Roman,serif'; color:#222222; background-color:#f8f8f8;">There are several excellent posts about setting up the Haskell development environment. One of the best ones is Tony Lawrence’s</span><span style=" font-family:'PT Serif,Georgia,Times,Times New Roman,serif'; color:#222222;"> </span><a href="http://tonylawrence.com/blog/2014/01/01/configuring-your-haskell-environment/"><span style=" font-family:'inherit'; text-decoration: underline; color:#751590;">Configuring Your Haskell Environment</span></a><span style=" font-family:'PT Serif,Georgia,Times,Times New Roman,serif'; color:#222222;">. I encourage you to take a look at his post first.</span></p>
<p style=" margin-top:0px; margin-bottom:21px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'PT Serif,Georgia,Times,Times New Roman,serif'; color:#222222; background-color:#f8f8f8;">Tony’s post is more than a year old though, and it looks like a couple of things have changed since he wrote his post, especially with the latest version of Haskell and</span><span style=" font-family:'PT Serif,Georgia,Times,Times New Roman,serif'; color:#222222;"> </span><a href="https://github.com/SublimeHaskell/SublimeHaskell"><span style=" font-family:'inherit'; text-decoration: underline; color:#751590;">SublimeHaskell</span></a><span style=" font-family:'PT Serif,Georgia,Times,Times New Roman,serif'; color:#222222;">. I wasted a good chunk of time trying to get around those problems, so now writing this post in case others run into similar issues when setting up the SublimeHaskell plugin.</span></p>
<p style=" margin-top:0px; margin-bottom:21px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'PT Serif,Georgia,Times,Times New Roman,serif'; color:#222222; background-color:#f8f8f8;">Here’s a summary of the steps to setup the Haskell dev environment (from</span><span style=" font-family:'PT Serif,Georgia,Times,Times New Roman,serif'; color:#222222;"> </span><a href="https://github.com/SublimeHaskell/SublimeHaskell"><span style=" font-family:'inherit'; text-decoration: underline; color:#751590;">Tony’s blog</span></a><span style=" font-family:'PT Serif,Georgia,Times,Times New Roman,serif'; color:#222222;">).</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'inherit'; color:#222222;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Install the Haskell platform.</li>
<li style=" font-family:'inherit'; color:#222222;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Issue <span style=" font-family:'Menlo,Monaco,Andale Mono,lucida console,Courier New,monospace'; color:#555555; background-color:#ffffff;">cabal update</span> to update the list of available packages for Haskell.</li>
<li style=" font-family:'inherit'; color:#222222;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Install the requisite packages by issuing <span style=" font-family:'Menlo,Monaco,Andale Mono,lucida console,Courier New,monospace'; color:#555555; background-color:#ffffff;">cabal install aeson haskell-src-exts haddock hdevtools</span>.</li>
<li style=" font-family:'inherit'; color:#222222;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Install Sublime Text 3.</li>
<li style=" font-family:'inherit'; color:#222222;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Install Package Control for Sublime Text 3.</li>
<li style=" font-family:'inherit'; color:#222222;" style=" margin-top:0px; margin-bottom:21px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Install SublimeHaskell via Package Control.</li></ul>
<p style=" margin-top:0px; margin-bottom:21px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'PT Serif,Georgia,Times,Times New Roman,serif'; color:#222222; background-color:#f8f8f8;">This last step doesn’t work seamlessly. When I installed SublimeHaskell, I ran into the following error message in Sublime Text:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; color:#222222; background-color:#002b36;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td background="/images/noise.png?1463613221" style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:13px; color:#586e75;">1</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:13px; color:#586e75;">2</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:13px; color:#586e75;">3</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:13px; color:#586e75;">4</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:13px; color:#586e75;">5</span></pre></td>
<td style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:13px; color:#93a1a1; background-color:#000000;">SublimeHaskell: Failed to compile ModuleInspector</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:13px; color:#93a1a1;"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:13px; color:#93a1a1; background-color:#000000;">/Users/umair/Library/Application Support/Sublime Text 3/Packages/SublimeHaskell/ModuleInspector.hs:141:12:</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:13px; color:#93a1a1; background-color:#000000;">    Not in scope: data constructor ‘H.PNeg’</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:13px; color:#93a1a1; background-color:#000000;">    Perhaps you meant ‘H.PRec’ (imported from Language.Haskell.Exts)</span></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:21px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'PT Serif,Georgia,Times,Times New Roman,serif'; color:#222222; background-color:#f8f8f8;">The problem is described in more detail in</span><span style=" font-family:'PT Serif,Georgia,Times,Times New Roman,serif'; color:#222222;"> </span><a href="https://github.com/SublimeHaskell/SublimeHaskell/issues/182"><span style=" font-family:'inherit'; text-decoration: underline; color:#751590;">issue #182</span></a><span style=" font-family:'PT Serif,Georgia,Times,Times New Roman,serif'; color:#222222;"> on </span><a href="https://github.com/SublimeHaskell/SublimeHaskell"><span style=" font-family:'inherit'; text-decoration: underline; color:#751590;">SublimeHaskell’s GitHub page</span></a><span style=" font-family:'PT Serif,Georgia,Times,Times New Roman,serif'; color:#222222;">. The summary is that the master branch of SublimeHaskell is too slow to accomodate the removal of </span><span style=" font-family:'Menlo,Monaco,Andale Mono,lucida console,Courier New,monospace'; color:#555555; background-color:#ffffff;">PNeg</span><span style=" font-family:'PT Serif,Georgia,Times,Times New Roman,serif'; color:#222222;"> from </span><span style=" font-family:'Menlo,Monaco,Andale Mono,lucida console,Courier New,monospace'; color:#555555; background-color:#ffffff;">haskell-src-exts</span><span style=" font-family:'PT Serif,Georgia,Times,Times New Roman,serif'; color:#222222;">. The solution is to use the </span><span style=" font-family:'Menlo,Monaco,Andale Mono,lucida console,Courier New,monospace'; color:#555555; background-color:#ffffff;">hsdev</span><span style=" font-family:'PT Serif,Georgia,Times,Times New Roman,serif'; color:#222222;"> branch of SublimeHaskell. This is done as follows (recommended by </span><a href="https://github.com/MoreAxes"><span style=" font-family:'inherit'; text-decoration: underline; color:#751590;">MoreAxes</span></a><span style=" font-family:'PT Serif,Georgia,Times,Times New Roman,serif'; color:#222222;"> on comment thread for </span><a href="https://github.com/SublimeHaskell/SublimeHaskell/issues/182"><span style=" font-family:'inherit'; text-decoration: underline; color:#751590;">issue #182</span></a><span style=" font-family:'PT Serif,Georgia,Times,Times New Roman,serif'; color:#222222;">):</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'inherit'; color:#222222;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">In Sublime Text, launch Package Control (<span style=" font-family:'Menlo,Monaco,Andale Mono,lucida console,Courier New,monospace'; color:#555555; background-color:#ffffff;">cmd-shift-p</span>), and use the ‘Add Repository’ command to add <span style=" font-family:'Menlo,Monaco,Andale Mono,lucida console,Courier New,monospace'; color:#555555; background-color:#ffffff;">https://github.com/SublimeHaskell/SublimeHaskell/tree/hsdev</span>.</li>
<li style=" font-family:'inherit'; color:#222222;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Install SublimeHaskell with Package Control normally. Package Control looks in user-defined repositories first, so it is able to get SublimeHaskell from the <span style=" font-family:'Menlo,Monaco,Andale Mono,lucida console,Courier New,monospace'; color:#555555; background-color:#ffffff;">hsdev</span> branch.</li>
<li style=" font-family:'inherit'; color:#222222;" style=" margin-top:0px; margin-bottom:21px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Restart Sublime Text.</li></ul>
<p style=" margin-top:0px; margin-bottom:21px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'PT Serif,Georgia,Times,Times New Roman,serif'; color:#222222; background-color:#f8f8f8;">You can now enter and build Haskell code from Sublime Text. To verify your setup, enter the following code in Sublime Text, and then hit</span><span style=" font-family:'PT Serif,Georgia,Times,Times New Roman,serif'; color:#222222;"> </span><span style=" font-family:'Menlo,Monaco,Andale Mono,lucida console,Courier New,monospace'; color:#555555; background-color:#ffffff;">cmd-B</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; color:#222222; background-color:#002b36;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td background="/images/noise.png?1463613221" style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:13px; color:#586e75;">1</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:13px; color:#586e75;">2</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:13px; color:#586e75;">3</span></pre></td>
<td style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:13px; font-weight:600; color:#268bd2; background-color:#000000;">main</span><span style=" font-family:'inherit'; font-size:13px; color:#93a1a1; background-color:#000000;"> </span><span style=" font-family:'inherit'; font-size:13px; font-weight:600; color:#2aa198; background-color:#000000;">::</span><span style=" font-family:'inherit'; font-size:13px; color:#93a1a1; background-color:#000000;"> </span><span style=" font-family:'inherit'; font-size:13px; color:#2aa198; background-color:#000000;">IO</span><span style=" font-family:'inherit'; font-size:13px; color:#859900; background-color:#000000;">()</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:13px; font-weight:600; color:#268bd2; background-color:#000000;">main</span><span style=" font-family:'inherit'; font-size:13px; color:#93a1a1; background-color:#000000;"> </span><span style=" font-family:'inherit'; font-size:13px; font-weight:600; color:#2aa198; background-color:#000000;">=</span><span style=" font-family:'inherit'; font-size:13px; color:#93a1a1; background-color:#000000;"> </span><span style=" font-family:'inherit'; font-size:13px; font-weight:600; color:#d33682; background-color:#000000;">do</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:13px; color:#93a1a1; background-color:#000000;">    </span><span style=" font-family:'inherit'; font-size:13px; color:#268bd2; background-color:#000000;">print</span><span style=" font-family:'inherit'; font-size:13px; color:#93a1a1; background-color:#000000;"> </span><span style=" font-family:'inherit'; font-size:13px; color:#2aa198; background-color:#000000;">&quot;Hello World&quot;</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:13px; color:#2aa198;"><br /></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:21px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'PT Serif,Georgia,Times,Times New Roman,serif'; color:#222222; background-color:#f8f8f8;">You will see the following printed:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; color:#222222; background-color:#002b36;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td background="/images/noise.png?1463613221" style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:13px; color:#586e75;">1</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:13px; color:#586e75;">2</span></pre></td>
<td style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:13px; color:#2aa198; background-color:#000000;">&quot;Hello World&quot;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:13px; color:#93a1a1; background-color:#000000;">[</span><span style=" font-family:'inherit'; font-size:13px; color:#2aa198; background-color:#000000;">Finished</span><span style=" font-family:'inherit'; font-size:13px; color:#93a1a1; background-color:#000000;"> </span><span style=" font-family:'inherit'; font-size:13px; font-weight:600; color:#d33682; background-color:#000000;">in</span><span style=" font-family:'inherit'; font-size:13px; color:#93a1a1; background-color:#000000;"> </span><span style=" font-family:'inherit'; font-size:13px; color:#2aa198; background-color:#000000;">0.2</span><span style=" font-family:'inherit'; font-size:13px; color:#268bd2; background-color:#000000;">s</span><span style=" font-family:'inherit'; font-size:13px; color:#93a1a1; background-color:#000000;">]</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'inherit'; font-size:13px; color:#93a1a1;"><br /></pre></td></tr></table>
<p style=" margin-top:0px; margin-bottom:21px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'PT Serif,Georgia,Times,Times New Roman,serif'; color:#222222; background-color:#f8f8f8;">Here’s a screenshot of my test file, with the output of the program:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit';"><br /></span></p></body></html>