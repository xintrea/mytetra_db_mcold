<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:13px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><a name="content_top_menu"></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#2277aa;">С</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#2277aa;">одержание</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;" style=" margin-top:5px; margin-bottom:5px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze#intro"><span style=" font-size:16px; text-decoration: underline; color:#244b80; background-color:transparent;">Введение</span></a></li>
<li style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;" style=" margin-top:5px; margin-bottom:5px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze#install"><span style=" font-size:16px; text-decoration: underline; color:#244b80; background-color:transparent;">Установка</span></a></li>
<li style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;" style=" margin-top:5px; margin-bottom:5px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze#example_01"><span style=" font-size:16px; text-decoration: underline; color:#244b80; background-color:transparent;">Первый пример</span></a></li>
<li style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;" style=" margin-top:5px; margin-bottom:5px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze#msvc"><span style=" font-size:16px; text-decoration: underline; color:#244b80; background-color:transparent;">Добавление файлов Microsoft Visual C++ Redistributable</span></a></li>
<li style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;" style=" margin-top:5px; margin-bottom:5px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze#clean"><span style=" font-size:16px; text-decoration: underline; color:#244b80; background-color:transparent;">Избавляемся от лишних модулей</span></a></li>
<li style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;" style=" margin-top:5px; margin-bottom:5px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze#renames"><span style=" font-size:16px; text-decoration: underline; color:#244b80; background-color:transparent;">Наводим красоту в сборке</span></a></li>
<li style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;" style=" margin-top:5px; margin-bottom:5px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze#add"><span style=" font-size:16px; text-decoration: underline; color:#244b80; background-color:transparent;">Добавление модулей в сборку</span></a></li>
<li style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;" style=" margin-top:5px; margin-bottom:5px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze#several"><span style=" font-size:16px; text-decoration: underline; color:#244b80; background-color:transparent;">Сборка нескольких запускаемых файлов</span></a></li>
<li style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;" style=" margin-top:5px; margin-bottom:5px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze#add_files"><span style=" font-size:16px; text-decoration: underline; color:#244b80; background-color:transparent;">Добавление дополнительных файлов в сборку</span></a></li>
<li style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;" style=" margin-top:5px; margin-bottom:5px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze#gui"><span style=" font-size:16px; text-decoration: underline; color:#244b80; background-color:transparent;">Создание приложений с графическим интерфейсом</span></a></li>
<li style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;" style=" margin-top:5px; margin-bottom:5px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze#icon"><span style=" font-size:16px; text-decoration: underline; color:#244b80; background-color:transparent;">Установка иконки приложения</span></a></li>
<li style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;" style=" margin-top:5px; margin-bottom:5px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze#msi"><span style=" font-size:16px; text-decoration: underline; color:#244b80; background-color:transparent;">Создание инсталятора MSI</span></a></li>
<li style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;" style=" margin-top:5px; margin-bottom:5px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze#cxfreeze_quickstart"><span style=" font-size:16px; text-decoration: underline; color:#244b80; background-color:transparent;">Скрипт cxfreeze-quickstart для создания файла setup.py</span></a></li>
<li style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;" style=" margin-top:5px; margin-bottom:5px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze#outro"><span style=" font-size:16px; text-decoration: underline; color:#244b80; background-color:transparent;">Заключение</span></a></li></ol>
<p style=" margin-top:17px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="intro"></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#2277aa;">1</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#2277aa;">. Введение</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Python - отличный язык программирования для широкого круга задач, начиная от автоматизации рутинных действий до создания web- или настольных приложений с графическим интерфейсом. Но Python - интерпретируемый язык, а это значит, что если вы хотите распространять ваше приложение, то у пользователя должен быть установлен интерпретатор, на вход которого он должен подать исходные коды вашей программы. Если вы разрабатываете приложение под Linux или основная масса пользователей вашей программы - айтишники (программисты, админы и им сочувствующие), то требование установить интерпретатор Python скорее всего их не испугает. А вот заставлять устанавливать Python, а, возможно, еще и дополнительные библиотеки обычных пользователей - сомнительная идея.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Однако, Python хорош еще тем, что ядро интерпретатора достаточно компактное, оно умещается в единственную dll-ку размером 3.5 МБ + дополнительные модули. Это позволяет сделать такой хак: скопируем в отдельную папку файл PythonXX.dll (где XX - номер версии интерпретатора Python) и также скомпилированные файлы *.pyc, созданные из исходных файлов вашего приложения и используемых модулей, а затем рядом с этими файлами создадим запускаемый файл .exe, который будет подменять и перенаправлять вызовы интерпретатора в скопированную dll-ку (это очень грубое представление работы создаваемого файла .exe, но для простоты оставим так). Набор этих файлов можно передавать конечному пользователю, он запустит запускаемый файл и даже не будет догадываться, что &quot;под капотом&quot; работает интерпретатор Python.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Именно это и делает библиотека </span><a href="https://anthony-tuininga.github.io/cx_Freeze/"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">cx_Freeze</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, причем такой прием эта библиотека умеет применять для Windows, Linux и Mac OS. Эта статья будет посвящена использованию данной библиотеки. На простейших примерах мы рассмотрим основы работы с этой библиотекой cx_Freeze и различные сценарии ее использования.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Все примеры в этой статье тестировались на Python 3.6 и cx_Freeze 5.0.2. cx_Freeze пока еще умеет работать с Python 2.7, но судя по коммитам на </span><a href="https://github.com/anthony-tuininga/cx_Freeze"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">github</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, следующая версия cx_Freeze 6 будет работать только с Python 3.5 и выше.</span></p>
<p style=" margin-top:17px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="install"></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#2277aa;">2</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#2277aa;">. Установка</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Устанавливается cx_Freeze стандартно через pip. Если вы хотите установить cx_Freeze глобально для всех пользователей системы, то нужно выполнить в консоли команду</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock1"></a><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">p</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">ip install cx_freeze</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=1"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Разумеется, для этого у вас должны быть права администратора, и консоль должна быть запущена от администратора.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Или вы можете установить cx_Freeze только для вашего пользователя, тогда админские права не понадобятся:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock2"></a><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">p</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">ip install cx_freeze --user</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=2"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">В реальном проекте идеологически более верно установить cx_Freeze внутри virtualenv, но в этом случае могут быть некоторые проблемы (</span><a href="https://github.com/anthony-tuininga/cx_Freeze/issues/275"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">например</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">).</span></p>
<p style=" margin-top:17px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="example_01"></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#2277aa;">3</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#2277aa;">. Первый пример</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Теперь, когда cx_Freeze установлен, можно приступать к изучению возможностей этой библиотеки. Все примеры из статьи вы можете найти на </span><a href="https://github.com/Jenyay/cx_freeze_examples"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">github</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">. Примеры последовательно пронумерованы в том порядке, как они описаны в статье. Приложение, которое мы будем упаковывать в запускаемые файлы, будет называться </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">example.py</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Для начала создадим простейший python-скрипт с именем </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">example.py</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, который не импортирует никакие модули (</span><a href="https://github.com/Jenyay/cx_freeze_examples/tree/master/example%2001"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Example 01</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> на github):</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock3"></a><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;">#</span><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;"> example.py</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"><br /><br /></span><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;"># coding: utf-8</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"><br /><br /><br /></span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">if</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> __name__ == </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'__main__'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">:<br />    </span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">print</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">(</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'Hello world!'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=3"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Скорее всего нет смысла описывать, что делает данный скрипт. :) Желающие убедиться, что скрипт работает, могут выполнить команду:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock4"></a><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">p</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">ython example.py</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=4"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Если у вас установлено несколько версий Python, то под Windows можно воспользоваться утилитой </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">py</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> и явно указать номер версии интерпретатора:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock5"></a><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">p</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">y -3.6 example.py</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=5"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">или</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock6"></a><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">p</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">y -3 example.py</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=6"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Давайте упакуем наш очень полезный скрипт в запускаемый файл, который можно будет передать пользователю. Для этого создадим файл </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">setup.py</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> со следующим содержимым:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock7"></a><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;">#</span><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;"> coding: utf-8</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"><br /><br /></span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">from</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> cx_Freeze </span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">import</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> setup, Executable<br /><br />executables = [Executable(</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'example.py'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">)]<br /><br />setup(name=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'hello_world'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      version=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'0.0.1'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      description=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'My Hello World App!'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      executables=executables)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=7"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Имя скрипта для сборки может быть произвольным, но обычно принято называть его</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">setup.py</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, и мы будем придерживаться этого правила. Те, кто создавал Python-пакеты с помощью утилит </span><a href="https://docs.python.org/2/library/distutils.html"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">distutils</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> или </span><a href="https://pypi.python.org/pypi/setuptools"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">setuptools</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, увидят в работе с cx_Freeze что-то знакомое.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Итак, в файле </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">setup.py</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> мы импортируем из модуля cx_Freeze функцию </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">setup</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> и класс </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">Executable</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">. Самое главное здесь - это функция </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">setup</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, в нее передаются все параметры, которые описывают сборку. В параметрах функции </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">setup</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> мы указываем имя приложения (параметр </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">name</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">), номер версии (параметр </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">version</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">), краткое описание приложения (параметр </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">description</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">), а также параметр </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">executables</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, который должен быть </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#000000;">списком</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> экземпляров класса </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">Executable</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">. Почему тут должен быть именно список, и не достаточно одного экземпляра класса </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">Executable</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> будет описано чуть позже в разделе </span><a href="http://jenyay.net/Programming/Cxfreeze#several"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Сборка нескольких запускаемых файлов</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Конструктор класса </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">Executable</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> может принимать достаточно большое количество параметров. Обязательным параметром является только имя запускаемого python-файла. Если ваша программа состоит из большого количества скриптов, то указывать нужно на тот файл, который запускал бы пользователь, если бы он запускал приложение из исходников. Полностью конструктор класса </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">Executable</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> выглядит следующим образом (класс описан в файле </span><a href="https://github.com/anthony-tuininga/cx_Freeze/blob/master/cx_Freeze/freezer.py"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">freezer.py</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> исходников cx_Freeze):</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock8"></a><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">c</span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">lass</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> Executable(</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">object</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">):<br />    </span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">def</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000cd;">__init__</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">(</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">self</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, script, initScript = </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">None</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, base = </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">None</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            targetName = </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">None</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, icon = </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">None</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, shortcutName = </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">None</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, <br />            shortcutDir = </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">None</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, copyright = </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">None</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, trademarks = </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">None</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">):</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=8"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Некоторыми из этих параметров мы еще воспользуемся, а некоторые останутся за рамками статьи, назначение многих из них понятно из названия переменных.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Чтобы создать запускаемый файл, запустим консоль и перейдем в папку, где лежит файл </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">setup.py</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">. Затем нужно выполнить команду</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock9"></a><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">p</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">ython setup.py build</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=9"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">На экран будет выведено достаточно много теста:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">running build</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">running build_exe</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">copying C:\Users\jenyay\AppData\Roaming\Python\Python36\site-packages\cx_Freeze\bases\Console.exe -&gt; build\exe.win32-3.6\example_01.exe</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">copying C:\Program Files (x86)\Python36-32\python36.dll -&gt; build\exe.win32-3.6\python36.dll</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">*** WARNING *** unable to create version resource</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">install pywin32 extensions first</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">writing zip file build\exe.win32-3.6\python36.zip</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000; background-color:#f9f9f9;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">  Name                      File</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">  ----                      ----</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">m BUILD_CONSTANTS</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">m __future__                C:\Program Files (x86)\Python36-32\lib\__future__.py</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">m __startup__               C:\Users\jenyay\AppData\Roaming\Python\Python36\site-packages\cx_Freeze\initscripts\__startup__.py</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">m _ast</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000; background-color:#f9f9f9;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">...</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000; background-color:#f9f9f9;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">m xml.parsers.expat         C:\Program Files (x86)\Python36-32\lib\xml\parsers\expat.py</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">m zipfile                   C:\Program Files (x86)\Python36-32\lib\zipfile.py</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">m zipimport</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">m zlib</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000; background-color:#f9f9f9;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">Missing modules:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">? __main__ imported from bdb, pdb</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">? _dummy_threading imported from dummy_threading</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">? _frozen_importlib imported from importlib, importlib.abc</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">? _frozen_importlib_external imported from importlib, importlib._bootstrap, importlib.abc</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">? _posixsubprocess imported from subprocess</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">? _winreg imported from platform</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">? grp imported from shutil, tarfile</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">? java.lang imported from platform</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">? org.python.core imported from copy, pickle</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">? os.path imported from os, pkgutil, py_compile, tracemalloc, unittest, unittest.util</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">? posix imported from os</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">? pwd imported from http.server, posixpath, shutil, tarfile, webbrowser</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">? termios imported from tty</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">? vms_lib imported from platform</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">This is not necessarily a problem - the modules may not be needed on this platform.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000; background-color:#f9f9f9;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">copying C:\Program Files (x86)\Python36-32\DLLs\_bz2.pyd -&gt; build\exe.win32-3.6\_bz2.pyd</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">copying C:\Program Files (x86)\Python36-32\DLLs\_hashlib.pyd -&gt; build\exe.win32-3.6\_hashlib.pyd</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">copying C:\Program Files (x86)\Python36-32\DLLs\_lzma.pyd -&gt; build\exe.win32-3.6\_lzma.pyd</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">copying C:\Program Files (x86)\Python36-32\DLLs\_socket.pyd -&gt; build\exe.win32-3.6\_socket.pyd</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">copying C:\Program Files (x86)\Python36-32\DLLs\_ssl.pyd -&gt; build\exe.win32-3.6\_ssl.pyd</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">copying C:\Program Files (x86)\Python36-32\DLLs\pyexpat.pyd -&gt; build\exe.win32-3.6\pyexpat.pyd</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">copying C:\Program Files (x86)\Python36-32\DLLs\select.pyd -&gt; build\exe.win32-3.6\select.pyd</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">copying C:\Program Files (x86)\Python36-32\DLLs\unicodedata.pyd -&gt; build\exe.win32-3.6\unicodedata.pyd</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">В довольно большом логе работы можно увидеть, какие модули Python попали в сборку, а каких по мнению cx_Freeze не хватает. Чаще всего на этот вывод можно не обращать внимания, если нет каких-либо ошибок.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">После запуска скрипта сборки, если все прошло успешно (если нет сообщений об ошибках), рядом с файлами </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">example.py</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> и </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">setup.py</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> должна появиться папка </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">build</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, а в ней папка, имя которой зависит от версии Python. Например, если сборка запускалась с помощью 32-битной версии интерпретатора Python 3.6, то будет создана папка </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">exe.win32-3.6</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, а в ней огромное количество файлов и папок.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image9552.png" /></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Среди файлов можно увидеть файл </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">example.exe</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> - файл, который будут запускать пользователи. Попробуйте его запустить - откроется консольное окно, в котором промелькнет фраза &quot;Hello world!&quot;</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Рядом с запускаемым файлом расположился файл с ядром интерпретатора Python - </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">python36.dll</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, а также файл </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">python36.zip</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> - архив, в котором хранятся модули Python, скомпилированные в файлы *.pyc. Также в корне находятся динамические загружаемые библиотеки *.pyd и папки с пакетами, которые не попали в файл </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">python36.zip</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">. Если открыть этот архив, то можно увидеть, что он содержит файлы *.pyc.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image20798.png" /></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">По умолчанию cx_Freeze в архив помещает одиночные модули, а пакеты помещает в корень папки сборки. В данный момент в сборку попало очень много лишних модулей, который на самом деле не используются в программе. Например, среди модулей можно увидеть unittest, logging, xml, urllib и другие, которые явно не используются в нашей простой программе. Скоро мы научимся удалять лишние модули из сборки и вручную добавлять необходимые.</span></p>
<p style=" margin-top:17px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="msvc"></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#2277aa;">4</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#2277aa;">. Добавление файлов Microsoft Visual C++ Redistributable</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Интерпретатор Python компилируется под Windows с помощью Microsoft Visual C++, поэтому для того, чтобы пользователи могли запускать собранное вами приложение, у них должен установлен Microsoft Visual C++ Redistributable Package, который они должны скачать с сайта Microsoft. Это не очень удобно. Ситуация усугубляется тем, что разные версии Python компилируются с помощью разных версий компилятора.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Чтобы решить эту проблему вы можете поставлять с вашим дистрибутивом необходимые файлы *.dll. Например, для Python 3.6 достаточно скопировать файл </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">vcruntime140.dll</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> из папки с установленным Python. Для того, чтобы не делать эту вручную, cx_Freeze может делать это за вас, для этого надо добавить новый для нас параметр в функцию </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">setup</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> скрипта сборки </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">setup.py</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">. Исправленный скрипт сборки теперь будет выглядеть следующим образом (</span><a href="https://github.com/Jenyay/cx_freeze_examples/tree/master/example%2002"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Example 02</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">):</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock10"></a><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;">#</span><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;"> coding: utf-8</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"><br /><br /></span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">from</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> cx_Freeze </span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">import</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> setup, Executable<br /><br />executables = [Executable(</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'example.py'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">)]<br /><br />options = {<br />    </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: {<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'include_msvcr'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">True</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />    }<br />}<br /><br />setup(name=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'hello_world'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      version=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'0.0.2'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      description=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'My Hello World App!'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      executables=executables,<br />      options=options)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=10"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">В функцию </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">setup</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> был добавлен новый параметр </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">options</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, который должен быть словарем. Этот словарь содержит вложенные словари, описывающие особенности сборки для разных операционных систем и типов сборки (cx_Freeze кроме запускаемых файлов может создавать инсталяторы). Все возможные параметры можно найти </span><a href="http://cx-freeze.readthedocs.io/en/latest/distutils.html"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">в документации</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, некоторые из этих параметров мы еще будем использовать в дальнейшем.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Пока мы добавили единственный параметр в словарь </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">build_exe</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> - 'include_msvcr': True. Этот параметр говорит cx_Freeze, что нужно скопировать необходимые файлы *.dll из Microsoft Visual C++ Redistributable.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Но в последних версиях cx_Freeze есть некоторые непонятные моменты, связанные с этим параметром. По идее после запуска нового скрипта сборки с помощью команды</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock11"></a><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">p</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">ython setup.py build</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=11"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">должна создаться та же самая сборка, что и в предыдущем примере, но только в папке с программой должен появиться файл </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">vcruntime140.dll</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> (для Python 3.6). Во время написания этой статьи (напомню, что для тестирования примеров использовался cx_Freeze 5.0.2) этот файл не копировался. На github есть несколько обсуждений (</span><a href="https://github.com/anthony-tuininga/cx_Freeze/issues/275"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">#275</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">), где говорится, что этот файл не копируется при использовании virtualenv. Я пробовал запускать эти примеры и без virtualenv, файл </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">vcruntime140.dll</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> все равно не копировался. В одном из следующих примеров, когда мы будем собирать скрипт, создающий графический интерфейс с помощью библиотеки wxPython, этот файл появится. С чем связано такое поведение - пока загадка. Но при создании своих сборок имейте это в виду, может быть нужно будет копировать файлы Microsoft Visual C++ Redistributable вручную. В дальнейших примерах для общности везде будет добавлен параметр </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">include_msvcr</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">.</span></p>
<p style=" margin-top:17px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="clean"></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#2277aa;">5</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#2277aa;">. Избавляемся от лишних модулей</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Как мы видим, несмотря на то, что наш исходный скрипт Hello World явно не импортирует никакие модули, в сборку попало достаточно много файлов *.pyc и *.pyd. Некоторые из них нам явно не нужны (например, unittest, logging и другие). Полный размер сборки сейчас составляет 9.05 МБ, что для простого Hello World кажется излишним, хотя при современных размерах жестких дисков скорее всего не будет проблемой.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">cx_Freeze позволяет указать, какие модули не надо включать в создаваемую сборку. Сразу скажу, что этой возможностью надо пользоваться осторожно, особенно для больших программах. Python - язык с динамической типизацией и заранее нельзя сказать, какие модули понадобятся, а какие нет. Тут нужно все тестировать. Некоторые модули исключить не удастся, и cx_Freeze во время сборки напишет ошибку, другие модули можно не включить в сборку, но на самом деле они окажутся нужными (например, они могут использоваться другими модулями, которые вы используете), и в этом случае вы получите ошибку во время выполнения программы. Это особенно неприятно для больших программ. Таким образом вы можете исключить модуль, который используется в редком случае, и из-за этого не сразу обнаружить ошибку. Поэтому лучше убирать из сборки только те модули, в которых вы 100% уверены, что они не используются (модуль unittest обычно таким является).</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Чтобы исключить какие-либо модули из сборки, в словарь параметров </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">build_exe</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> нужно добавить ключ </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">excludes</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, значением которого должен быть список строк с именами модулей, которые нужно исключить. Давайте для начала исключим модули, которые нам явно не нужны. Добавим параметр </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">excludes</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> с небольшим списком модулей (</span><a href="https://github.com/Jenyay/cx_freeze_examples/tree/master/example%2003"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Example 03</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">):</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock12"></a><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;">#</span><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;"> coding: utf-8</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"><br /><br /></span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">from</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> cx_Freeze </span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">import</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> setup, Executable<br /><br />executables = [Executable(</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'example.py'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">)]<br /><br />excludes = [</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'unicodedata'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'logging'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'unittest'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'email'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'html'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'http'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'urllib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'xml'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'bz2'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">]<br /><br />options = {<br />    </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: {<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'include_msvcr'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">True</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'excludes'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: excludes,<br />    }<br />}<br /><br />setup(name=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'hello_world'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      version=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'0.0.3'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      description=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'My Hello World App!'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      executables=executables,<br />      options=options)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=12"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">После сборки заходим в папку </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">build\exe.win32-3.6\</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> или аналогичную ей и видим, что количество файлов и папок заметно уменьшилось:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image30127.png" /></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">В архиве </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">python36.zip</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> количество файлов тоже немного уменьшилось:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image543.png" /></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Общий размер сборки теперь составляет 5.93 МБ - размер уже уменьшился на треть. Обязательно надо убедиться, что программа работает.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">В реальном проекте, возможно, стоит на этом остановиться и не рисковать сломать программу, удаляя более мелкие модули. Но поскольку у нас очень простая программа, мы можем пойти дальше и путем перебора попробовать удалить как можно больше ненужных модулей. Через несколько (десятков?) итераций удаления и восстановления модулей получился следующий скрипт сборки (</span><a href="https://github.com/Jenyay/cx_freeze_examples/tree/master/example%2004"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Example 04</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">):</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock13"></a><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;">#</span><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;"> coding: utf-8</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"><br /><br /></span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">from</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> cx_Freeze </span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">import</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> setup, Executable<br /><br />executables = [Executable(</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'example.py'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">)]<br /><br />excludes = [</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'unicodedata'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'logging'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'unittest'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'email'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'html'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'http'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'urllib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'xml'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'pydoc'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'doctest'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'argparse'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'datetime'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'zipfile'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'subprocess'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'pickle'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'threading'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'locale'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'calendar'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'functools'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'weakref'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'tokenize'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'base64'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'gettext'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'heapq'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'re'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'operator'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'bz2'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'fnmatch'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'getopt'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'reprlib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'string'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'stringprep'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'contextlib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'quopri'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'copy'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'imp'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'keyword'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'linecache'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">]<br /><br />options = {<br />    </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: {<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'include_msvcr'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">True</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'excludes'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: excludes,<br />    }<br />}<br /><br />setup(name=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'hello_world'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      version=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'0.0.4'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      description=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'My Hello World App!'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      executables=executables,<br />      options=options)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=13"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">После его запуска с помощью команды </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">python setup.py build</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> сборка будет выглядеть следующим образом:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image22584.png" /></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">А в архиве </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">python36.zip</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> остались лишь следующие модули:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image27043.png" /></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">В архиве осталось всего 19 файлов из 100 первоначальных. Теперь сборка занимает 3.7 МБ. По-моему, неплохо. Но это еще не все.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Мы видим, что часть модулей находится в архиве </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">python36.zip</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> , а часть в отдельных папках в папке сборки. Это может быть неприятно из эстетических соображений, если вы не хотите видеть лишние служебные файлы и папки в сборке. На этот случай у cx_Freeze есть еще один параметр, который указывает, какие модули он должен обязательно помещать в архив. Но имейте в виду, что распаковка архива при работе программы тоже будет занимать время, поэтому запуск программы с заархивированными модулями будет медленнее. Насколько медленнее - надо измерять, возможно, скорость будет не заметна для пользователей (скорее всего так и будет).</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Чтобы указать, какие модули нужно обязательно поместить в архив, используется элемент с именем </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">zip_include_packages</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">словаря параметров </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">build_exe</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> . Этот элемент словаря должен содержать </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#000000;">список строк</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> с именами модулей (пакетов), которые нужно поместить в архив. В нашем случае скрипт сборки преобразуется к следующему виду (</span><a href="https://github.com/Jenyay/cx_freeze_examples/tree/master/example%2005"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Example 05</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">):</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock14"></a><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;">#</span><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;"> coding: utf-8</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"><br /><br /></span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">from</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> cx_Freeze </span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">import</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> setup, Executable<br /><br />executables = [Executable(</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'example.py'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">)]<br /><br />excludes = [</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'unicodedata'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'logging'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'unittest'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'email'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'html'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'http'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'urllib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'xml'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'pydoc'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'doctest'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'argparse'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'datetime'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'zipfile'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'subprocess'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'pickle'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'threading'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'locale'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'calendar'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'functools'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'weakref'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'tokenize'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'base64'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'gettext'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'heapq'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'re'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'operator'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'bz2'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'fnmatch'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'getopt'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'reprlib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'string'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'stringprep'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'contextlib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'quopri'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'copy'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'imp'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'keyword'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'linecache'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">]<br /><br />zip_include_packages = [</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'collections'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'encodings'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'importlib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">]<br /><br />options = {<br />    </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: {<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'include_msvcr'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">True</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'excludes'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: excludes,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'zip_include_packages'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: zip_include_packages,<br />    }<br />}<br /><br />setup(name=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'hello_world'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      version=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'0.0.5'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      description=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'My Hello World App!'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      executables=executables,<br />      options=options)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=14"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Запускаем сборку и смотрим на ее результат:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image10353.png" /></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Осталось всего лишь три файла!</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Указанные в скрипте сборки модули переместились в файл </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">python36.zip</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image18507.png" /></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Теперь сборка занимает всего лишь 3.45 МБ - по сравнению с исходными 9 МБ размер сократился почти в 3 раза. Еще раз напомню, что в сборку еще не были включены файлы из Microsoft Visual C++ Redistributable, которые почему-то не были помещены автоматически библиотекой cx_Freeze. Ну и, конечно, в этом примере было применено очень агрессивное исключение модулей, которые могут использоваться во многих других модулях. Обычно этого делать не стоит, чтобы не получить неожиданную ошибку. К тому же многие файлы *.pyc занимают всего лишь десятки кБ, из-за которых нет смысла рисковать.</span></p>
<p style=" margin-top:17px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="renames"></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#2277aa;">6</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#2277aa;">. Наводим красоту в сборке</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Мы создали запускаемую сборку нашей программы. По умолчанию она помещается в папку с именем вроде </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">build\exe.win32-3.6\</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> , имя которой зависит от версии Python, для которой происходила сборка. Во многих случаях можно на этом остановиться, но в больших проектах создание такой сборки - это лишь один промежуточный этап автоматического создания дистрибутива. После этого полученную сборку, возможно, нужно будет отправить на сервер для тестирования, может быть нужно будет запустить локальные тесты или создать из сборки инсталятор. Поэтому может оказаться, что такое имя папки неудобно или нужно сохранить сборку на другом диске. Все это, конечно, можно сделать сторонними скриптами, но cx_Freeze позволяет настраивать, куда будет помещена полученная сборка.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Давайте изменим файл </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">setup.py</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, таким образом, чтобы создаваемая сборка помещалась, например, в папку </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">build_windows</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">рядом со скриптами. Для этого снова нужно добавить новый параметр в словарь </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">build_exe</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">. Этот параметр тоже должен называться </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">build_exe</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> и хранить строку с папкой, куда должна помещаться сборка (</span><a href="https://github.com/Jenyay/cx_freeze_examples/tree/master/example%2006"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Example 06</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">):</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock15"></a><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;">#</span><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;"> coding: utf-8</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"><br /><br /></span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">from</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> cx_Freeze </span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">import</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> setup, Executable<br /><br />executables = [Executable(</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'example.py'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">)]<br /><br />excludes = [</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'unicodedata'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'logging'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'unittest'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'email'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'html'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'http'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'urllib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'xml'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'pydoc'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'doctest'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'argparse'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'datetime'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'zipfile'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'subprocess'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'pickle'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'threading'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'locale'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'calendar'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'functools'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'weakref'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'tokenize'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'base64'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'gettext'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'heapq'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'re'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'operator'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'bz2'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'fnmatch'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'getopt'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'reprlib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'string'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'stringprep'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'contextlib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'quopri'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'copy'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'imp'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'keyword'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'linecache'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">]<br /><br />zip_include_packages = [</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'collections'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'encodings'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'importlib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">]<br /><br />options = {<br />    </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: {<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'include_msvcr'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">True</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'excludes'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: excludes,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'zip_include_packages'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: zip_include_packages,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_windows'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />    }<br />}<br /><br />setup(name=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'hello_world'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      version=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'0.0.6'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      description=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'My Hello World App!'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      executables=executables,<br />      options=options)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=15"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Теперь после создания сборки рядом с файлами </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">example.py</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> и </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">setup.py</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> появится папка </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">build_windows</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, где будет находиться созданная сборка, ничем не отличающаяся от предыдущего примера.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image29600.png" /></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">По умолчанию cx_Freeze создает запускаемый файл, имя которого (без расширения) совпадает с именем запускаемого скрипта. То есть в нашем случае - </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">example.exe</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, поскольку наш запускаемый сприпт называется </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">example.py</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">. Часто нужно дать запускаемому файлу другое имя. Сделать это тоже очень просто, достаточно добавить еще один параметр, но на этот раз в конструктор класса </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">Executable</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">. Имя нужного нам параметра - </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">targetName</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">. Это должна быть строка, которая содержит имя создаваемого запускаемого файла. Поэтому, если мы хотим, чтобы cx_Freeze создал запускаемый файл </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">hello_world.exe</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, то предыдущий файл </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">setup.py</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> нужно изменить следующим образом (</span><a href="https://github.com/Jenyay/cx_freeze_examples/tree/master/example%2007"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Example 07</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">):</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock16"></a><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;">#</span><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;"> coding: utf-8</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"><br /><br /></span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">from</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> cx_Freeze </span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">import</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> setup, Executable<br /><br />executables = [Executable(</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'example.py'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, targetName=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'hello_world.exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">)]<br /><br />excludes = [</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'unicodedata'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'logging'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'unittest'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'email'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'html'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'http'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'urllib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'xml'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'pydoc'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'doctest'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'argparse'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'datetime'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'zipfile'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'subprocess'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'pickle'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'threading'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'locale'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'calendar'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'functools'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'weakref'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'tokenize'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'base64'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'gettext'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'heapq'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'re'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'operator'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'bz2'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'fnmatch'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'getopt'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'reprlib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'string'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'stringprep'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'contextlib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'quopri'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'copy'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'imp'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'keyword'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'linecache'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">]<br /><br />zip_include_packages = [</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'collections'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'encodings'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'importlib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">]<br /><br />options = {<br />    </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: {<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'include_msvcr'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">True</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'excludes'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: excludes,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'zip_include_packages'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: zip_include_packages,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_windows'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />    }<br />}<br /><br />setup(name=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'hello_world'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      version=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'0.0.7'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      description=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'My Hello World App!'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      executables=executables,<br />      options=options)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=16"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Запускаем сборку и видим, что в папке </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">build_windows</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> вместо </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">example.exe</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> появился файл </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">hello_world.exe</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image12774.png" /></p>
<p style=" margin-top:17px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="add"></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#2277aa;">7</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#2277aa;">. Добавление модулей в сборку</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">До сих пор мы только исключали лишние модули из создаваемой сборки с помощью параметра </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">excludes</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> словаря </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">build_exe</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">. Однако, импорт модулей в Python может происходить не только с помощью оператора </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">import</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, но и динамически по имени модуля с помощью функции '</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">_import_</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">', а может быть импорт будет осуществляться с использованием сложной логики, когда cx_Freeze не сможет понять, что нужно добавить какой-то модуль в сборку.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Давайте изменим наш пример таким образом, чтобы он импортировал модуль </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">json</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> таким образом, что cx_Freeze об этом не узнает (</span><a href="https://github.com/Jenyay/cx_freeze_examples/tree/master/example%2008"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Example 08</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">):</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock17"></a><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;">#</span><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;"> coding: utf-8</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"><br /><br /><br /></span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">if</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> __name__ == </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'__main__'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">:<br />    module = </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">__import__</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">(</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'json'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">)<br />    </span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">print</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">(</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'Hello world!'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=17"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Скрипт сборки </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">setup.py</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> пока останется неизменным. Запустим сборку с помощью команды </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">python setup.py build</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, ошибок при этом не возникнет, будет создана сборка в папке </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">build_windows</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Однако если теперь мы запустим созданный файл </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">hello_world.exe</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, то в консоль будет выведено информация об исключении:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock18"></a><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">&gt;</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> hello_world.exe<br /><br />Traceback (most recent call last):<br />  File &quot;C:\...\Python36\site-packages\cx_Freeze\initscripts\__startup__.py&quot;, line 14, in run<br />    module.run()<br />  File &quot;C:\...\Python36\site-packages\cx_Freeze\initscripts\Console.py&quot;, line 26, in run<br />    exec(code, m.__dict__)<br />  File &quot;example.py&quot;, line 5, in &lt;module&gt;<br />ModuleNotFoundError: No module named 'json'</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=18"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">На указанные пути обращать внимания не будем. Для нас сейчас главное, что мы получили ошибку времени исполнения. Надо ее исправлять, а именно нужно добавить модуль </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">json</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> в сборку.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Если для исключения модулей из сборку предназначен параметр </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">excludes</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, до для включения модуля в сборке используется параметр </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">includes</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, который тоже должен содержать список модулей, которые нужно добавить в сборку. Параметр </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">includes</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> так же должен входить в словарь </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">build_exe</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">. Добавим модуль </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">json</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> в этот список (</span><a href="https://github.com/Jenyay/cx_freeze_examples/tree/master/example%2008-1"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Example 08-1</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">):</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock19"></a><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;">#</span><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;"> coding: utf-8</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"><br /><br /></span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">from</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> cx_Freeze </span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">import</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> setup, Executable<br /><br />executables = [Executable(</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'example.py'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, targetName=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'hello_world.exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">)]<br /><br />excludes = [</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'unicodedata'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'logging'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'unittest'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'email'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'html'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'http'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'urllib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'xml'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'pydoc'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'doctest'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'argparse'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'datetime'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'zipfile'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'subprocess'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'pickle'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'threading'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'locale'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'calendar'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'functools'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'weakref'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'tokenize'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'base64'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'gettext'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'heapq'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'re'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'operator'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'bz2'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'fnmatch'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'getopt'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'reprlib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'string'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'stringprep'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'contextlib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'quopri'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'copy'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'imp'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'keyword'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'linecache'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">]<br /><br />includes = [</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'json'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">]<br /><br />zip_include_packages = [</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'collections'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'encodings'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'importlib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">]<br /><br />options = {<br />    </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: {<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'include_msvcr'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">True</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'excludes'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: excludes,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'includes'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: includes,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'zip_include_packages'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: zip_include_packages,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_windows'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />    }<br />}<br /><br />setup(name=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'hello_world'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      version=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'0.0.8'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      description=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'My Hello World App!'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      executables=executables,<br />      options=options)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=19"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Создаем сборку, заходим в папку </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">build_windows</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> и видим, что в ней появилась папка с именем </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">json</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image21365.png" /></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Но не спешим радоваться. При попытке запустить </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">hello_world.exe</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> мы получим новую ошибку:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock20"></a><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">&gt;</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> hello_world.exe<br />Traceback (most recent call last):<br />  File &quot;C:\...\Python36\site-packages\cx_Freeze\initscripts\__startup__.py&quot;, line 14, in run<br />    module.run()<br />  File &quot;C:\...\Python36\site-packages\cx_Freeze\initscripts\Console.py&quot;, line 26, in run<br />    exec(code, m.__dict__)<br />  File &quot;example.py&quot;, line 5, in &lt;module&gt;<br />  File &quot;C:\Program Files (x86)\Python36-32\lib\json\__init__.py&quot;, line 106, in &lt;module&gt;<br />    from .decoder import JSONDecoder, JSONDecodeError<br />  File &quot;C:\Program Files (x86)\Python36-32\lib\json\decoder.py&quot;, line 3, in &lt;module&gt;<br />    import re<br />ModuleNotFoundError: No module named 're'</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=20"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Теперь не хватает модуля для работы с регулярными выражениями </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">re</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">. Если мы посмотрим внимательнее на наш предыдущий файл </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">setup.py</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, то увидим, что этот модуль мы исключили из сборки с помощью параметра </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">excludes</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, а этот модуль, оказывается, используется в модуле </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">json</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">. Если мы исключим модуль </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">re</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> из списка </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">excludes</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, то это тоже не решит проблему, окажется, что еще нужны другие модули, которые вы выкинули из сборки. Я же предупреждал, что не надо увлекаться удалением модулей. Постепенно удаляя имена модулей из списка </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">excludes</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> можно добиться работоспособной сборки. Новый файл </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">setup.py</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> теперь выглядит следующим образом (</span><a href="https://github.com/Jenyay/cx_freeze_examples/tree/master/example%2008-2"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Example 08-2</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">):</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock21"></a><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;">#</span><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;"> coding: utf-8</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"><br /><br /></span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">from</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> cx_Freeze </span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">import</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> setup, Executable<br /><br />executables = [Executable(</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'example.py'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, targetName=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'hello_world.exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">)]<br /><br />excludes = [</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'unicodedata'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'logging'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'unittest'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'email'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'html'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'http'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'urllib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'xml'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'pydoc'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'doctest'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'argparse'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'datetime'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'zipfile'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'subprocess'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'pickle'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'threading'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'locale'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'calendar'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'tokenize'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'base64'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'gettext'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'bz2'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'fnmatch'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'getopt'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'string'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'stringprep'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'contextlib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'quopri'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'copy'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'imp'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'linecache'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">]<br /><br />includes = [</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'json'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">]<br /><br />zip_include_packages = [</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'collections'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'encodings'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'importlib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">]<br /><br />options = {<br />    </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: {<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'include_msvcr'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">True</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'excludes'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: excludes,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'includes'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: includes,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'zip_include_packages'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: zip_include_packages,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_windows'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />    }<br />}<br /><br />setup(name=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'hello_world'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      version=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'0.0.8'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      description=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'My Hello World App!'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      executables=executables,<br />      options=options)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=21"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Из списка </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">excludes</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> были убраны следующие модули: </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">re</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">functools</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">operator</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">keyword</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">heapq</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">reprlib</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">weakref</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Создаем сборку и получаем теперь уже работоспособное приложение. Если мы зайдем в папку </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">build_windows</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, то увидим, что внешне ничего не изменилось, в ней из перечисленных модулей значится только папка </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">json</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, остальные модули были помещены в архив </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">python36.zip</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image16922.png" /></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">И для аккуратности сделаем так, чтобы модуль </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">json</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> тоже был помещен в архив </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">python36.zip</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, добавим строку 'json' в параметр </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">zip_include_packages</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> (</span><a href="https://github.com/Jenyay/cx_freeze_examples/tree/master/example%2008-3"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Example 08-3</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">):</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock22"></a><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;">#</span><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;"> coding: utf-8</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"><br /><br /></span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">from</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> cx_Freeze </span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">import</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> setup, Executable<br /><br />executables = [Executable(</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'example.py'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, targetName=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'hello_world.exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">)]<br /><br />excludes = [</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'unicodedata'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'logging'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'unittest'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'email'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'html'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'http'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'urllib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'xml'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'pydoc'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'doctest'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'argparse'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'datetime'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'zipfile'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'subprocess'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'pickle'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'threading'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'locale'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'calendar'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'tokenize'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'base64'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'gettext'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'bz2'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'fnmatch'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'getopt'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'string'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'stringprep'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'contextlib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'quopri'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'copy'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'imp'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'linecache'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">]<br /><br />includes = [</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'json'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">]<br /><br />zip_include_packages = [</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'collections'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'encodings'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'importlib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'json'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">]<br /><br />options = {<br />    </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: {<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'include_msvcr'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">True</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'excludes'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: excludes,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'includes'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: includes,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'zip_include_packages'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: zip_include_packages,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_windows'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />    }<br />}<br /><br />setup(name=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'hello_world'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      version=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'0.0.8'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      description=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'My Hello World App!'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      executables=executables,<br />      options=options)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=22"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Теперь сборка выглядит аккуратно и состоит всего из трех файлов:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image741.png" /></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">А в архиве </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">python36.zip</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> появился модуль </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">json</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image17989.png" /></p>
<p style=" margin-top:17px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="several"></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#2277aa;">8</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#2277aa;">. Сборка нескольких запускаемых файлов</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Давайте вернемся к вопросу о том, зачем в качестве параметра </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">executables</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> функции </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">setup</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> должен быть передан </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#000000;">список</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">экземпляров класса </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">Executable</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, а не единственный экземпляр класса. Это полезно в тех случаях, когда ваше приложение состоит из нескольких запускаемых файлов. Например, это может быть основная программа и дополнительная программа для обновления основной программы, или может быть ваше приложение - это набор небольших утилит, написанных на Python. В этом случае для каждой такой программы надо делать отдельную сборку, но как быть с архивом модулей (</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">python36.zip</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> или аналогичного), ведь у каждой программы будет свой список импортируемых модулей? Именно поэтому cx_Freeze позволяет указывать список создаваемых запускаемых файлов, а в архив модулей будут помещены все необходимые модули для всех приложений.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Сделаем два простых скрипта в одной папке (</span><a href="https://github.com/Jenyay/cx_freeze_examples/tree/master/example%2009"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Example 09</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">).</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">hello_01.py:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock23"></a><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;">#</span><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;"> coding: utf-8</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"><br /><br /></span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">import</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> json<br /><br /><br /></span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">if</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> __name__ == </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'__main__'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">:<br />    </span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">print</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">(</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'Hello world 01!'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=23"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">hello_02.py:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock24"></a><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;">#</span><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;"> coding: utf-8</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"><br /><br /><br /></span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">if</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> __name__ == </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'__main__'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">:<br />    </span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">print</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">(</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'Hello world 02!'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=24"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Скрипт </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">hello_01.py</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> явно импортирует модуль </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">json</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, поэтому в файле </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">setup.py</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> мы не будем использовать параметр </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">includes</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> - cx_Freeze сам найдет все необходимые модули. Для скрипта </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">hello_02.py</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> модуль </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">json</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> не требуется. Для каждого из этих модулей мы должны создать свой экземпляр класса </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">Executable</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> в </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">setup.py</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, а остальное нам уже знакомо:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock25"></a><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;">#</span><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;"> coding: utf-8</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"><br /><br /></span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">from</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> cx_Freeze </span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">import</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> setup, Executable<br /><br />executables = [Executable(</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'hello_01.py'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, targetName=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'hello_world_01.exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">),<br />               Executable(</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'hello_02.py'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, targetName=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'hello_world_02.exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">),<br />               ]<br /><br />excludes = [</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'unicodedata'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'logging'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'unittest'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'email'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'html'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'http'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'urllib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'xml'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'pydoc'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'doctest'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'argparse'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'datetime'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'zipfile'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'subprocess'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'pickle'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'threading'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'locale'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'calendar'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'tokenize'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'base64'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'gettext'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'bz2'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'fnmatch'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'getopt'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'string'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'stringprep'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'contextlib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'quopri'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'copy'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'imp'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'linecache'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">]<br /><br />zip_include_packages = [</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'collections'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'encodings'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'importlib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'json'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">]<br /><br />options = {<br />    </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: {<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'include_msvcr'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">True</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'excludes'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: excludes,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'zip_include_packages'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: zip_include_packages,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_windows'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />    }<br />}<br /><br />setup(name=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'hello_world'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      version=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'0.0.9'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      description=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'My Hello World App!'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      executables=executables,<br />      options=options)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=25"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Запускаем сборку и видим, что в папке </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">build_windows</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> появились файлы </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">hello_world_01.exe</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> и </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">hello_world_02.exe</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image10000.png" /></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">А в архиве </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">python36.zip</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> имеется модуль </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">json</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, который нужен только для </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">hello_world_01.exe</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image3930.png" /></p>
<p style=" margin-top:17px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="add_files"></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#2277aa;">9</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#2277aa;">. Добавление дополнительных файлов в сборку</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">До сих пор у нас приложение состояло только из скриптов Python, но часто к скриптам должны прилагаться какие-нибудь файлы с данными. Давайте дополним один из предыдущих примеров, сделаем так, чтобы в отдельной папке с именем </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">data</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> хранился файл </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">data.json</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> с данными в формате JSON о том, кого программа должна приветствовать (</span><a href="https://github.com/Jenyay/cx_freeze_examples/tree/master/example%2010"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Example 10</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">):</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock26"></a><span style=" font-family:'monospace'; font-size:8.25pt; color:#009900;">{</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> <br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#3366cc;">&quot;first_name&quot;</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#339933;">:</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#3366cc;">&quot;John&quot;</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#339933;">,</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"><br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#3366cc;">&quot;last_name&quot;</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#339933;">:</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#3366cc;">&quot;Zoidberg&quot;</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"><br /></span><span style=" font-family:'monospace'; font-size:8.25pt; color:#009900;">}</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=26"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Т.е. общая структура файлов будет такой:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock27"></a><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">.</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"><br />│--example.py<br />│--setup.py<br />│<br />└───data<br />        data.json</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=27"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Скрипт </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">example.py</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> теперь выглядит так:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock28"></a><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;">#</span><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;"> coding: utf-8</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"><br /><br /></span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">import</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> json<br /><br /><br /></span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">if</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> __name__ == </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'__main__'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">:<br />    fname = </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'data/data.json'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"><br />    with </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">open</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">(fname) </span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">as</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> fp:<br />        obj = json.</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#813d27;">load</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">(fp)<br /><br />    </span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">print</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">(</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'Hello {} {}!'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">.</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#813d27;">format</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">(obj[</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'first_name'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">], obj[</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'last_name'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">]))</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=28"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Если мы воспользуемся одним из предыдущих скриптов </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">setup.py</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> и запустим полученный файл .exe, то мы получим ошибку из-за того, что папка </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">data</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> не будет скопирована в папку со сборкой. На этот случай у cx_Freeze есть еще один параметр </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">include_files</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, который тоже должен входить в словарь </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">build_exe</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> и содержать либо список, в который могут входить либо строковые элементы с именами файлов или папок, которые нужно добавить к сборке, либо кортежи, показывающие, как исходные файлы должны быть переименованы (об этом мы поговорим чуть позже).</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Пока сделаем, чтобы папка </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">data</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> была добавлена к сборке.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock29"></a><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;">#</span><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;"> coding: utf-8</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"><br /><br /></span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">from</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> cx_Freeze </span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">import</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> setup, Executable<br /><br />executables = [Executable(</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'example.py'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, targetName=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'hello_world.exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">)]<br /><br />excludes = [</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'unicodedata'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'logging'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'unittest'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'email'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'html'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'http'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'urllib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'xml'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'pydoc'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'doctest'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'argparse'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'datetime'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'zipfile'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'subprocess'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'pickle'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'threading'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'locale'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'calendar'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'tokenize'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'base64'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'gettext'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'bz2'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'fnmatch'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'getopt'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'string'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'stringprep'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'contextlib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'quopri'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'copy'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'imp'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'linecache'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">]<br /><br />zip_include_packages = [</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'collections'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'encodings'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'importlib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'json'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">]<br /><br />include_files = [</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'data'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">]<br /><br />options = {<br />    </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: {<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'include_msvcr'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">True</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'excludes'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: excludes,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'zip_include_packages'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: zip_include_packages,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_windows'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'include_files'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: include_files,<br />    }<br />}<br /><br />setup(name=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'hello_world'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      version=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'0.0.10'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      description=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'My Hello World App!'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      executables=executables,<br />      options=options)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=29"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">После удачной сборки папка </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">build_windows</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> будет выглядеть следующим образом:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image21547.png" /></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">И приложение </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">hello_world.exe</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> при запуске поприветствует доктора Зойдберга (пока не залез в Википедию, не знал, что его зовут Джон).</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Давайте немного усложним задачу. Пусть исходники у нас включают в себя файлы </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">readme.txt</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> и </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">documentation.txt</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, которые не используются в скрипте (он останется прежним), но эти файлы хотелось бы добавить в сборку, при этом файл </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">documentation.txt</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">нужно поместить в отдельную папку </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">doc</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> и переименовать в </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">doc.txt</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> (</span><a href="https://github.com/Jenyay/cx_freeze_examples/tree/master/example%2011"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Example 11</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">).</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image29600.png" /></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Для этого воспользуемся тем, что в список </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">include_files</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> можно включать не только строки, но и кортежи из двух элементов. Первый элемент кортежа должен быть строкой с именем исходного файла, а второй элемент - именем этого файла в папке сборки, при этом исходный файл можно помещать в поддиректории.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Наш новый файл </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">setup.py</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> теерь выглядит так:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock30"></a><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;">#</span><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;"> coding: utf-8</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"><br /><br /></span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">from</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> cx_Freeze </span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">import</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> setup, Executable<br /><br />executables = [Executable(</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'example.py'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, targetName=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'hello_world.exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">)]<br /><br />excludes = [</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'unicodedata'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'logging'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'unittest'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'email'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'html'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'http'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'urllib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'xml'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'pydoc'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'doctest'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'argparse'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'datetime'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'zipfile'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'subprocess'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'pickle'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'threading'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'locale'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'calendar'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'tokenize'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'base64'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'gettext'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'bz2'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'fnmatch'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'getopt'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'string'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'stringprep'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'contextlib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'quopri'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'copy'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'imp'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'linecache'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">]<br /><br />includes = [</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'json'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">]<br /><br />zip_include_packages = [</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'collections'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'encodings'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'importlib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'json'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">]<br /><br />include_files = [</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'data'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />                 </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'readme.txt'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />                 (</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'documentation.txt'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'doc/doc.txt'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">),<br />                 ]<br /><br />options = {<br />    </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: {<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'include_msvcr'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">True</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'excludes'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: excludes,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'includes'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: includes,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'zip_include_packages'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: zip_include_packages,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_windows'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'include_files'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: include_files,<br />    }<br />}<br /><br />setup(name=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'hello_world'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      version=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'0.0.11'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      description=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'My Hello World App!'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      executables=executables,<br />      options=options)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=30"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Запускаем сборку и убеждаемся, что новые файлы были скопированы в папку сборки:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image22198.png" /></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1924.png" /></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Это очень полезная возможность при создании сборок.</span></p>
<p style=" margin-top:17px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="gui"></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#2277aa;">1</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#2277aa;">0. Создание приложений с графическим интерфейсом</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">До сих пор мы создавали запускаемые файлы для консольных приложений, но если вы разрабатываете программу для обычных пользователей, то им нужен графический интерфейс (GUI). Для создания графического интерфейса на Python существует много библиотек, которые в основном являются оболочками над библиотеками, написанными на C или C++. Наиболее известные из них - Tkinter (входит в стандартную библиотеку Python), PyQt, PySide, wxPython и др. В этой статье для примера рассмотрим использование библиотеки </span><a href="https://wxpython.org/"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">wxPython</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, которая является оболочкой поверх библиотеки </span><a href="https://www.wxwidgets.org/"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">wxWidgets</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">. В примерах будет использоваться wxPython 4.0, которая на момент написания статьи имеет статус пока еще альфа-версии, зато в отличие от предыдущих версий может устанавливаться из PyPi с помощью pip.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Устанавливается wxPython 4.0 обычным способом:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock31"></a><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">p</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">ip install wxpython</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=31"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">или, если вы хотите установить wxPython только для своего пользователя (в этом случае не требуются права администратора):</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock32"></a><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">p</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">ip install wxpython --user</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=32"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Сделаем простейшее приложение, которое создает пустое окно с заголовком &quot;Hello wxPython&quot;. Поскольку данная статья не является учебником по wxPython, то не будем подробно останавливаться на использовании этой библиотеки, хотя я думаю, что код такого простого приложения достаточно понятен (</span><a href="https://github.com/Jenyay/cx_freeze_examples/tree/master/example%2012"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Example 12</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">).</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock33"></a><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;">#</span><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;"> example.py</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"><br /><br /></span><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;"># coding: utf-8</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"><br /><br /></span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">import</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> wx<br /><br /><br /></span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">class</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> MyApp(wx.</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#813d27;">App</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">):<br />    </span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">def</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> OnInit(</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">self</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">):<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">self</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">.</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#813d27;">mainWnd</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> = wx.</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#813d27;">Frame</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">(</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">None</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, -1, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">&quot;&quot;</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">)<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">self</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">.</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#813d27;">SetTopWindow</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">(</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">self</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">.</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#813d27;">mainWnd</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">)<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">self</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">.</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#813d27;">mainWnd</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">.</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#813d27;">SetTitle</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">(</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'Hello wxPython'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">)<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">self</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">.</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#813d27;">mainWnd</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">.</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#813d27;">Show</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">()<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">return</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">True</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"><br /><br /><br /></span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">if</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> __name__ == </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">&quot;__main__&quot;</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">:<br />    app = MyApp(</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">False</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">)<br />    app.</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#813d27;">MainLoop</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=33"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Создадим скрипт сборки </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">setup.py</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, в котором пока тоже нет ничего необычного:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock34"></a><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;">#</span><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;"> coding: utf-8</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"><br /><br /></span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">from</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> cx_Freeze </span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">import</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> setup, Executable<br /><br />executables = [Executable(</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'example.py'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, targetName=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'hello_wx.exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">)]<br /><br />excludes = [</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'logging'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'unittest'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'email'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'html'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'http'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'urllib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'xml'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'unicodedata'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'bz2'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'select'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">]<br /><br />zip_include_packages = [</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'collections'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'encodings'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'importlib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'wx'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">]<br /><br />options = {<br />    </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: {<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'include_msvcr'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">True</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'excludes'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: excludes,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'zip_include_packages'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: zip_include_packages,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_windows'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />    }<br />}<br /><br />setup(name=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'hello_world'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      version=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'0.0.12'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      description=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'My Hello World App!'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      executables=executables,<br />      options=options)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=34"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Единственное отличие от предыдущих примеров заключается в том, что в список исключаемых модулей (параметр </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">excludes</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> в </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">build_exe</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">) включены только некоторые модули, которые нам явно не нужны, а модуль </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">wx</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> добавлен в список </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">zip_include_packages</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, чтобы файлы *pyc из библиотеки wxPython попали в архив </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">python36.zip</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Запускаем сборку с помощью команды</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock35"></a><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">p</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">ython setup.py build</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=35"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Теперь содержимое папки </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">build_windows</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> выглядит следующим образом:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image19351.png" /></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Появились новые файлы *.dll и *.pyd, относящиеся в wxPython. С ними ничего не поделаешь, их трогать нельзя. Обратите внимание, что появились файлы </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">MSVCP140.dll</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> и </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">VCRUNTIME140.dll</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, относящиеся к Microsoft Visual C++ Redistributable. Если мы посмотрим на лог работы cx_Freeze, то увидим, что эти файлы были скопированы не из папки, где находится запускаемый файл интерпретатора Python, а из папки библиотеки wxPython:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Copying data from package pydoc_data... <br />copying C:\Program Files (x86)\Python36-32\DLLs\_hashlib.pyd -&gt; build_windows\_hashlib.pyd <br />copying C:\Program Files (x86)\Python36-32\DLLs\_lzma.pyd -&gt; build_windows\_lzma.pyd <br />copying C:\Program Files (x86)\Python36-32\DLLs\_socket.pyd -&gt; build_windows\_socket.pyd <br />copying C:\Users\jenyay\AppData\Roaming\Python\Python36\site-packages\wx\_core.cp36-win32.pyd -&gt; build_windows\wx._core.pyd <br />copying C:\Users\jenyay\AppData\Roaming\Python\Python36\site-packages\wx\wxbase30u_vc140.dll -&gt; build_windows\wxbase30u_vc140.dll <br /></span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#000000;">copying C:\Users\jenyay\AppData\Roaming\Python\Python36\site-packages\wx\MSVCP140.dll -&gt; build_windows\MSVCP140.dll</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> <br /></span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#000000;">copying C:\Users\jenyay\AppData\Roaming\Python\Python36\site-packages\wx\VCRUNTIME140.dll -&gt; build_windows\VCRUNTIME140.dll</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> <br />copying C:\Users\jenyay\AppData\Roaming\Python\Python36\site-packages\wx\wxbase30u_net_vc140.dll -&gt; build_windows\wxbase30u_net_vc140.dll <br />copying C:\Users\jenyay\AppData\Roaming\Python\Python36\site-packages\wx\wxmsw30u_core_vc140.dll -&gt; build_windows\wxmsw30u_core_vc140.dll <br />copying C:\Users\jenyay\AppData\Roaming\Python\Python36\site-packages\wx\siplib.cp36-win32.pyd -&gt; build_windows\wx.siplib.pyd</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Поэтому появление этих файлов не связано с параметром </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">include_msvcr</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, который мы всегда устанавливаем в </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">True</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">. Если мы уберем этот параметр или присвоим ему значение </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">False</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, файлы </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">MSVCP140.dll</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> и </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">VCRUNTIME140.dll</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> не пропадут из сборки. Это еще раз доказывает, что появлению этих файлов мы обязаны библиотеки wxPython, а не cx_Freeze.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Если заглянуть в архив </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">python36.zip</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, то внутри мы увидим следующие файлы:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image3547.png" /></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Здесь может быть достаточно трудно понять, какие модули нужны, а какие лишние, поэтому лучше все оставить как есть.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Если мы теперь запустим созданный файл </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">hello_wx.exe</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, то увидим одну особенность - появилось графическое окно, но кроме него на заднем фоне открылось также консольное окно.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image9673.png" /></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">В этом нет ничего удивительного, ведь для запуска скриптов используется интерпретатор Python </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">python.exe</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, который является консольным приложением. Но понятно, что обычному пользователю программу в таком виде отдавать нельзя, консольное окно нужно убрать.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Для этого в cx_Freeze предусмотрен специальный параметр конструктора класса </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">Executable</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, который называется </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">base</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">. До сих пор мы не использовали этот параметр, что равносильно использованию значения &quot;Console&quot;, что означает, что мы создаем консольное приложение. Другие возможные значения параметра </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">base</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> это &quot;Win32GUI&quot; и &quot;Win32Service&quot;.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Для того, чтобы избавиться от фонового консольного окна, достаточно в конструктор класса </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">Executable</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> передать параметр </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">base=&quot;Win32GUI&quot;</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">. Сделаем это ((</span><a href="https://github.com/Jenyay/cx_freeze_examples/tree/master/example%2012-1"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Example 12-1</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">)):</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock36"></a><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;">#</span><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;"> coding: utf-8</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"><br /><br /></span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">from</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> cx_Freeze </span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">import</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> setup, Executable<br /><br />executables = [Executable(</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'example.py'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />                          targetName=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'hello_wx.exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />                          base=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'Win32GUI'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">)]<br /><br />excludes = [</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'logging'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'unittest'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'email'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'html'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'http'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'urllib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'xml'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'unicodedata'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'bz2'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'select'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">]<br /><br />zip_include_packages = [</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'collections'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'encodings'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'importlib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'wx'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">]<br /><br />options = {<br />    </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: {<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'include_msvcr'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">True</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'excludes'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: excludes,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'zip_include_packages'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: zip_include_packages,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_windows'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />    }<br />}<br /><br />setup(name=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'hello_world'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      version=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'0.0.12'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      description=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'My Hello World App!'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      executables=executables,<br />      options=options)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=36"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Если теперь выполнить сборку и запустить приложение </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">hello_wx.exe</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, то появится графическое окно без фонового консольного окна:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image25409.png" /></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Как видите, никаких проблем с созданием графических приложений с использованием библиотеки wxPython нет.</span></p>
<p style=" margin-top:17px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="icon"></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#2277aa;">1</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#2277aa;">1. Установка иконки приложения</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Библиотека cx_Freeze позволяет устанавливать иконку для создаваемых запускаемых файлов. До сих пор мы не устанавливали иконку, поэтому в Windows использовалась картинка по умолчанию для запускаемых файлов:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image30399.png" /></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Чтобы поменять иконку запускаемого файла, достаточно в конструктор класса </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">Executable</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> передать параметр </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">icon</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, который должен содержать строку с именем файла иконки. К нашему следующему примеру (</span><a href="https://github.com/Jenyay/cx_freeze_examples/tree/master/example%2013"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Example 13</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">) прилагается высокохудожественная иконка, которая будет установлена для файла </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">hello_wx.exe</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">. Чтобы ее установить, добавим в конструктор класса </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">Executable</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> параметр </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">icon</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, который принимает строку с именем иконки для приложения:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock37"></a><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;">#</span><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;"> coding: utf-8</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"><br /><br /></span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">from</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> cx_Freeze </span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">import</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> setup, Executable<br /><br />executables = [Executable(</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'example.py'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />                          targetName=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'hello_wx.exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />                          base=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'Win32GUI'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />                          icon=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'example.ico'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">)]<br /><br />excludes = [</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'logging'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'unittest'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'email'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'html'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'http'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'urllib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'xml'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'unicodedata'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'bz2'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'select'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">]<br /><br />zip_include_packages = [</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'collections'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'encodings'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'importlib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'wx'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">]<br /><br />options = {<br />    </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: {<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'include_msvcr'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">True</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'excludes'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: excludes,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'zip_include_packages'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: zip_include_packages,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_windows'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />    }<br />}<br /><br />setup(name=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'hello_world'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      version=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'0.0.13'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      description=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'My Hello World App!'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      executables=executables,<br />      options=options)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=37"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">В результате сборки запускаемый файл в проводнике Windows будет выглядеть следующим образом:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1412.png" /></p>
<p style=" margin-top:17px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="msi"></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#2277aa;">1</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#2277aa;">2. Создание инсталятора MSI</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Кроме создания запускаемых файлов cx_Freeze позволяет создавать то, что под Windows называется инсталятором, а под Linux - пакетами. Под Windows cx_Freeze умеет создавать инсталятор в формате MSI, под Linux - пакеты в формате RPM, а под Mac OS X - пакеты .app и .dmg. В этой статье мы рассмотрим только создание инсталятора под Windows.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Давайте сделаем инсталятор на основе предыдущего примера. Единственное, что нам нужно будет сделать - убрать из словаря </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">build_exe</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> параметр </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">build_exe</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, изменяющий папку для сборки. Как это ни странно, но если он установлен, то создатель инсталятора все равно ищет созданные файлы в папке, подразумеваемой по умолчанию. Возможно, это ошибка в cx_Freeze.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Новый скрипт для создания инсталятора ничем не примечателен по сравнению со скриптом для создания запускаемого файла (</span><a href="https://github.com/Jenyay/cx_freeze_examples/tree/master/example%2014"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Example 14</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">):</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock38"></a><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;">#</span><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;"> coding: utf-8</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"><br /><br /></span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">from</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> cx_Freeze </span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">import</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> setup, Executable<br /><br />executables = [Executable(</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'example.py'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />                          targetName=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'hello_wx.exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />                          base=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'Win32GUI'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />                          icon=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'example.ico'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">)]<br /><br />excludes = [</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'logging'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'unittest'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'email'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'html'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'http'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'urllib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'xml'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'unicodedata'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'bz2'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'select'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">]<br /><br />zip_include_packages = [</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'collections'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'encodings'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'importlib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'wx'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">]<br /><br />options = {<br />    </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: {<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'include_msvcr'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">True</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'excludes'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: excludes,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'zip_include_packages'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: zip_include_packages,<br />    }<br />}<br /><br />setup(name=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'hello_world'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      version=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'0.0.14'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      description=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'My Hello World App!'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      executables=executables,<br />      options=options)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=38"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Для того, чтобы создать инсталятор под Windows, вместо команды </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">build</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> мы должны использовать команду </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">bdist_msi</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock39"></a><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">p</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">ython setup.py bdist_msi</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=39"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#000000;">Внимание!</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> Для того, чтобы инсталятор успешно создался, путь до скрипта сборки </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">setup.py</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> не должен содержать русские или другие не латинские буквы, иначе вы получите исключение:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Traceback (most recent call last):</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">  File &quot;setup.py&quot;, line 27, in &lt;module&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">    options=options)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">  File &quot;C:\Users\jenyay\AppData\Roaming\Python\Python36\site-packages\cx_Freeze\dist.py&quot;, line 349, in setup</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">    distutils.core.setup(**attrs)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">  File &quot;C:\Program Files (x86)\Python36-32\lib\distutils\core.py&quot;, line 148, in setup</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">    dist.run_commands()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">  File &quot;C:\Program Files (x86)\Python36-32\lib\distutils\dist.py&quot;, line 955, in run_commands</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">    self.run_command(cmd)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">  File &quot;C:\Program Files (x86)\Python36-32\lib\distutils\dist.py&quot;, line 974, in run_command</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">    cmd_obj.run()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">  File &quot;C:\Users\jenyay\AppData\Roaming\Python\Python36\site-packages\cx_Freeze\windist.py&quot;, line 392, in run</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">    self.add_files()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">  File &quot;C:\Users\jenyay\AppData\Roaming\Python\Python36\site-packages\cx_Freeze\windist.py&quot;, line 133, in add_files</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">    cab.commit(db)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">  File &quot;C:\Program Files (x86)\Python36-32\lib\msilib\__init__.py&quot;, line 217, in commit</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">    FCICreate(filename, self.files)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">ValueError: FCI error 1</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">После удачной сборки появятся две папки: папка </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">build</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, внутри которой будет уже знакомая нам папка </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">exe.win32-3.6</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> (мы ведь удалили параметр </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">build_exe</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">), и папка </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">dist</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, внутри которой будет лежать файл </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">hello_world-0.0.15-win32.msi</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">. МЫ сделали очень простой инсталятор, если его запустить, то единственное, что он спросит пользователя, это папка, куда устанавливать программу:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image13999.png" /></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Сейчас инсталятор даже не создает иконку в меню &quot;Пуск&quot;, давайте ее добавим (</span><a href="https://github.com/Jenyay/cx_freeze_examples/tree/master/example%2014-1"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Example 14-1</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">). В исправленном файле </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">setup.py</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">мы передадим два новых параметра в конструктор класса </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">Executable</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> - </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">shortcutName</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> и </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">shortcutDir</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">. Параметр </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">shortcutName</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">задает имя, которое будет отображаться в меню &quot;Пуск&quot;, а </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">shortcutDir</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> должно быть строкой из </span><a href="https://msdn.microsoft.com/en-us/library/aa370905v=vs.85.aspx#System_Folder_Properties"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">этой таблицы</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, указывающей, в какую системную папку следует поместить ярлык. В нашем случае мы поместим ярлык в C:\ProgramData\Microsoft\Windows\Start Menu\Programs, что задается параметром shortcutDir='ProgramMenuFolder'.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock40"></a><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;">#</span><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;"> coding: utf-8</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"><br /><br /></span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">from</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> cx_Freeze </span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">import</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> setup, Executable<br /><br />executables = [Executable(</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'example.py'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />                          targetName=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'hello_wx.exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />                          base=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'Win32GUI'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />                          icon=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'example.ico'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />                          shortcutName=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'Hello wxPython Application'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />                          shortcutDir=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'ProgramMenuFolder'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">)]<br /><br />excludes = [</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'logging'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'unittest'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'email'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'html'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'http'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'urllib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'xml'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />            </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'unicodedata'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'bz2'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'select'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">]<br /><br />zip_include_packages = [</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'collections'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'encodings'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'importlib'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'wx'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">]<br /><br />options = {<br />    </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'build_exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: {<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'include_msvcr'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">True</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'excludes'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: excludes,<br />        </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'zip_include_packages'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">: zip_include_packages,<br />    }<br />}<br /><br />setup(name=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'hello_world'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      version=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'0.0.14'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      description=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'My Hello World App!'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      executables=executables,<br />      options=options)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=40"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Если теперь выполнить команду </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">python setup.py bdist_msi</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, после чего запустить инсталятор и выполнить установку программы, то в меню &quot;Пуск&quot; появится иконка нашей программы:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image7982.png" /></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Создание MSI - это большая тема, достойная отдельной статьи, поэтому здесь мы ограничимся совсем коротким примером. К сожалению, в документации по cx_Freeze эта тема очень плохо описана, если вы хотите гибко настраивать параметры создаваемого инсталятора, то можете начать с этих двух ссылок - </span><a href="https://bitbucket.org/anthony_tuininga/cx_freeze/issues/48/documentation-of-how-to-create-desktop-or"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">раз</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> и </span><a href="https://stackoverflow.com/questions/15734703/use-cx-freeze-to-create-an-msi-that-adds-a-shortcut-to-the-desktop"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">два</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, но готовьтесь к тому, что вам придется разобраться с тем, как устроен формат MSI по MSDN. Хотя в документации к cx_Freeze говорится, что для создания сложных инсталяторов лучше использовать сторонние приложения, например </span><a href="http://www.jrsoftware.org/isinfo.php"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Inno Setup</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">.</span></p>
<p style=" margin-top:17px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="cxfreeze_quickstart"></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#2277aa;">1</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#2277aa;">3. Скрипт cxfreeze-quickstart для создания файла setup.py</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">До сих пор мы предполагали, что файл </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">setup.py</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> мы создавали сами с чистого листа. В этом нет ничего сложного, но для облегчения создания этого файла к библиотеке cx_Freeze прилагается скрипт </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">cxfreeze-quickstart</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">. После запуска этого скрипта он предложит ответить на несколько вопросов и создаст заготовку с уже частично настроенным файлом </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">setup.py</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Но прежде, чем демонстрировать работу этого скрипта, надо сказать пару слов о запуске его под Windows. Дело в том, что скрипт </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">cxfreeze-quickstart</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> поставляется в виде python-скрипта в формате, принятом в Linux - в виде файла с именем </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">cxfreeze-quickstart</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> без расширения. Под Windows этот файл расположен в папке </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">Scripts</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> внутри папки с Python. Например, если вы устанавливали cx_Freeze без использования virtualenv в папку пользователя (без использования прав администратора), то это будет папка </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">C:\Users\USERNAME\AppData\Roaming\Python\Scripts\</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> .</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Содержимое файла </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">cxfreeze-quickstart</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> очень короткое:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock41"></a><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;">#</span><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;">!c:\python27\python.exe</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"><br /></span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">from</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> cx_Freeze.</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#813d27;">setupwriter</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">import</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> main<br /><br />main()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=41"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Под Windows, если вы хотите использовать скрипт </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">cxfreeze-quickstart</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> проще всего скопировать его из указанной выше папки в папку с вашим проектом, переименовать его в </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">cxfreeze-quickstart.py</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> и запустить с помощью команды</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock42"></a><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">p</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">ython cxfreeze-quickstart.py</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=42"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Давайте запустим его и введем некоторые параметры (</span><a href="https://github.com/Jenyay/cx_freeze_examples/tree/master/example%2015"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Example 15</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">):</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f9f9f9;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">$ python cxfreeze-quickstart.py</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#000000;">Project name:</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> My project <br /></span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#000000;">Version [1.0]:</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> 0.0.14 <br /></span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#000000;">Description:</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> Example for article. <br /></span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#000000;">Python file to make executable from:</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> example_15.py <br /></span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#000000;">Executable file name [example_15]:</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> hello.exe <br /></span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#000000;">(C)onsole application, (G)UI application, or (S)ervice [C]:</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> G <br /></span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#000000;">Save setup script to [setup.py]:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">'''Setup script written to setup.py; run it as:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Lucida Console,Andale Mono,Courier New,Courier,monospace'; font-size:8.25pt; color:#000000;">    python setup.py build</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Run this now [n]?''' n</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Для наглядности строки, которые выводит скрипт </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">cxfreeze-quickstart</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">, выделены полужирным шрифтом.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">После того, как мы ответим на все вопросы, будет создан файл </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">setup.py</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> со следующим содержимым:</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1%; background-color:#f1f0ed;"><a name="sourceblock43"></a><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">f</span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">rom</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> cx_Freeze </span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">import</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> setup, Executable<br /><br /></span><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;"># Dependencies are automatically detected, but it might need</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"><br /></span><span style=" font-family:'monospace'; font-size:8.25pt; font-style:italic; color:#12961d;"># fine tuning.</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"><br />buildOptions = </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">dict</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">(packages = [], excludes = [])<br /><br /></span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">import</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#8a4114;">sys</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"><br />base = </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'Win32GUI'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">if</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#8a4114;">sys</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">.</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#8a4114;">platform</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">==</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'win32'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:8.25pt; font-weight:600; color:#0000ff;">else</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">None</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;"><br /><br />executables = [<br />    Executable(</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'example_15.py'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">, base=base, targetName = </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'hello.exe'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">)<br />]<br /><br />setup(name=</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'My project'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      version = </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'0.0.15'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      description = </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#483d8b;">'Example for article.'</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">,<br />      options = </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#0000ff;">dict</span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">(build_exe = buildOptions),<br />      executables = executables)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://jenyay.net/Programming/Cxfreeze?action=sourceblock&amp;num=43"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">Исходник</span></a></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">А дальше мы можем заполнять недостающие параметры самостоятельно.</span></p>
<p style=" margin-top:17px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="outro"></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#2277aa;">1</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#2277aa;">4. Заключение</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Мы рассмотрели основы использования библиотеки cx_Freeze для создания запускаемых файлов из python-скриптов. Мы научились создавать файл с параметрами сборки, который обычно называется </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">setup.py</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> , как с нуля, так и с помощью скрипта </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">cxfreeze-quickstart</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">. Разобрались с некоторыми параметрами, которые влияют на создание запускаемых файлов, а именно: как исключать лишние модули из сборки, как добавлять необходимые модули вручную, как менять папку для сборки. Мы рассмотрели особенности создания запускаемых файлов из скриптов, создающих графический интерфейс на примере wxPython, рассмотрели основы для создания инсталятора MSI под Windows.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">Но библиотека cx_Freeze предлагает еще больше возможностей, которые остались за рамками статьи. Например, мы ничего не сказали о задании параметров сборки через командную строку (эти параметры могут заменять параметры, указанные в файле </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">setup.py</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">). Мы ничего не сказали о сборке запускаемых файлов и инсталяторов под другие операционные системы (Linux и Mac OS). Также за рамками статьи остались некоторые параметры, которые можно использовать в скрипте сборки </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-style:italic; color:#000000;">setup.py</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">. Обо всем этом вы можете прочитать в </span><a href="http://cx-freeze.readthedocs.io/en/latest"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">официальной документации</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> библиотеки cx_Freeze.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">И в завершение надо сказать, что cx_Freeze </span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; font-weight:600; color:#000000;">не</span><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;"> позволяет делать. Во-первых, с помощью cx_Freeze вы можете делать сборки только под ту операционную систему, в которой вы работаете в данный момент, т.е. cx_Freeze - не инструмент для кросскомпиляции. И, во-вторых, в отличие от других подобных инструментов (например, </span><a href="http://www.pyinstaller.org/"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">pyInstaller</span></a><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">), cx_Freeze не позволяет упаковать все необходимые файлы в один exe-шник.</span></p>
<p style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; color:#000000;">На этом мы закончим статью, надеюсь, что она будет вам полезна. Еще раз напомню ссылку на github, где вы можете скачать все примеры, используемые в статье - </span><a href="https://github.com/Jenyay/cx_freeze_examples"><span style=" font-family:'sans-serif,Arial,Helvetica'; font-size:8.25pt; text-decoration: underline; color:#244b80; background-color:transparent;">https://github.com/Jenyay/cx_freeze_examples</span></a></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'MS Shell Dlg 2'; font-size:8.25pt;"><br /></p></body></html>