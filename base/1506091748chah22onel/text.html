<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Courier New'; font-style:italic; color:#808080;">#!/usr/bin/env python<br /><br /></span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">import </span><span style=" font-family:'Courier New'; color:#000000;">pickle<br /><br /></span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">from </span><span style=" font-family:'Courier New'; color:#000000;">PyQt4 </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">import </span><span style=" font-family:'Courier New'; color:#000000;">QtCore, QtGui<br /><br /><br /></span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">class </span><span style=" font-family:'FreeMono'; font-weight:600; color:#6a1009;">SortedDict(dict):</span><span style=" font-family:'Courier New'; color:#000000;">				</span><span style=" font-family:'FreeMono'; font-weight:600; color:#6a1009;"># интересная структура сортировки</span><span style=" font-family:'Courier New'; color:#000000;"><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">class </span><span style=" font-family:'Courier New'; color:#000000;">Iterator(</span><span style=" font-family:'Courier New'; color:#000080;">object</span><span style=" font-family:'Courier New'; color:#000000;">):<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">def </span><span style=" font-family:'Courier New'; color:#b200b2;">__init__</span><span style=" font-family:'Courier New'; color:#000000;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">, sorted_dict):<br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">._dict = sorted_dict<br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">._keys = </span><span style=" font-family:'Courier New'; color:#000080;">sorted</span><span style=" font-family:'Courier New'; color:#000000;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">._dict.keys())<br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">._nr_items = </span><span style=" font-family:'Courier New'; color:#000080;">len</span><span style=" font-family:'Courier New'; color:#000000;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">._keys)<br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">._idx = </span><span style=" font-family:'Courier New'; color:#0000ff;">0<br /><br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">def </span><span style=" font-family:'Courier New'; color:#b200b2;">__iter__</span><span style=" font-family:'Courier New'; color:#000000;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">):<br />            </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">return </span><span style=" font-family:'Courier New'; color:#94558d;">self<br /><br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">def </span><span style=" font-family:'Courier New'; color:#000000;">next(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">):<br />            </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">if </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">._idx &gt;= </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">._nr_items:<br />                </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">raise </span><span style=" font-family:'Courier New'; color:#000080;">StopIteration<br /><br />            </span><span style=" font-family:'Courier New'; color:#000000;">key = </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">._keys[</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">._idx]<br />            value = </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">._dict[key]<br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">._idx += </span><span style=" font-family:'Courier New'; color:#0000ff;">1<br /><br />            </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">return </span><span style=" font-family:'Courier New'; color:#000000;">key, value<br /><br />        </span><span style=" font-family:'Courier New'; color:#b200b2;">__next__ </span><span style=" font-family:'Courier New'; color:#000000;">= next<br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">def </span><span style=" font-family:'Courier New'; color:#b200b2;">__iter__</span><span style=" font-family:'Courier New'; color:#000000;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">):<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">return </span><span style=" font-family:'Courier New'; color:#000000;">SortedDict.Iterator(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">)<br /><br />    iterkeys = </span><span style=" font-family:'Courier New'; color:#b200b2;">__iter__<br /><br /><br /></span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">class </span><span style=" font-family:'Courier New'; color:#000000;">AddressBook(QtGui.QWidget):<br />    NavigationMode, AddingMode, EditingMode = </span><span style=" font-family:'Courier New'; color:#000080;">range</span><span style=" font-family:'Courier New'; color:#000000;">(</span><span style=" font-family:'Courier New'; color:#0000ff;">3</span><span style=" font-family:'Courier New'; color:#000000;">)<br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">def </span><span style=" font-family:'Courier New'; color:#b200b2;">__init__</span><span style=" font-family:'Courier New'; color:#000000;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">, parent=</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">None</span><span style=" font-family:'Courier New'; color:#000000;">):<br />        </span><span style=" font-family:'Courier New'; color:#000080;">super</span><span style=" font-family:'Courier New'; color:#000000;">(AddressBook, </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">).</span><span style=" font-family:'Courier New'; color:#b200b2;">__init__</span><span style=" font-family:'Courier New'; color:#000000;">(parent)<br /><br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.contacts = SortedDict()<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.oldName = </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">''<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.oldAddress = </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">''<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.currentMode = </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.NavigationMode<br /><br />        nameLabel = QtGui.QLabel(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;Name:&quot;</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.nameLine = QtGui.QLineEdit()<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.nameLine.setReadOnly(</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">True</span><span style=" font-family:'Courier New'; color:#000000;">)<br /><br />        addressLabel = QtGui.QLabel(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;Address:&quot;</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.addressText = QtGui.QTextEdit()<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.addressText.setReadOnly(</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">True</span><span style=" font-family:'Courier New'; color:#000000;">)<br /><br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.addButton = QtGui.QPushButton(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;&amp;Add&quot;</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.addButton.show()<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.editButton = QtGui.QPushButton(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;&amp;Edit&quot;</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.editButton.setEnabled(</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">False</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.removeButton = QtGui.QPushButton(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;&amp;Remove&quot;</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.removeButton.setEnabled(</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">False</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.findButton = QtGui.QPushButton(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;&amp;Find&quot;</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.findButton.setEnabled(</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">False</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.submitButton = QtGui.QPushButton(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;&amp;Submit&quot;</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.submitButton.hide()<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.cancelButton = QtGui.QPushButton(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;&amp;Cancel&quot;</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.cancelButton.hide()<br /><br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.nextButton = QtGui.QPushButton(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;&amp;Next&quot;</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.nextButton.setEnabled(</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">False</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.previousButton = QtGui.QPushButton(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;&amp;Previous&quot;</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.previousButton.setEnabled(</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">False</span><span style=" font-family:'Courier New'; color:#000000;">)<br /><br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.loadButton = QtGui.QPushButton(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;&amp;Load...&quot;</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.loadButton.setToolTip(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;Load contacts from a file&quot;</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.saveButton = QtGui.QPushButton(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;Sa&amp;ve...&quot;</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.saveButton.setToolTip(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;Save contacts to a file&quot;</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.saveButton.setEnabled(</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">False</span><span style=" font-family:'Courier New'; color:#000000;">)<br /><br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.exportButton = QtGui.QPushButton(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;Ex&amp;port&quot;</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.exportButton.setToolTip(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;Export as vCard&quot;</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.exportButton.setEnabled(</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">False</span><span style=" font-family:'Courier New'; color:#000000;">)<br /><br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.dialog = FindDialog()<br /><br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.addButton.clicked.connect(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.addContact)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.submitButton.clicked.connect(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.submitContact)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.editButton.clicked.connect(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.editContact)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.removeButton.clicked.connect(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.removeContact)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.findButton.clicked.connect(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.findContact)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.cancelButton.clicked.connect(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.cancel)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.nextButton.clicked.connect(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.next)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.previousButton.clicked.connect(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.previous)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.loadButton.clicked.connect(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.loadFromFile)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.saveButton.clicked.connect(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.saveToFile)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.exportButton.clicked.connect(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.exportAsVCard)<br /><br />        buttonLayout1 = QtGui.QVBoxLayout()<br />        buttonLayout1.addWidget(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.addButton)<br />        buttonLayout1.addWidget(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.editButton)<br />        buttonLayout1.addWidget(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.removeButton)<br />        buttonLayout1.addWidget(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.findButton)<br />        buttonLayout1.addWidget(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.submitButton)<br />        buttonLayout1.addWidget(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.cancelButton)<br />        buttonLayout1.addWidget(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.loadButton)<br />        buttonLayout1.addWidget(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.saveButton)<br />        buttonLayout1.addWidget(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.exportButton)<br />        buttonLayout1.addStretch()<br /><br />        buttonLayout2 = QtGui.QHBoxLayout()<br />        buttonLayout2.addWidget(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.previousButton)<br />        buttonLayout2.addWidget(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.nextButton)<br /><br />        mainLayout = QtGui.QGridLayout()<br />        mainLayout.addWidget(nameLabel, </span><span style=" font-family:'Courier New'; color:#0000ff;">0</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; color:#0000ff;">0</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        mainLayout.addWidget(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.nameLine, </span><span style=" font-family:'Courier New'; color:#0000ff;">0</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; color:#0000ff;">1</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        mainLayout.addWidget(addressLabel, </span><span style=" font-family:'Courier New'; color:#0000ff;">1</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; color:#0000ff;">0</span><span style=" font-family:'Courier New'; color:#000000;">, QtCore.Qt.AlignTop)<br />        mainLayout.addWidget(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.addressText, </span><span style=" font-family:'Courier New'; color:#0000ff;">1</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; color:#0000ff;">1</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        mainLayout.addLayout(buttonLayout1, </span><span style=" font-family:'Courier New'; color:#0000ff;">1</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; color:#0000ff;">2</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        mainLayout.addLayout(buttonLayout2, </span><span style=" font-family:'Courier New'; color:#0000ff;">2</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; color:#0000ff;">1</span><span style=" font-family:'Courier New'; color:#000000;">)<br /><br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.setLayout(mainLayout)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.setWindowTitle(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;Simple Address Book&quot;</span><span style=" font-family:'Courier New'; color:#000000;">)<br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">def </span><span style=" font-family:'FreeMono'; font-weight:600; color:#6a1009;">addContact(self):</span><span style=" font-family:'Courier New'; color:#000000;"><br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.oldName = </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.nameLine.text()<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.oldAddress = </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.addressText.toPlainText()<br /><br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.nameLine.clear()<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.addressText.clear()<br /><br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.updateInterface(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.AddingMode)<br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">def </span><span style=" font-family:'Courier New'; color:#000000;">editContact(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">):<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.oldName = </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.nameLine.text()<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.oldAddress = </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.addressText.toPlainText()<br /><br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.updateInterface(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.EditingMode)<br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">def </span><span style=" font-family:'Courier New'; color:#000000;">submitContact(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">):<br />        name = </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.nameLine.text()<br />        address = </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.addressText.toPlainText()<br /><br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">if </span><span style=" font-family:'Courier New'; color:#000000;">name == </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;&quot; </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">or </span><span style=" font-family:'Courier New'; color:#000000;">address == </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;&quot;</span><span style=" font-family:'Courier New'; color:#000000;">:<br />            QtGui.QMessageBox.information(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;Empty Field&quot;</span><span style=" font-family:'Courier New'; color:#000000;">,<br />                    </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;Please enter a name and address.&quot;</span><span style=" font-family:'Courier New'; color:#000000;">)<br />            </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">return<br /><br />        if </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.currentMode == </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.AddingMode:<br />            </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">if </span><span style=" font-family:'Courier New'; color:#000000;">name </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">not in </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.contacts:<br />                </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.contacts[name] = address<br />                QtGui.QMessageBox.information(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;Add Successful&quot;</span><span style=" font-family:'Courier New'; color:#000000;">,<br />                        </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">\&quot;</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">%s</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">\&quot;</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;"> has been added to your address book.&quot; </span><span style=" font-family:'Courier New'; color:#000000;">% name)<br />            </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">else</span><span style=" font-family:'Courier New'; color:#000000;">:<br />                QtGui.QMessageBox.information(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;Add Unsuccessful&quot;</span><span style=" font-family:'Courier New'; color:#000000;">,<br />                        </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;Sorry, </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">\&quot;</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">%s</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">\&quot;</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;"> is already in your address book.&quot; </span><span style=" font-family:'Courier New'; color:#000000;">% name)<br />                </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">return<br /><br />        elif </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.currentMode == </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.EditingMode:<br />            </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">if </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.oldName != name:<br />                </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">if </span><span style=" font-family:'Courier New'; color:#000000;">name </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">not in </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.contacts:<br />                    QtGui.QMessageBox.information(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;Edit Successful&quot;</span><span style=" font-family:'Courier New'; color:#000000;">,<br />                            </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">\&quot;</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">%s</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">\&quot;</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;"> has been edited in your address book.&quot; </span><span style=" font-family:'Courier New'; color:#000000;">% </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.oldName)<br />                    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">del </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.contacts[</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.oldName]<br />                    </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.contacts[name] = address<br />                </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">else</span><span style=" font-family:'Courier New'; color:#000000;">:<br />                    QtGui.QMessageBox.information(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;Edit Unsuccessful&quot;</span><span style=" font-family:'Courier New'; color:#000000;">,<br />                            </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;Sorry, </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">\&quot;</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">%s</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">\&quot;</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;"> is already in your address book.&quot; </span><span style=" font-family:'Courier New'; color:#000000;">% name)<br />                    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">return<br />            elif </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.oldAddress != address:<br />                QtGui.QMessageBox.information(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;Edit Successful&quot;</span><span style=" font-family:'Courier New'; color:#000000;">,<br />                        </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">\&quot;</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">%s</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">\&quot;</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;"> has been edited in your address book.&quot; </span><span style=" font-family:'Courier New'; color:#000000;">% name)<br />                </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.contacts[name] = address<br /><br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.updateInterface(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.NavigationMode)<br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">def </span><span style=" font-family:'Courier New'; color:#000000;">cancel(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">):<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.nameLine.setText(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.oldName)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.addressText.setText(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.oldAddress)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.updateInterface(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.NavigationMode)<br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">def </span><span style=" font-family:'Courier New'; color:#000000;">removeContact(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">):<br />        name = </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.nameLine.text()<br />        </span><span style=" font-family:'Courier New'; color:#808080;">address </span><span style=" font-family:'Courier New'; color:#000000;">= </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.addressText.toPlainText()<br /><br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">if </span><span style=" font-family:'Courier New'; color:#000000;">name </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">in </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.contacts:<br />            button = QtGui.QMessageBox.question(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;Confirm Remove&quot;</span><span style=" font-family:'Courier New'; color:#000000;">,<br />                    </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;Are you sure you want to remove </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">\&quot;</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">%s</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">\&quot;</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">?&quot; </span><span style=" font-family:'Courier New'; color:#000000;">% name,<br />                    QtGui.QMessageBox.Yes | QtGui.QMessageBox.No)<br /><br />            </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">if </span><span style=" font-family:'Courier New'; color:#000000;">button == QtGui.QMessageBox.Yes:<br />                </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.previous()<br />                </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">del </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.contacts[name]<br /><br />                QtGui.QMessageBox.information(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;Remove Successful&quot;</span><span style=" font-family:'Courier New'; color:#000000;">,<br />                        </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">\&quot;</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">%s</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">\&quot;</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;"> has been removed from your address book.&quot; </span><span style=" font-family:'Courier New'; color:#000000;">% name)<br /><br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.updateInterface(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.NavigationMode)<br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">def </span><span style=" font-family:'Courier New'; color:#000000;">next(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">):<br />        name = </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.nameLine.text()<br />        it = </span><span style=" font-family:'Courier New'; color:#000080;">iter</span><span style=" font-family:'Courier New'; color:#000000;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.contacts)<br /><br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">try</span><span style=" font-family:'Courier New'; color:#000000;">:<br />            </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">while True</span><span style=" font-family:'Courier New'; color:#000000;">:<br />                this_name, _ = it.next()<br /><br />                </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">if </span><span style=" font-family:'Courier New'; color:#000000;">this_name == name:<br />                    next_name, next_address = it.next()<br />                    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">break<br />        except </span><span style=" font-family:'Courier New'; color:#000080;">StopIteration</span><span style=" font-family:'Courier New'; color:#000000;">:<br />            next_name, next_address = </span><span style=" font-family:'Courier New'; color:#000080;">iter</span><span style=" font-family:'Courier New'; color:#000000;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.contacts).next()<br /><br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.nameLine.setText(next_name)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.addressText.setText(next_address)<br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">def </span><span style=" font-family:'Courier New'; color:#000000;">previous(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">):<br />        name = </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.nameLine.text()<br /><br />        prev_name = prev_address = </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">None<br />        for </span><span style=" font-family:'Courier New'; color:#000000;">this_name, this_address </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">in </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.contacts:<br />            </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">if </span><span style=" font-family:'Courier New'; color:#000000;">this_name == name:<br />                </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">break<br /><br />            </span><span style=" font-family:'Courier New'; color:#000000;">prev_name = this_name<br />            prev_address = this_address<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">else</span><span style=" font-family:'Courier New'; color:#000000;">:<br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.nameLine.clear()<br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.addressText.clear()<br />            </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">return<br /><br />        if </span><span style=" font-family:'Courier New'; color:#000000;">prev_name </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">is None</span><span style=" font-family:'Courier New'; color:#000000;">:<br />            </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">for </span><span style=" font-family:'Courier New'; color:#000000;">prev_name, prev_address </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">in </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.contacts:<br />                </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">pass<br /><br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.nameLine.setText(prev_name)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.addressText.setText(prev_address)<br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">def </span><span style=" font-family:'Courier New'; color:#000000;">findContact(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">):<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.dialog.show()<br /><br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">if </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.dialog.exec_() == QtGui.QDialog.Accepted:<br />            contactName = </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.dialog.getFindText()<br /><br />            </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">if </span><span style=" font-family:'Courier New'; color:#000000;">contactName </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">in </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.contacts:<br />                </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.nameLine.setText(contactName)<br />                </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.addressText.setText(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.contacts[contactName])<br />            </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">else</span><span style=" font-family:'Courier New'; color:#000000;">:<br />                QtGui.QMessageBox.information(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;Contact Not Found&quot;</span><span style=" font-family:'Courier New'; color:#000000;">,<br />                        </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;Sorry, </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">\&quot;</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">%s</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">\&quot;</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;"> is not in your address book.&quot; </span><span style=" font-family:'Courier New'; color:#000000;">% contactName)<br />                </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">return<br /><br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.updateInterface(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.NavigationMode)<br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">def </span><span style=" font-family:'Courier New'; color:#000000;">updateInterface(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">, mode):<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.currentMode = mode<br /><br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">if </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.currentMode </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">in </span><span style=" font-family:'Courier New'; color:#000000;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.AddingMode, </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.EditingMode):<br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.nameLine.setReadOnly(</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">False</span><span style=" font-family:'Courier New'; color:#000000;">)<br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.nameLine.setFocus(QtCore.Qt.OtherFocusReason)<br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.addressText.setReadOnly(</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">False</span><span style=" font-family:'Courier New'; color:#000000;">)<br /><br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.addButton.setEnabled(</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">False</span><span style=" font-family:'Courier New'; color:#000000;">)<br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.editButton.setEnabled(</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">False</span><span style=" font-family:'Courier New'; color:#000000;">)<br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.removeButton.setEnabled(</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">False</span><span style=" font-family:'Courier New'; color:#000000;">)<br /><br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.nextButton.setEnabled(</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">False</span><span style=" font-family:'Courier New'; color:#000000;">)<br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.previousButton.setEnabled(</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">False</span><span style=" font-family:'Courier New'; color:#000000;">)<br /><br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.submitButton.show()<br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.cancelButton.show()<br /><br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.loadButton.setEnabled(</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">False</span><span style=" font-family:'Courier New'; color:#000000;">)<br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.saveButton.setEnabled(</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">False</span><span style=" font-family:'Courier New'; color:#000000;">)<br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.exportButton.setEnabled(</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">False</span><span style=" font-family:'Courier New'; color:#000000;">)<br /><br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">elif </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.currentMode == </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.NavigationMode:<br />            </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">if not </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.contacts:<br />                </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.nameLine.clear()<br />                </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.addressText.clear()<br /><br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.nameLine.setReadOnly(</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">True</span><span style=" font-family:'Courier New'; color:#000000;">)<br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.addressText.setReadOnly(</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">True</span><span style=" font-family:'Courier New'; color:#000000;">)<br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.addButton.setEnabled(</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">True</span><span style=" font-family:'Courier New'; color:#000000;">)<br /><br />            number = </span><span style=" font-family:'Courier New'; color:#000080;">len</span><span style=" font-family:'Courier New'; color:#000000;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.contacts)<br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.editButton.setEnabled(number &gt;= </span><span style=" font-family:'Courier New'; color:#0000ff;">1</span><span style=" font-family:'Courier New'; color:#000000;">)<br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.removeButton.setEnabled(number &gt;= </span><span style=" font-family:'Courier New'; color:#0000ff;">1</span><span style=" font-family:'Courier New'; color:#000000;">)<br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.findButton.setEnabled(number &gt; </span><span style=" font-family:'Courier New'; color:#0000ff;">2</span><span style=" font-family:'Courier New'; color:#000000;">)<br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.nextButton.setEnabled(number &gt; </span><span style=" font-family:'Courier New'; color:#0000ff;">1</span><span style=" font-family:'Courier New'; color:#000000;">)<br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.previousButton.setEnabled(number &gt;</span><span style=" font-family:'Courier New'; color:#0000ff;">1 </span><span style=" font-family:'Courier New'; color:#000000;">)<br /><br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.submitButton.hide()<br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.cancelButton.hide()<br /><br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.exportButton.setEnabled(number &gt;= </span><span style=" font-family:'Courier New'; color:#0000ff;">1</span><span style=" font-family:'Courier New'; color:#000000;">)<br /><br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.loadButton.setEnabled(</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">True</span><span style=" font-family:'Courier New'; color:#000000;">)<br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.saveButton.setEnabled(number &gt;= </span><span style=" font-family:'Courier New'; color:#0000ff;">1</span><span style=" font-family:'Courier New'; color:#000000;">)<br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">def </span><span style=" font-family:'Courier New'; color:#000000;">saveToFile(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">):<br />        fileName = QtGui.QFileDialog.getSaveFileName(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">,<br />                </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;Save Address Book&quot;</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">''</span><span style=" font-family:'Courier New'; color:#000000;">,<br />                </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;Address Book (*.abk);;All Files (*)&quot;</span><span style=" font-family:'Courier New'; color:#000000;">)<br /><br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">if not </span><span style=" font-family:'Courier New'; color:#000000;">fileName:<br />            </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">return<br /><br />        try</span><span style=" font-family:'Courier New'; color:#000000;">:<br />            out_file = </span><span style=" font-family:'Courier New'; color:#000080;">open</span><span style=" font-family:'Courier New'; color:#000000;">(</span><span style=" font-family:'Courier New'; color:#000080;">str</span><span style=" font-family:'Courier New'; color:#000000;">(fileName), </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">'wb'</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">except </span><span style=" font-family:'Courier New'; color:#000080;">IOError</span><span style=" font-family:'Courier New'; color:#000000;">:<br />            QtGui.QMessageBox.information(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;Unable to open file&quot;</span><span style=" font-family:'Courier New'; color:#000000;">,<br />                    </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;There was an error opening </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">\&quot;</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">%s</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">\&quot;</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot; </span><span style=" font-family:'Courier New'; color:#000000;">% fileName)<br />            </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">return<br /><br />        </span><span style=" font-family:'Courier New'; color:#000000;">pickle.dump(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.contacts, out_file)<br />        out_file.close()<br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">def </span><span style=" font-family:'Courier New'; color:#000000;">loadFromFile(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">):<br />        fileName = QtGui.QFileDialog.getOpenFileName(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">,<br />                </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;Open Address Book&quot;</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">''</span><span style=" font-family:'Courier New'; color:#000000;">,<br />                </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;Address Book (*.abk);;All Files (*)&quot;</span><span style=" font-family:'Courier New'; color:#000000;">)<br /><br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">if not </span><span style=" font-family:'Courier New'; color:#000000;">fileName:<br />            </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">return<br /><br />        try</span><span style=" font-family:'Courier New'; color:#000000;">:<br />            in_file = </span><span style=" font-family:'Courier New'; color:#000080;">open</span><span style=" font-family:'Courier New'; color:#000000;">(</span><span style=" font-family:'Courier New'; color:#000080;">str</span><span style=" font-family:'Courier New'; color:#000000;">(fileName), </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">'rb'</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">except </span><span style=" font-family:'Courier New'; color:#000080;">IOError</span><span style=" font-family:'Courier New'; color:#000000;">:<br />            QtGui.QMessageBox.information(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;Unable to open file&quot;</span><span style=" font-family:'Courier New'; color:#000000;">,<br />                    </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;There was an error opening </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">\&quot;</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">%s</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">\&quot;</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot; </span><span style=" font-family:'Courier New'; color:#000000;">% fileName)<br />            </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">return<br /><br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.contacts = pickle.load(in_file)<br />        in_file.close()<br /><br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">if </span><span style=" font-family:'Courier New'; color:#000080;">len</span><span style=" font-family:'Courier New'; color:#000000;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.contacts) == </span><span style=" font-family:'Courier New'; color:#0000ff;">0</span><span style=" font-family:'Courier New'; color:#000000;">:<br />            QtGui.QMessageBox.information(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;No contacts in file&quot;</span><span style=" font-family:'Courier New'; color:#000000;">,<br />                    </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;The file you are attempting to open contains no &quot;<br />                    &quot;contacts.&quot;</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">else</span><span style=" font-family:'Courier New'; color:#000000;">:<br />            </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">for </span><span style=" font-family:'Courier New'; color:#000000;">name, address </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">in </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.contacts:<br />                </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.nameLine.setText(name)<br />                </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.addressText.setText(address)<br /><br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.updateInterface(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.NavigationMode)<br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">def </span><span style=" font-family:'Courier New'; color:#000000;">exportAsVCard(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">):<br />        name = </span><span style=" font-family:'Courier New'; color:#000080;">str</span><span style=" font-family:'Courier New'; color:#000000;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.nameLine.text())<br />        address = </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.addressText.toPlainText()<br /><br />        nameList = name.split()<br /><br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">if </span><span style=" font-family:'Courier New'; color:#000080;">len</span><span style=" font-family:'Courier New'; color:#000000;">(nameList) &gt; </span><span style=" font-family:'Courier New'; color:#0000ff;">1</span><span style=" font-family:'Courier New'; color:#000000;">:<br />            firstName = nameList[</span><span style=" font-family:'Courier New'; color:#0000ff;">0</span><span style=" font-family:'Courier New'; color:#000000;">]<br />            lastName = nameList[-</span><span style=" font-family:'Courier New'; color:#0000ff;">1</span><span style=" font-family:'Courier New'; color:#000000;">]<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">else</span><span style=" font-family:'Courier New'; color:#000000;">:<br />            firstName = name<br />            lastName = </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">''<br /><br />        </span><span style=" font-family:'Courier New'; color:#000000;">fileName = QtGui.QFileDialog.getSaveFileName(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;Export Contact&quot;</span><span style=" font-family:'Courier New'; color:#000000;">,<br />                </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">''</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;vCard Files (*.vcf);;All Files (*)&quot;</span><span style=" font-family:'Courier New'; color:#000000;">)<br /><br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">if not </span><span style=" font-family:'Courier New'; color:#000000;">fileName:<br />            </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">return<br /><br />        </span><span style=" font-family:'Courier New'; color:#000000;">out_file = QtCore.QFile(fileName)<br /><br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">if not </span><span style=" font-family:'Courier New'; color:#000000;">out_file.open(QtCore.QIODevice.WriteOnly):<br />            QtGui.QMessageBox.information(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;Unable to open file&quot;</span><span style=" font-family:'Courier New'; color:#000000;">,<br />                    out_file.errorString())<br />            </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">return<br /><br />        </span><span style=" font-family:'Courier New'; color:#000000;">out_s = QtCore.QTextStream(out_file)<br /><br />        out_s &lt;&lt; </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">'BEGIN:VCARD' </span><span style=" font-family:'Courier New'; color:#000000;">&lt;&lt; </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">'</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">\n</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">'<br />        </span><span style=" font-family:'Courier New'; color:#000000;">out_s &lt;&lt; </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">'VERSION:2.1' </span><span style=" font-family:'Courier New'; color:#000000;">&lt;&lt; </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">'</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">\n</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">'<br />        </span><span style=" font-family:'Courier New'; color:#000000;">out_s &lt;&lt; </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">'N:' </span><span style=" font-family:'Courier New'; color:#000000;">&lt;&lt; lastName &lt;&lt; </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">';' </span><span style=" font-family:'Courier New'; color:#000000;">&lt;&lt; firstName &lt;&lt; </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">'</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">\n</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">'<br />        </span><span style=" font-family:'Courier New'; color:#000000;">out_s &lt;&lt; </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">'FN:' </span><span style=" font-family:'Courier New'; color:#000000;">&lt;&lt; </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">' '</span><span style=" font-family:'Courier New'; color:#000000;">.join(nameList) &lt;&lt; </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">'</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">\n</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">'<br /><br />        </span><span style=" font-family:'Courier New'; color:#000000;">address.replace(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">';'</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">'</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">\\</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">;'</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        address.replace(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">'</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">\n</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">'</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">';'</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        address.replace(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">','</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">' '</span><span style=" font-family:'Courier New'; color:#000000;">)<br /><br />        out_s &lt;&lt; </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">'ADR;HOME:;' </span><span style=" font-family:'Courier New'; color:#000000;">&lt;&lt; address &lt;&lt; </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">'</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">\n</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">'<br />        </span><span style=" font-family:'Courier New'; color:#000000;">out_s &lt;&lt; </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">'END:VCARD' </span><span style=" font-family:'Courier New'; color:#000000;">&lt;&lt; </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">'</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">\n</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">'<br /><br />        </span><span style=" font-family:'Courier New'; color:#000000;">QtGui.QMessageBox.information(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;Export Successful&quot;</span><span style=" font-family:'Courier New'; color:#000000;">,<br />                </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">\&quot;</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">%s</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">\&quot;</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;"> has been exported as a vCard.&quot; </span><span style=" font-family:'Courier New'; color:#000000;">% name)<br /><br /><br /></span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">class </span><span style=" font-family:'FreeMono'; font-weight:600; color:#6a1009;">FindDialog(QtGui.QDialog):				# переопределение окна поиска</span><span style=" font-family:'Courier New'; color:#000000;"><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">def </span><span style=" font-family:'Courier New'; color:#b200b2;">__init__</span><span style=" font-family:'Courier New'; color:#000000;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">, parent=</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">None</span><span style=" font-family:'Courier New'; color:#000000;">):<br />        </span><span style=" font-family:'Courier New'; color:#000080;">super</span><span style=" font-family:'Courier New'; color:#000000;">(FindDialog, </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">).</span><span style=" font-family:'Courier New'; color:#b200b2;">__init__</span><span style=" font-family:'Courier New'; color:#000000;">(parent)<br /><br />        findLabel = QtGui.QLabel(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;Enter the name of a contact:&quot;</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.lineEdit = QtGui.QLineEdit()<br /><br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.</span><span style=" font-family:'Courier New'; color:#000000; background-color:#ffe4ff;">findButton</span><span style=" font-family:'Courier New'; color:#000000;"> = QtGui.QPushButton(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;&amp;Find&quot;</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.findText = </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">''<br /><br />        </span><span style=" font-family:'Courier New'; color:#000000;">layout = QtGui.QHBoxLayout()<br />        layout.addWidget(findLabel)<br />        layout.addWidget(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.lineEdit)<br />        layout.addWidget(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.</span><span style=" font-family:'Courier New'; color:#000000; background-color:#e4e4ff;">findButton</span><span style=" font-family:'Courier New'; color:#000000;">)<br /><br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.setLayout(layout)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.setWindowTitle(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;Find a Contact&quot;</span><span style=" font-family:'Courier New'; color:#000000;">)<br /><br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.</span><span style=" font-family:'Courier New'; color:#000000; background-color:#e4e4ff;">findButton</span><span style=" font-family:'Courier New'; color:#000000;">.clicked.connect(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.findClicked)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.</span><span style=" font-family:'Courier New'; color:#000000; background-color:#e4e4ff;">findButton</span><span style=" font-family:'Courier New'; color:#000000;">.clicked.connect(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.accept)<br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">def </span><span style=" font-family:'Courier New'; color:#000000;">findClicked(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">):<br />        text = </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.lineEdit.text()<br /><br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">if not </span><span style=" font-family:'Courier New'; color:#000000;">text:<br />            QtGui.QMessageBox.information(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;Empty Field&quot;</span><span style=" font-family:'Courier New'; color:#000000;">,<br />                    </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">&quot;Please enter a name.&quot;</span><span style=" font-family:'Courier New'; color:#000000;">)<br />            </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">return<br /><br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.findText = text<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.lineEdit.clear()<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.hide()<br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">def </span><span style=" font-family:'Courier New'; color:#000000;">getFindText(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">):<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">return </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.findText<br /><br /><br /></span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">if </span><span style=" font-family:'Courier New'; color:#000000;">__name__ == </span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">'__main__'</span><span style=" font-family:'Courier New'; color:#000000;">:<br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">import </span><span style=" font-family:'Courier New'; color:#000000;">sys<br /><br />    app = QtGui.QApplication(sys.argv)<br /><br />    addressBook = AddressBook()<br />    addressBook.show()<br /><br />    sys.exit(app.exec_())<br /></span></p></body></html>