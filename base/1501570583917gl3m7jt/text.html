<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="block-system-main"></a><span style=" font-size:14px; color:#333333;">Назначение в Linux иконки для программы</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="block-system-main"></a><span style=" font-size:14px; color:#333333;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="block-system-main"></a><span style=" font-family:'Georgia,Times New Roman,Times,serif'; font-size:8.25pt; color:#333333;">В</span><span style=" font-family:'Georgia,Times New Roman,Times,serif'; font-size:8.25pt; color:#333333;"> большинстве используемых в Linux свободных сред рабочего стола назначение иконки для программы описывается стандартом freedesktop.org. Более подробно об этом можно прочитать на сайте freedesktop.org, по адресу: </span><a href="http://standards.freedesktop.org/icon-theme-spec/icon-theme-spec-latest.html"><span style=" font-family:'Georgia,Times New Roman,Times,serif'; font-size:8.25pt; text-decoration: underline; color:#006600;">http://standards.freedesktop.org/icon-theme-spec/icon-theme-spec-latest.html</span></a><span style=" font-family:'Georgia,Times New Roman,Times,serif'; font-size:8.25pt; color:#333333;">. Впрочем, спецификация freedesktop.org, если её читать с самого начала, выглядит очень запутанной. Поэтому я здесь помещаю самые основы, нужные для назначения иконки для программы.</span></p>
<p style=" margin-top:0px; margin-bottom:16px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Georgia,Times New Roman,Times,serif'; font-size:8.25pt; color:#333333;">Согласно этой спецификации, иконки для программы могут быть разными. Они могут быть разных размеров и относиться к разным темам рабочего стола. Разработчику программы, чтобы назначить иконку для своего приложения, нужно поместить как минимум одно изображение для темы &quot;hicolor&quot;, в формате PNG, размером 48x48 пикселей. Иконки обычно размещаются в директориях иконок для конкретных тем, которые, в свою очередь, располагаются в директории &quot;/usr/share/icons/&quot;. Заглянув в эту директорию, обычно можно увидеть в ней несколько вложенных директорий - это как раз и есть директории тем иконок. Если среди них найти &quot;hicolor&quot;, то в ней будет много директорий, названных по форматам иконок - &quot;16x16&quot;, &quot;24x24&quot;, &quot;48x48&quot;, и так далее. В этих директориях можно найти иконки в формате PNG указанного размера. Для иконок в формате SVG - формата масштабируемой векторной графики - есть директория &quot;scalable&quot;. Однако, в этих директориях с форматами иконок, вместо самих иконок также лежат директории с названиями вроде &quot;actions&quot;, &quot;animations&quot;, &quot;apps&quot;, и так далее. Иконки приложений помещаются в директорию &quot;apps&quot;. Если открыть эту директорию - можно в ней увидеть множество иконок для установленных приложений. То есть, чтобы назначить иконку для приложения, надо, как минимум, поместить файл в формате PNG размером 48x48 пикселей в директорию &quot;/usr/share/icons/hicolor/48x48/apps/&quot;. В случае, если есть возможность - лучше также поместить также иконки и других разрешений. То есть, если есть изображение в формате PNG размером 64x64 - помещаем его в директорию &quot;/usr/share/icons/hicolor/64x64/apps/&quot;. Если есть изображение в формате PNG размером 16x16 - помещаем его в директорию &quot;/usr/share/icons/hicolor/16x16/apps/&quot;. И так далее. Если есть изображение в формате SVG - помещаем его в директорию &quot;/usr/share/icons/hicolor/scalable/apps/&quot;. И так далее.</span></p>
<p style=" margin-top:0px; margin-bottom:16px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Georgia,Times New Roman,Times,serif'; font-size:8.25pt; color:#333333;">Все файлы изображений желательно называть так же, как и исполняемый файл программы, но только с расширением для изображения. Например, исполняемый файл браузера Chromium называется &quot;chromium-browser&quot;, а его иконки в формате PNG называются &quot;chromium-browser.png&quot;. Также нужно, чтобы изображения разных размеров имели одно и то же имя файла. Различаться они должны только директориями, в которых находятся. И, если форматы изображений отличаются - расширениями. То есть, например, файлы иконок для браузера Chromium называются &quot;chromium-browser.png&quot; и для иконки размера 48x48, и для иконки размера 128x128. Для иконки в формате SVG файл незывается также, но с другим расширением - &quot;chromium-browser.svg&quot;. В этом случае, среда рабочего стола сможет автоматически подобрать для программы иконку с нужным разрешением.</span></p>
<p style=" margin-top:0px; margin-bottom:16px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Georgia,Times New Roman,Times,serif'; font-size:8.25pt; color:#333333;">В случае, если вы хотите, чтобы программа поддерживала другие темы рабочего стола, а не только тему hicolor - надо аналогичным образом разместить изображения и для них тоже. В этом случае, при смене темы среда рабочего стола сможет подобрать для вашего приложения иконку, соответствующую нужной теме.</span></p>
<p style=" margin-top:0px; margin-bottom:16px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Georgia,Times New Roman,Times,serif'; font-size:8.25pt; color:#333333;">Строго говоря, называть иконки так же, как и исполняемый файл, совсем необязательно. Названия у иконок могут быть любые. Для того, чтобы иконка программы отображалась для её ярлыка (т.е. desktop-файла), надо прописать эту иконку в desktop-файле. Для этого в desktop-файл надо поместить строку &quot;Icon=&quot;, и после знака &quot;=&quot; - название иконки. Расширение для иконки не указывается, указывается только название (которое, как было сказано выше, для всех иконок во всех темах должно быть одинаковым). В этом случае, если программа будет запущена через созданный для неё desktop-файл, ей будет назначена соответствующая иконка. Например, в desktop-файле для браузера Chromium иконка назначается так: &quot;Icon=chromium-browser&quot;. Более подробно о создании desktop-файлов можно прочитать в разделе </span><a href="http://life-warrior.org/programs/gui-deb/manual/desktopfiles.html"><span style=" font-family:'Georgia,Times New Roman,Times,serif'; font-size:8.25pt; text-decoration: underline; color:#006600;">&quot;Ярлыки для программы (desktop-файлы) &quot;</span></a><span style=" font-family:'Georgia,Times New Roman,Times,serif'; font-size:8.25pt; color:#333333;">.</span></p>
<p style=" margin-top:0px; margin-bottom:16px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Georgia,Times New Roman,Times,serif'; font-size:8.25pt; color:#333333;">В desktop-файле можно указывать иконку и по-другом - с указанием полного пути к файлу. Например, для файлового менеджера Double Commander версии 0.4.5 в desktop-файле указывается: &quot;Icon=/usr/share/pixmaps/doublecmd.png&quot;. Как и для упомянутого выше файлового менеджера Double Commander, многие приложения копируют свои иконки в директорию &quot;/usr/share/pixmaps&quot;, а затем назначают их оттуда в desktop-файлах с указанием полного пути. Но поступать так не рекомендуется, так как в этом случае среда рабочего стола не сможет автоматически подбирать для программы иконку с нужным разрешением, и относящуюся к нужной теме. Значительно лучше будет, если программа будет соответствовать спецификациям freedesktop.org.</span></p>
<p style=" margin-top:0px; margin-bottom:16px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Georgia,Times New Roman,Times,serif'; font-size:8.25pt; color:#333333;">О создании desktop-файлов и полях в них приложения более подробно рассказывается в следующем разделе.</span></p></body></html>