<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Tahoma,Helvetica,FreeSans,sans-serif'; font-size:8.25pt; font-weight:600; color:#3c946c; background-color:#ffffff;">Строки. Часть 3 – создание строк, классы StringBuilder и StringBuffer.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.4%; background-color:#ffffff;"><a name="post-body-2170300022875420622"></a><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">В</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> JDK 5 в дополнение к существующим богатым возможностям обработки строк Java появился новый строковый класс. Этот новый класс называется </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">StringBuilder</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">. Он идентичен </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">StringBuffer</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> за исключением одного важного отличия: он не синхронизирован, что означает, что он не является безопасным в отношении потоков. </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444; background-color:#ffff00;">Выгода от применения </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444; background-color:#ffff00;">StringBuilder</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444; background-color:#ffff00;"> связана с более высокой производительностью</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">. </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444; background-color:#ffff00;">Однако в случае разработки многопоточных программ вы должны использовать </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444; background-color:#ffff00;">StringBuffer</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444; background-color:#ffff00;">, а не </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444; background-color:#ffff00;">StringBuilder</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444; background-color:#ffc000;">Класс StringBuilder</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Объекты класса </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">StringBuilder</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> — это строки переменной длины. </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444; background-color:#ffff00;">Только что созданный объект имеет буфер определенной </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#444444; background-color:#ffff00;">емкости</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444; background-color:#ffff00;"> (</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#444444; background-color:#ffff00;">capacity</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444; background-color:#ffff00;">), </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; text-decoration: underline; color:#444444; background-color:#ffff00;">по умолчанию достаточной для хранения 16 символов</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">. Емкость можно задать в конструкторе объекта.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Как только буфер начинает переполняться, его емкость автоматически увеличивается, чтобы вместить новые символы.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">В любое время емкость буфера можно увеличить, обратившись к методу</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">ensureCapacity(int </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; font-style:italic; color:#444444;">minCapacity</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">);</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Этот метод изменит емкость, только если </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#444444;">minCapacity</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> будет больше длины хранящейся в объекте строки. Емкость будет увеличена по следующему правилу. Пусть емкость буфера равна N. Тогда новая емкость будет равна</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Max(2 * N + 2, minCapacity)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Таким образом, емкость буфера нельзя увеличить менее чем вдвое.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Методом </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">setLength(int </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; font-style:italic; color:#444444;">newLength</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">)</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> можно установить любую длину строки. Если она окажется больше текущей длины, то дополнительные символы будут равны ' \u0000'. Если она будет меньше текущей длины, то строка окажется обрезанной, последние символы потеряются, точнее, будут заменены символом ' \u0000' . Емкость при этом не изменится.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Если число </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#444444;">newLength</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> окажется отрицательным, возникнет исключительная ситуация. Поэтому будьте осторожны, устанавливая новую длину строки.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Количество символов в строке можно узнать так же, как и для объекта класса String, методом length() , а емкость — методом capacity() .</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444; background-color:#ffff00;">Создать объект класса </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444; background-color:#ffff00;">StringBuilder</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444; background-color:#ffff00;"> можно только конструкторами</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">. То есть вы не можете создать строку класса StringBuilder операцией присваивания как мы это делали для класса String.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">В классе </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">StringBuilder</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> определены четыре конструктора:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;" style=" margin-top:7px; margin-bottom:3px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; font-weight:600;">StringBuilder()</span><span style=" font-size:14px;"> — создает пустой объект с емкостью 16 символов;</span></li>
<li style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;" style=" margin-top:0px; margin-bottom:3px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; font-weight:600;">StringBuilder(int capacity)</span><span style=" font-size:14px;"> — создает пустой объект заданной емкости capacity;</span></li>
<li style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;" style=" margin-top:0px; margin-bottom:3px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; font-weight:600;">StringBuilder(String str)</span><span style=" font-size:14px;"> — создает объект емкостью str.length() + 16, содержащий строку str;</span></li>
<li style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;" style=" margin-top:0px; margin-bottom:7px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; font-weight:600;">StringBuilder(CharSequence str)</span><span style=" font-size:14px;"> — создает объект, содержащий строку str.</span></li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Чтобы понять как создавать строки класса StringBuilder рассмотрим простой пример:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image4757.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Данная программа генерирует следующий вывод:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image26917.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Тут все очень просто, strBld1 и strBld2 это пустые строки, которые я не стал выводить на консоль, а вывел только их длину и емкость.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Строка strBld3 хоть и имеет длину 5 символов, но емкость объекта составляет 21 символ.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">Совет:</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#444444;">Начиная с этого момента я настоятельно рекомендую заглядывать в исходники JDK и смотреть код изучаемых классов, так как это весьма просветляет. Кроме того, я не смогу описать все методы всех классов, для этого есть сами классы и документация к ним, кою я вам и рекомендую регулярно читать</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">Добавление подстроки – метод append()</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image9566.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">В классе StringBuilder есть более десяти методов </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">append()</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">, добавляющих подстроку в конец строки. </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444; background-color:#ffff00;">Они не создают новый экземпляр строки, а возвращают ссылку на ту же самую, но измененную строку</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">.<br />Основной метод </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">append(String)</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> присоединяет строку в конец данной строки. </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444; background-color:#ffff00;">Если присоединяемая строка равна null, то добавляется строка &quot;null&quot;</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">.<br />Два аналогичных метода работают с параметром типа StringBuffer и CharSequence.<br />Шесть методов </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">append(type)</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> добавляют примитивные типы </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">boolean</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">, </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">char</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">, </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">int</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">, </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">long</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">, </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">float</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">, </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">double</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">, преобразованные в строку.<br />Два метода присоединяют к строке массив char и подмассив символов, преобразованные в строку: </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">append(char[])</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> и </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">append(char[], int, int)</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">.<br />Есть метод добавляющий к строке кодовую точку (code point) – </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">appendCodePoint(int)</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Метод, </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">append(Object obj)</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">, добавляет просто объект. Перед этим объект obj преобразуется в строку своим методом toString().</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Ну и как всегда немного практики:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image18786.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Собственно этот пример тоже очень простой и особо пояснять тут почти нечего.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Единственное что стоит отметить, так это использование собственного класса String0009, код которого я приведу чуть ниже.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Добавление даты, и данных класса String009 я сделал, чтобы продемонстрировать, что на объектах при их добавлении вызывается их метод toString().</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">И кстати сказать, добавление кодовой точки в строку при помощи </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">appendCodePoint()</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> куда проще чем то-же самое мы делали в классе String.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Код класса String009 очень простой и не замысловатый, хотя сейчас он может показаться вам не понятным, но потерпите немного, скоро мы доберемся и до классов.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image18940.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Два этих класса генерируют следующий вывод:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image24108.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">Вставка подстроки – метод insert()</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image3029.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Более десяти методов </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">insert()</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> предназначены для вставки строки, указанной вторым параметром метода, в данную строку. </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444; background-color:#ffff00;">Место вставки задается первым параметром метода, индексом символа строки, </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; text-decoration: underline; color:#444444; background-color:#ffff00;">перед которым будет сделана вставка</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">. Он должен быть неотрицательным и меньше длины строки, иначе возникнет исключительная ситуация. Строка раздвигается, емкость буфера при необходимости увеличивается. Методы возвращают ссылку на ту же самую, но преобразованную строку.<br />Основной метод </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">insert(int, String)</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> вставляет строку в данную строку перед ее символом с индексом int. Если ссылка str == null, вставляется строка &quot;null&quot;.<br />Метод sb.insert(sb.length(), &quot;xxx&quot;) будет работать так же, как метод sb.append(&quot;xxx&quot;).</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Шесть методов </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">insert(int, type elem)</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> вставляют примитивные типы boolean, char, int, long, float, double, преобразованные в строку.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Два метода вставляют массив char и подмассив char символов, преобразованные в строку.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Оставшиеся методы вставляют Object преобразованный в строку и объекты класса CharSequence.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Немножко практики:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image32673.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Данная программа генерирует следующий вывод:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image15255.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">Удаление подстроки или символа – методы delete() и deleteChar()</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image22682.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444; background-color:#ffff00;">Метод </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444; background-color:#ffff00;">delete(int </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#444444; background-color:#ffff00;">beging</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444; background-color:#ffff00;">, int </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#444444; background-color:#ffff00;">end</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444; background-color:#ffff00;">)</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444; background-color:#ffff00;"> удаляет из строки символы, начиная с индекса </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#444444; background-color:#ffff00;">begin</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444; background-color:#ffff00;">включительно до индекса </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#444444; background-color:#ffff00;">end</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444; background-color:#ffff00;"> исключительно; если </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#444444; background-color:#ffff00;">end</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444; background-color:#ffff00;"> больше длины строки, то до конца строки</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">. </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; text-decoration: underline; color:#444444;">Если </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; text-decoration: underline; color:#444444;">begin</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; text-decoration: underline; color:#444444;"> отрицательно, больше длины строки или больше </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; text-decoration: underline; color:#444444;">end</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; text-decoration: underline; color:#444444;">, возникает исключительная ситуация</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">. </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444; background-color:#ffff00;">Если </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#444444; background-color:#ffff00;">begin</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444; background-color:#ffff00;"> == </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#444444; background-color:#ffff00;">end</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444; background-color:#ffff00;">, удаление не происходит</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Метод </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">deleteCharAt(int </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#444444;">ind</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">)</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> удаляет символ с указанным индексом </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#444444;">ind</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">. Длина строки уменьшается на единицу. </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444; background-color:#ffff00;">Если индекс </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#444444; background-color:#ffff00;">ind</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444; background-color:#ffff00;"> отрицателен или больше длины строки, возникает исключительная ситуация</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">. Допишем предыдущий пример, дабы не плодить классы без необходимости:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image2577.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Вывод программы:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image10904.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">Переворот строки – метод reverse()</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Метод reverse() меняет порядок расположения символов в строке на обратный.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">Поиск подстроки в строке – методы indexOf() и lastIndexOf()</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image32492.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Метод </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">indexOf(String </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#444444;">str</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">)</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> выполняет поиск первого вхождения </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#444444;">str</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">. Возвращает индекс позиции совпадения или -1 в случае неудачи.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Метод </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">indexOf(String </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#444444;">str</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">, int </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#444444;">startIndex</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">)</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> выполняет поиск первого вхождения </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#444444;">str</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">, начиная с </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#444444;">startIndex</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">. Возвращает индекс позиции совпадения или -1 в случае неудачи.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Метод </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">lastIndexOf(String </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#444444;">str</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">)</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> выполняет поиск последнего вхождения </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#444444;">str</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">. Возвращает индекс позиции совпадения или -1 в случае неудачи.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Метод </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">lastIndexOf(String </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#444444;">str</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">, int </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#444444;">startIndex</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">)</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> выполняет поиск последнего вхождения str, начиная с startIndex. Возвращает индекс позиции совпадения или -1 в случае неудачи.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image8744.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Вывод программы:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image20986.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">В этой версии программы все тоже достаточно просто, поэтому, я надеюсь, она не требует особых объяснений.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Единственное что хочется еще раз напомнить, что строки в классах </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">StringBuilder</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> и </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">StringBuffer</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> изменяемые и при изменениях не создается нового объекта, а меняется существующий.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Ну вот мы и рассмотрели все методы класса </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">StringBuilder</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">. Далее рассмотрим методы класса </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">StringBuffer</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">. Класс </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">StringBuffer</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">имеет все те же методы, что и класс </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">StringBuilder</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">, но так же еще имеет несколько других, поэтому мы рассмотрим только их.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444; background-color:#ffc000;">Класс StringBuffer</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">Получение подстроки из строки – метод substring()</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Вы можете получить часть StringBuffer вызовом substring(). Этот метод возвращает строку класса String и имеет две следующие формы:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">substring(int </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#444444;">startIndex</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">)<br />substring(int </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#444444;">startIndex</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">, int </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#444444;">endIndex</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Первая форма возвращает подстроку, которая начинается от </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#444444;">startIndex</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> и продолжается до конца объекта StringBuffer. Вторая форма возвращает подстроку от позиции </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#444444;">startIndex</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> до </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#444444;">endIndex-1</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Например данный код:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#4a4a4a;">StringBuffer</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#000000;"> </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#c95609;">strBfr1</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#000000;"> = </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#59052f;">new</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#000000;"> </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#222222;">StringBuffer</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">(</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#003ae0;">&quot;Подстрочка&quot;</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">)</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#000000;">;<br /></span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#222222;">println</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">(</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#003ae0;">&quot;substring(int) = &quot;</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> + </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#d25f12;">strBfr1</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">.</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#222222;">substring</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">(</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#801f91;">3</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">));<br /></span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#222222;">println</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">(</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#003ae0;">&quot;substring(int, int) = &quot;</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> + </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#d25f12;">strBfr1</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">.</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#222222;">substring</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">(</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#801f91;">0</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">, </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#801f91;">3</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">));</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">выдаст следующий вывод:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">substring(int) = строчка<br />substring(int, int) = Под</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Далее есть несколько методов работы с кодовыми точками Unicode:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image18276.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Методы </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">codePointAt()</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> и  </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">codePointBefore()</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> возвращают значение типа int которое представляет кодовую точку Unicode или ее часть для указанного в параметре вызова индекса (символа). Метод </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">codePointCount()</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> возвращает число кодовых точек строки, заключенной между первым и вторым индексами.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Метод </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">offsetByCodePoints(int </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#444444;">start</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">, int </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#444444;">num</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">)</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> возвращает индекс символа в строке, которая находится на </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#444444;">num</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">точек кода позади начального индекса, указанного в </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-style:italic; color:#444444;">start</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">И остался еще метод </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">trimToSize()</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;"> который уменьшает размер символьного буфера объекта с тем, чтобы он соответствовал текущему содержимому.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Все вышеперечисленные методы работы с кодовыми точками и trimToSize() были добавлены в JDK 5.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Ну и для закрепления материала примерчик:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image9271.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Вывод у программы следующий:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image13177.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Первые три строки создают строку и затем выделают из нее подстроки.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Затем начинается самое интересно с кодовыми точками. Я подсветил желтым на что надо обратить особое внимание.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Хотя всего в строке 5 символов (ракета, три минуса и </span><a href="http://unicode-table.com/ru/1F688/"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; text-decoration: underline; color:#1a9c25;">монорельс</span></a><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">), длина же строки показывает 7 символов (char), это происходит потому, что два символа, ракета и монорельс состоят из двух char.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Далее смотрим сюда внимательно:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image15800.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">И сравниваем коды монорельса и каждого из его двух char с тем что выводит программа.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">Ну и на последок показана работа метода </span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; font-weight:600; color:#444444;">trimToSize()</span><span style=" font-family:'Verdana,Geneva,sans-serif'; font-size:8.25pt; color:#444444;">.</span></p></body></html>