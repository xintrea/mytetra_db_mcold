<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">содержит методы создания форматированных чисел</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; color:#000000;"><br /><br /></span><span style=" font-family:'Courier New'; font-style:italic; color:#808080;">/*<br /> * Copyright (c) 1995, 2008, Oracle and/or its affiliates. All rights reserved.<br /> *<br /> * Redistribution and use in source and binary forms, with or without<br /> * modification, are permitted provided that the following conditions<br /> * are met:<br /> *<br /> *   - Redistributions of source code must retain the above copyright<br /> *     notice, this list of conditions and the following disclaimer.<br /> *<br /> *   - Redistributions in binary form must reproduce the above copyright<br /> *     notice, this list of conditions and the following disclaimer in the<br /> *     documentation and/or other materials provided with the distribution.<br /> *<br /> *   - Neither the name of Oracle or the names of its<br /> *     contributors may be used to endorse or promote products derived<br /> *     from this software without specific prior written permission.<br /> *<br /> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS<br /> * IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,<br /> * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR<br /> * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR<br /> * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,<br /> * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,<br /> * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR<br /> * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF<br /> * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING<br /> * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS<br /> * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.<br /> */<br /><br />//package HelloWorld;<br />//package components;<br /><br /></span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">import </span><span style=" font-family:'Courier New'; color:#000000;">java.awt.*;<br /></span><span style=" font-family:'Courier New'; font-style:italic; color:#808080;">//import java.awt.event.*;<br /><br /></span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">import </span><span style=" font-family:'Courier New'; color:#000000;">javax.swing.*;<br /></span><span style=" font-family:'Courier New'; font-style:italic; color:#808080;">//import javax.swing.event.*;<br />//import javax.swing.text.*;<br /><br /></span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">import </span><span style=" font-family:'Courier New'; color:#000000;">java.beans.PropertyChangeListener;<br /></span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">import </span><span style=" font-family:'Courier New'; color:#000000;">java.beans.PropertyChangeEvent;<br /><br /></span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">import </span><span style=" font-family:'Courier New'; color:#000000;">java.text.*;<br /><br /></span><span style=" font-family:'Courier New'; font-style:italic; color:#808080;">/**<br /> * FormattedTextFieldDemo.java requires no other files.<br /> *<br /> * It implements a mortgage calculator that uses four<br /> * JFormattedTextFields.<br /> */<br /></span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">public class </span><span style=" font-family:'Courier New'; color:#000000;">HelloWorld </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">extends </span><span style=" font-family:'Courier New'; color:#000000;">JPanel<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">implements </span><span style=" font-family:'Courier New'; color:#000000;">PropertyChangeListener {<br />    </span><span style=" font-family:'Courier New'; font-style:italic; color:#808080;">//Values for the fields<br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">private double </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">amount </span><span style=" font-family:'Courier New'; color:#000000;">= </span><span style=" font-family:'Courier New'; color:#0000ff;">100000</span><span style=" font-family:'Courier New'; color:#000000;">;<br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">private double </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">rate </span><span style=" font-family:'Courier New'; color:#000000;">= </span><span style=" font-family:'Courier New'; color:#0000ff;">7.5</span><span style=" font-family:'Courier New'; color:#000000;">;  </span><span style=" font-family:'Courier New'; font-style:italic; color:#808080;">//7.5%<br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">private int </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">numPeriods </span><span style=" font-family:'Courier New'; color:#000000;">= </span><span style=" font-family:'Courier New'; color:#0000ff;">30</span><span style=" font-family:'Courier New'; color:#000000;">;<br /><br />    </span><span style=" font-family:'Courier New'; font-style:italic; color:#808080;">//Labels to identify the fields<br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">private </span><span style=" font-family:'Courier New'; color:#000000;">JLabel </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">amountLabel</span><span style=" font-family:'Courier New'; color:#000000;">;<br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">private </span><span style=" font-family:'Courier New'; color:#000000;">JLabel </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">rateLabel</span><span style=" font-family:'Courier New'; color:#000000;">;<br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">private </span><span style=" font-family:'Courier New'; color:#000000;">JLabel </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">numPeriodsLabel</span><span style=" font-family:'Courier New'; color:#000000;">;<br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">private </span><span style=" font-family:'Courier New'; color:#000000;">JLabel </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">paymentLabel</span><span style=" font-family:'Courier New'; color:#000000;">;<br /><br />    </span><span style=" font-family:'Courier New'; font-style:italic; color:#808080;">//Strings for the labels<br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">private static </span><span style=" font-family:'Courier New'; color:#000000;">String </span><span style=" font-family:'Courier New'; font-style:italic; color:#660e7a;">amountString </span><span style=" font-family:'Courier New'; color:#000000;">= </span><span style=" font-family:'Courier New'; font-weight:600; color:#008000;">&quot;Loan Amount: &quot;</span><span style=" font-family:'Courier New'; color:#000000;">;<br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">private static </span><span style=" font-family:'Courier New'; color:#000000;">String </span><span style=" font-family:'Courier New'; font-style:italic; color:#660e7a;">rateString </span><span style=" font-family:'Courier New'; color:#000000;">= </span><span style=" font-family:'Courier New'; font-weight:600; color:#008000;">&quot;APR (%): &quot;</span><span style=" font-family:'Courier New'; color:#000000;">;<br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">private static </span><span style=" font-family:'Courier New'; color:#000000;">String </span><span style=" font-family:'Courier New'; font-style:italic; color:#660e7a;">numPeriodsString </span><span style=" font-family:'Courier New'; color:#000000;">= </span><span style=" font-family:'Courier New'; font-weight:600; color:#008000;">&quot;Years: &quot;</span><span style=" font-family:'Courier New'; color:#000000;">;<br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">private static </span><span style=" font-family:'Courier New'; color:#000000;">String </span><span style=" font-family:'Courier New'; font-style:italic; color:#660e7a;">paymentString </span><span style=" font-family:'Courier New'; color:#000000;">= </span><span style=" font-family:'Courier New'; font-weight:600; color:#008000;">&quot;Monthly Payment: &quot;</span><span style=" font-family:'Courier New'; color:#000000;">;<br /><br />    </span><span style=" font-family:'Courier New'; font-style:italic; color:#808080;">//Fields for data entry<br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">private </span><span style=" font-family:'Courier New'; color:#000000;">JFormattedTextField </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">amountField</span><span style=" font-family:'Courier New'; color:#000000;">;<br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">private </span><span style=" font-family:'Courier New'; color:#000000;">JFormattedTextField </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">rateField</span><span style=" font-family:'Courier New'; color:#000000;">;<br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">private </span><span style=" font-family:'Courier New'; color:#000000;">JFormattedTextField </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">numPeriodsField</span><span style=" font-family:'Courier New'; color:#000000;">;<br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">private </span><span style=" font-family:'Courier New'; color:#000000;">JFormattedTextField </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">paymentField</span><span style=" font-family:'Courier New'; color:#000000;">;<br /><br />    </span><span style=" font-family:'Courier New'; font-style:italic; color:#808080;">//Formats to format and parse numbers<br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">private </span><span style=" font-family:'Courier New'; color:#000000;">NumberFormat </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">amountFormat</span><span style=" font-family:'Courier New'; color:#000000;">;<br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">private </span><span style=" font-family:'Courier New'; color:#000000;">NumberFormat </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">numF</span><span style=" font-family:'Courier New'; color:#000000;">;<br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">private </span><span style=" font-family:'Courier New'; color:#000000;">NumberFormat </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">percentFormat</span><span style=" font-family:'Courier New'; color:#000000;">;<br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">private </span><span style=" font-family:'Courier New'; color:#000000;">NumberFormat </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">paymentFormat</span><span style=" font-family:'Courier New'; color:#000000;">;<br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">public </span><span style=" font-family:'Courier New'; color:#000000;">HelloWorld() {<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">super</span><span style=" font-family:'Courier New'; color:#000000;">(</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">new </span><span style=" font-family:'Courier New'; color:#000000;">BorderLayout());              </span><span style=" font-family:'Courier New'; font-style:italic; color:#808080;">// устанавливаем контейнер<br />        </span><span style=" font-family:'Courier New'; color:#000000;">setUpFormats();<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">double </span><span style=" font-family:'Courier New'; color:#000000;">payment = computePayment(</span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">amount</span><span style=" font-family:'Courier New'; color:#000000;">,<br />                </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">rate</span><span style=" font-family:'Courier New'; color:#000000;">,<br />                </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">numPeriods</span><span style=" font-family:'Courier New'; color:#000000;">);<br /><br />        </span><span style=" font-family:'Courier New'; font-style:italic; color:#808080;">//Create the labels.<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">amountLabel </span><span style=" font-family:'Courier New'; color:#000000;">= </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">new </span><span style=" font-family:'Courier New'; color:#000000;">JLabel(</span><span style=" font-family:'Courier New'; font-style:italic; color:#660e7a;">amountString</span><span style=" font-family:'Courier New'; color:#000000;">);<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">rateLabel </span><span style=" font-family:'Courier New'; color:#000000;">= </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">new </span><span style=" font-family:'Courier New'; color:#000000;">JLabel(</span><span style=" font-family:'Courier New'; font-style:italic; color:#660e7a;">rateString</span><span style=" font-family:'Courier New'; color:#000000;">);<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">numPeriodsLabel </span><span style=" font-family:'Courier New'; color:#000000;">= </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">new </span><span style=" font-family:'Courier New'; color:#000000;">JLabel(</span><span style=" font-family:'Courier New'; font-style:italic; color:#660e7a;">numPeriodsString</span><span style=" font-family:'Courier New'; color:#000000;">);<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">paymentLabel </span><span style=" font-family:'Courier New'; color:#000000;">= </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">new </span><span style=" font-family:'Courier New'; color:#000000;">JLabel(</span><span style=" font-family:'Courier New'; font-style:italic; color:#660e7a;">paymentString</span><span style=" font-family:'Courier New'; color:#000000;">);<br /><br />        </span><span style=" font-family:'Courier New'; font-style:italic; color:#808080;">//Create the text fields and set them up.<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">amountField </span><span style=" font-family:'Courier New'; color:#000000;">= </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">new </span><span style=" font-family:'Courier New'; color:#000000;">JFormattedTextField(</span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">amountFormat</span><span style=" font-family:'Courier New'; color:#000000;">);<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">amountField</span><span style=" font-family:'Courier New'; color:#000000;">.setValue(</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">new </span><span style=" font-family:'Courier New'; color:#000000;">Double(</span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">amount</span><span style=" font-family:'Courier New'; color:#000000;">));<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">amountField</span><span style=" font-family:'Courier New'; color:#000000;">.setColumns(</span><span style=" font-family:'Courier New'; color:#0000ff;">10</span><span style=" font-family:'Courier New'; color:#000000;">);<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">amountField</span><span style=" font-family:'Courier New'; color:#000000;">.addPropertyChangeListener(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008000;">&quot;value&quot;</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">this</span><span style=" font-family:'Courier New'; color:#000000;">);<br /><br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">rateField </span><span style=" font-family:'Courier New'; color:#000000;">= </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">new </span><span style=" font-family:'Courier New'; color:#000000;">JFormattedTextField(</span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">percentFormat</span><span style=" font-family:'Courier New'; color:#000000;">);<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">rateField</span><span style=" font-family:'Courier New'; color:#000000;">.setValue(</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">new </span><span style=" font-family:'Courier New'; color:#000000;">Double(</span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">rate</span><span style=" font-family:'Courier New'; color:#000000;">));<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">rateField</span><span style=" font-family:'Courier New'; color:#000000;">.setColumns(</span><span style=" font-family:'Courier New'; color:#0000ff;">10</span><span style=" font-family:'Courier New'; color:#000000;">);<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">rateField</span><span style=" font-family:'Courier New'; color:#000000;">.addPropertyChangeListener(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008000;">&quot;value&quot;</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">this</span><span style=" font-family:'Courier New'; color:#000000;">);<br /><br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">numPeriodsField </span><span style=" font-family:'Courier New'; color:#000000;">= </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">new </span><span style=" font-family:'Courier New'; color:#000000;">JFormattedTextField();<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">numPeriodsField</span><span style=" font-family:'Courier New'; color:#000000;">.setValue(</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">new </span><span style=" font-family:'Courier New'; color:#000000;">Integer(</span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">numPeriods</span><span style=" font-family:'Courier New'; color:#000000;">));<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">numPeriodsField</span><span style=" font-family:'Courier New'; color:#000000;">.setColumns(</span><span style=" font-family:'Courier New'; color:#0000ff;">10</span><span style=" font-family:'Courier New'; color:#000000;">);<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">numPeriodsField</span><span style=" font-family:'Courier New'; color:#000000;">.addPropertyChangeListener(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008000;">&quot;value&quot;</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">this</span><span style=" font-family:'Courier New'; color:#000000;">);<br /><br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">paymentField </span><span style=" font-family:'Courier New'; color:#000000;">= </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">new </span><span style=" font-family:'Courier New'; color:#000000;">JFormattedTextField(</span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">paymentFormat</span><span style=" font-family:'Courier New'; color:#000000;">);<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">paymentField</span><span style=" font-family:'Courier New'; color:#000000;">.setValue(</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">new </span><span style=" font-family:'Courier New'; color:#000000;">Double(payment));<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">paymentField</span><span style=" font-family:'Courier New'; color:#000000;">.setColumns(</span><span style=" font-family:'Courier New'; color:#0000ff;">10</span><span style=" font-family:'Courier New'; color:#000000;">);<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">paymentField</span><span style=" font-family:'Courier New'; color:#000000;">.setEditable(</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">false</span><span style=" font-family:'Courier New'; color:#000000;">);<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">paymentField</span><span style=" font-family:'Courier New'; color:#000000;">.setForeground(Color.</span><span style=" font-family:'Courier New'; font-weight:600; font-style:italic; color:#660e7a;">red</span><span style=" font-family:'Courier New'; color:#000000;">);<br /><br />        </span><span style=" font-family:'Courier New'; font-style:italic; color:#808080;">//Tell accessibility tools about label/textfield pairs.<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">amountLabel</span><span style=" font-family:'Courier New'; color:#000000;">.setLabelFor(</span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">amountField</span><span style=" font-family:'Courier New'; color:#000000;">);<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">rateLabel</span><span style=" font-family:'Courier New'; color:#000000;">.setLabelFor(</span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">rateField</span><span style=" font-family:'Courier New'; color:#000000;">);<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">numPeriodsLabel</span><span style=" font-family:'Courier New'; color:#000000;">.setLabelFor(</span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">numPeriodsField</span><span style=" font-family:'Courier New'; color:#000000;">);<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">paymentLabel</span><span style=" font-family:'Courier New'; color:#000000;">.setLabelFor(</span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">paymentField</span><span style=" font-family:'Courier New'; color:#000000;">);<br /><br />        </span><span style=" font-family:'Courier New'; font-style:italic; color:#808080;">//Lay out the labels in a panel.<br />        </span><span style=" font-family:'Courier New'; color:#000000;">JPanel labelPane = </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">new </span><span style=" font-family:'Courier New'; color:#000000;">JPanel(</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">new </span><span style=" font-family:'Courier New'; color:#000000;">GridLayout(</span><span style=" font-family:'Courier New'; color:#0000ff;">0</span><span style=" font-family:'Courier New'; color:#000000;">,</span><span style=" font-family:'Courier New'; color:#0000ff;">1</span><span style=" font-family:'Courier New'; color:#000000;">));<br />        labelPane.add(</span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">amountLabel</span><span style=" font-family:'Courier New'; color:#000000;">);<br />        labelPane.add(</span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">rateLabel</span><span style=" font-family:'Courier New'; color:#000000;">);<br />        labelPane.add(</span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">numPeriodsLabel</span><span style=" font-family:'Courier New'; color:#000000;">);<br />        labelPane.add(</span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">paymentLabel</span><span style=" font-family:'Courier New'; color:#000000;">);<br /><br />        </span><span style=" font-family:'Courier New'; font-style:italic; color:#808080;">//Layout the text fields in a panel.<br />        </span><span style=" font-family:'Courier New'; color:#000000;">JPanel fieldPane = </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">new </span><span style=" font-family:'Courier New'; color:#000000;">JPanel(</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">new </span><span style=" font-family:'Courier New'; color:#000000;">GridLayout(</span><span style=" font-family:'Courier New'; color:#0000ff;">0</span><span style=" font-family:'Courier New'; color:#000000;">,</span><span style=" font-family:'Courier New'; color:#0000ff;">1</span><span style=" font-family:'Courier New'; color:#000000;">));<br />        fieldPane.add(</span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">amountField</span><span style=" font-family:'Courier New'; color:#000000;">);<br />        fieldPane.add(</span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">rateField</span><span style=" font-family:'Courier New'; color:#000000;">);<br />        fieldPane.add(</span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">numPeriodsField</span><span style=" font-family:'Courier New'; color:#000000;">);<br />        fieldPane.add(</span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">paymentField</span><span style=" font-family:'Courier New'; color:#000000;">);<br /><br />        </span><span style=" font-family:'Courier New'; font-style:italic; color:#808080;">//Put the panels in this panel, labels on left,<br />        //text fields on right.<br />        </span><span style=" font-family:'Courier New'; color:#000000;">setBorder(BorderFactory.</span><span style=" font-family:'Courier New'; font-style:italic; color:#000000;">createEmptyBorder</span><span style=" font-family:'Courier New'; color:#000000;">(</span><span style=" font-family:'Courier New'; color:#0000ff;">20</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; color:#0000ff;">20</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; color:#0000ff;">20</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; color:#0000ff;">20</span><span style=" font-family:'Courier New'; color:#000000;">));<br />        add(labelPane, BorderLayout.</span><span style=" font-family:'Courier New'; font-weight:600; font-style:italic; color:#660e7a;">CENTER</span><span style=" font-family:'Courier New'; color:#000000;">);<br />        add(fieldPane, BorderLayout.</span><span style=" font-family:'Courier New'; font-weight:600; font-style:italic; color:#660e7a;">LINE_END</span><span style=" font-family:'Courier New'; color:#000000;">);<br />    }<br /><br />    </span><span style=" font-family:'Courier New'; font-style:italic; color:#808080;">/** Called when a field's &quot;value&quot; property changes. */<br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">public void </span><span style=" font-family:'Courier New'; color:#000000;">propertyChange(PropertyChangeEvent e) {<br />        Object source = e.getSource();<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">if </span><span style=" font-family:'Courier New'; color:#000000;">(source == </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">amountField</span><span style=" font-family:'Courier New'; color:#000000;">) {<br />            </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">amount </span><span style=" font-family:'Courier New'; color:#000000;">= ((Number)</span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">amountField</span><span style=" font-family:'Courier New'; color:#000000;">.getValue()).doubleValue();<br />        } </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">else if </span><span style=" font-family:'Courier New'; color:#000000;">(source == </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">rateField</span><span style=" font-family:'Courier New'; color:#000000;">) {<br />            </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">rate </span><span style=" font-family:'Courier New'; color:#000000;">= ((Number)</span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">rateField</span><span style=" font-family:'Courier New'; color:#000000;">.getValue()).doubleValue();<br />        } </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">else if </span><span style=" font-family:'Courier New'; color:#000000;">(source == </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">numPeriodsField</span><span style=" font-family:'Courier New'; color:#000000;">) {<br />            </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">numPeriods </span><span style=" font-family:'Courier New'; color:#000000;">= ((Number)</span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">numPeriodsField</span><span style=" font-family:'Courier New'; color:#000000;">.getValue()).intValue();<br />        }<br /><br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">double </span><span style=" font-family:'Courier New'; color:#000000;">payment = computePayment(</span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">amount</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">rate</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">numPeriods</span><span style=" font-family:'Courier New'; color:#000000;">);<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">paymentField</span><span style=" font-family:'Courier New'; color:#000000;">.setValue(</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">new </span><span style=" font-family:'Courier New'; color:#000000;">Double(payment));<br />    }<br /><br />    </span><span style=" font-family:'Courier New'; font-style:italic; color:#808080;">/**<br />     * Create the GUI and show it.  For thread safety,<br />     * this method should be invoked from the<br />     * event dispatch thread.<br />     */<br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">private static void </span><span style=" font-family:'Courier New'; color:#000000;">createAndShowGUI() {<br />        </span><span style=" font-family:'Courier New'; font-style:italic; color:#808080;">//Create and set up the window.<br />        </span><span style=" font-family:'Courier New'; color:#000000;">JFrame frame = </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">new </span><span style=" font-family:'Courier New'; color:#000000;">JFrame(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008000;">&quot;FormattedTextFieldDemo&quot;</span><span style=" font-family:'Courier New'; color:#000000;">);<br />        frame.setDefaultCloseOperation(JFrame.</span><span style=" font-family:'Courier New'; font-weight:600; font-style:italic; color:#660e7a;">EXIT_ON_CLOSE</span><span style=" font-family:'Courier New'; color:#000000;">);<br /><br />        </span><span style=" font-family:'Courier New'; font-style:italic; color:#808080;">//Add contents to the window.<br />        </span><span style=" font-family:'Courier New'; color:#000000;">frame.add(</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">new </span><span style=" font-family:'Courier New'; color:#000000;">HelloWorld());<br /><br />        </span><span style=" font-family:'Courier New'; font-style:italic; color:#808080;">//Display the window.<br />        </span><span style=" font-family:'Courier New'; color:#000000;">frame.pack();<br />        frame.setVisible(</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">true</span><span style=" font-family:'Courier New'; color:#000000;">);<br />    }<br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">public static void </span><span style=" font-family:'Courier New'; color:#000000;">main(String[] args) {<br />        </span><span style=" font-family:'Courier New'; font-style:italic; color:#808080;">//Schedule a job for the event dispatch thread:<br />        //creating and showing this application's GUI.<br />        </span><span style=" font-family:'Courier New'; color:#000000;">SwingUtilities.</span><span style=" font-family:'Courier New'; font-style:italic; color:#000000;">invokeLater</span><span style=" font-family:'Courier New'; color:#000000;">(</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">new </span><span style=" font-family:'Courier New'; color:#000000;">Runnable() {<br />            </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">public void </span><span style=" font-family:'Courier New'; color:#000000;">run() {<br />                </span><span style=" font-family:'Courier New'; font-style:italic; color:#808080;">//Turn off metal's use of bold fonts<br />                </span><span style=" font-family:'Courier New'; color:#000000;">UIManager.</span><span style=" font-family:'Courier New'; font-style:italic; color:#000000;">put</span><span style=" font-family:'Courier New'; color:#000000;">(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008000;">&quot;swing.boldMetal&quot;</span><span style=" font-family:'Courier New'; color:#000000;">, Boolean.</span><span style=" font-family:'Courier New'; font-weight:600; font-style:italic; color:#660e7a;">FALSE</span><span style=" font-family:'Courier New'; color:#000000;">);<br />                </span><span style=" font-family:'Courier New'; font-style:italic; color:#000000;">createAndShowGUI</span><span style=" font-family:'Courier New'; color:#000000;">();<br />            }<br />        });<br />    }<br /><br />    </span><span style=" font-family:'Courier New'; font-style:italic; color:#808080;">//Compute the monthly payment based on the loan amount,<br />    //APR, and length of loan.<br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">double </span><span style=" font-family:'Courier New'; color:#000000;">computePayment(</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">double </span><span style=" font-family:'Courier New'; color:#000000;">loanAmt, </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">double </span><span style=" font-family:'Courier New'; color:#000000;">rate, </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">int </span><span style=" font-family:'Courier New'; color:#000000;">numPeriods) {<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">double </span><span style=" font-family:'Courier New'; color:#000000;">I, partial1, denominator, answer;<br /><br />        numPeriods *= </span><span style=" font-family:'Courier New'; color:#0000ff;">12</span><span style=" font-family:'Courier New'; color:#000000;">;        </span><span style=" font-family:'Courier New'; font-style:italic; color:#808080;">//get number of months<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">if </span><span style=" font-family:'Courier New'; color:#000000;">(rate &gt; </span><span style=" font-family:'Courier New'; color:#0000ff;">0.01</span><span style=" font-family:'Courier New'; color:#000000;">) {<br />            I = rate / </span><span style=" font-family:'Courier New'; color:#0000ff;">100.0 </span><span style=" font-family:'Courier New'; color:#000000;">/ </span><span style=" font-family:'Courier New'; color:#0000ff;">12.0</span><span style=" font-family:'Courier New'; color:#000000;">;         </span><span style=" font-family:'Courier New'; font-style:italic; color:#808080;">//get monthly rate from annual<br />            </span><span style=" font-family:'Courier New'; color:#000000;">partial1 = Math.</span><span style=" font-family:'Courier New'; font-style:italic; color:#000000;">pow</span><span style=" font-family:'Courier New'; color:#000000;">((</span><span style=" font-family:'Courier New'; color:#0000ff;">1 </span><span style=" font-family:'Courier New'; color:#000000;">+ I), (</span><span style=" font-family:'Courier New'; color:#0000ff;">0.0 </span><span style=" font-family:'Courier New'; color:#000000;">- numPeriods));<br />            denominator = (</span><span style=" font-family:'Courier New'; color:#0000ff;">1 </span><span style=" font-family:'Courier New'; color:#000000;">- partial1) / I;<br />        } </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">else </span><span style=" font-family:'Courier New'; color:#000000;">{ </span><span style=" font-family:'Courier New'; font-style:italic; color:#808080;">//rate ~= 0<br />            </span><span style=" font-family:'Courier New'; color:#000000;">denominator = numPeriods;<br />        }<br /><br />        answer = (-</span><span style=" font-family:'Courier New'; color:#0000ff;">1 </span><span style=" font-family:'Courier New'; color:#000000;">* loanAmt) / denominator;<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">return </span><span style=" font-family:'Courier New'; color:#000000;">answer;<br />    }<br /><br />    </span><span style=" font-family:'Courier New'; font-style:italic; color:#808080;">//Create and set up number formats. These objects also<br />    //parse numbers input by user.<br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">private void </span><span style=" font-family:'Courier New'; color:#000000;">setUpFormats() {<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">amountFormat </span><span style=" font-family:'Courier New'; color:#000000;">= NumberFormat.</span><span style=" font-family:'Courier New'; font-style:italic; color:#000000;">getNumberInstance</span><span style=" font-family:'Courier New'; color:#000000;">();<br /><br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">percentFormat </span><span style=" font-family:'Courier New'; color:#000000;">= NumberFormat.</span><span style=" font-family:'Courier New'; font-style:italic; color:#000000;">getNumberInstance</span><span style=" font-family:'Courier New'; color:#000000;">();<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">percentFormat</span><span style=" font-family:'Courier New'; color:#000000;">.setMinimumFractionDigits(</span><span style=" font-family:'Courier New'; color:#0000ff;">3</span><span style=" font-family:'Courier New'; color:#000000;">);<br /><br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#660e7a;">paymentFormat </span><span style=" font-family:'Courier New'; color:#000000;">= NumberFormat.</span><span style=" font-family:'Courier New'; font-style:italic; color:#000000;">getCurrencyInstance</span><span style=" font-family:'Courier New'; color:#000000;">();<br /><br />    }<br />}</span></p></body></html>