<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#ffffff;"><span style=" font-family:'Trebuchet MS'; font-size:16px; font-weight:600; color:#000000;">Имя экземпляра базы данных</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#ffffff;"><span style=" font-family:'Trebuchet MS'; font-size:16px; color:#000000; background-color:#ffffff;">Экземпляр базы данных состоит из области SGA и процессов ORACLE. Имя экземпляра базы данных указывается в файле инициализации init.ora параметром instance_name.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#ffffff;"><span style=" font-family:'Trebuchet MS'; font-size:16px; color:#000000; background-color:#ffffff;">Если не брать во внимание конфигурацию ORACLE RAC , то каждой базе данных соответствует один экземпляр.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#ffffff;"><span style=" font-family:'Trebuchet MS'; font-size:16px; color:#000000; background-color:#ffffff;">Оракловский системный идентификатор SID (System IDentifier – системный идентификатор) является уникальным именем, которое однозначно идентифицирует экземпляр/базу данных. Хранится в переменной среды ORACLE_SID и используется утилитами и сетевыми компонентами для доступа к базе данных.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#ffffff;"><a href="http://my-oracle.it-blogs.com.ua/post-49.aspx"><span style=" font-family:'Trebuchet MS'; font-size:16px; color:#4082ae;">Здесь</span></a><span style=" font-family:'Trebuchet MS'; font-size:16px; color:#000000;"> можно почитать, как переименовать базу данных.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Trebuchet MS'; font-size:16px; font-weight:600; color:#000000; background-color:#ffffff;">Глобальное имя базы данных</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#ffffff;"><span style=" font-family:'Trebuchet MS'; font-size:16px; color:#000000; background-color:#ffffff;">Для того, чтобы база данных была уникально идентифицирована в глобальном масштабе используется глобальное имя базы данных. Оно состоит из имени базы данных и домена базы данных. Так как две базы данных в одном домене не могут иметь одинаковые имена, то глобальное имя базы данных будет уникальным.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Trebuchet MS'; font-size:16px; font-weight:600; color:#000000; background-color:#ffffff;">Имена службы (сервиса) базы данных.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#ffffff;"><span style=" font-family:'Trebuchet MS'; font-size:16px; color:#000000; background-color:#ffffff;">Кроме понятия SID существует также и понятие SERVICE NAME, которые зачастую не различают. Тем не менее, для пользователей база данных ORACLE представляет собой службу (сервис) операционной системы. Имя сервиса (SERVICE_NAME) – это сравнительно новое понятие, введенное начиная с СУБД Oracle 8i. SERVICE_NAME определяет одно или ряд имен для подключения к одному экземпляру базы данных. То есть можно указать несколько имен сервиса, ссылающихся на один экземпляр, с различными настройками. Понятие служба БД используется для логического группирования сеансов с целью иметь обобщенную единицу слежения и управления при использовании общей БД разными приложениями. Службу рекомендуется связывать с набором приложений, объединенных общими свойствами, пороговыми характеристиками или правилами потребления ресурсов СУБД.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#ffffff;"><span style=" font-family:'Trebuchet MS'; font-size:16px; color:#000000; background-color:#ffffff;">Возможные значения SERVICE_NAME указываются в сетевых установках Oracle и регистрируются в качестве службы БД процессом listener.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#ffffff;"><span style=" font-family:'Trebuchet MS'; font-size:16px; color:#000000; background-color:#ffffff;">Стандартный способ получения SID и SERVICE_NAME, который работал до десятой версии СУБД Oracle – это использование утилиты lsnrctl. Для этого достаточно воспользоваться командой services:</span></p>
<pre style=" margin-top:17px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f4f9fd;"><span style=" font-family:'Courier New,courier'; font-size:16px; color:#000000; background-color:#f4f9fd;">LSNRCTL&gt; services </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f4f9fd;"><span style=" font-family:'Courier New,courier'; font-size:16px; color:#000000; background-color:#f4f9fd;">Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=IPC)(KEY=EXTPROC))) </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f4f9fd;"><span style=" font-family:'Courier New,courier'; font-size:16px; color:#000000; background-color:#f4f9fd;">Services Summary... </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f4f9fd;"><span style=" font-family:'Courier New,courier'; font-size:16px; color:#000000; background-color:#f4f9fd;">Service &quot;PLSExtProc&quot; has 1 instance(s). </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f4f9fd;"><span style=" font-family:'Courier New,courier'; font-size:16px; color:#000000; background-color:#f4f9fd;">Instance &quot;PLSExtProc&quot;, status UNKNOWN, has 1 handler(s) for this service... </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f4f9fd;"><span style=" font-family:'Courier New,courier'; font-size:16px; color:#000000; background-color:#f4f9fd;">Service &quot;orcl&quot; has 1 instance(s). </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f4f9fd;"><span style=" font-family:'Courier New,courier'; font-size:16px; color:#000000; background-color:#f4f9fd;">Instance &quot;orcl&quot;, status READY, has 1 handler(s) for this service... </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f4f9fd;"><span style=" font-family:'Courier New,courier'; font-size:16px; color:#000000; background-color:#f4f9fd;">The command completed successfully </span></pre>
<pre style=" margin-top:0px; margin-bottom:17px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f4f9fd;"><span style=" font-family:'Courier New,courier'; font-size:16px; color:#000000; background-color:#f4f9fd;">LSNRCTL&gt; </span></pre>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#ffffff;"><span style=" font-family:'Trebuchet MS'; font-size:16px; color:#000000; background-color:#ffffff;">В выводе команды мы можем видеть системный идентификатор, он же – SID (Instance), и имя сервиса – SERVICE_NAME (Service). В данном случае они совпадают, но это бывает не всегда.</span></p>
<pre style=" margin-top:17px; margin-bottom:17px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f4f9fd;"><span style=" font-family:'Courier New,courier'; font-size:16px; color:#000000; background-color:#f4f9fd;">select * from V$SERVICES ;</span></pre>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#ffffff;"><span style=" font-family:'Trebuchet MS'; font-size:16px; color:#000000; background-color:#ffffff;">Этот запрос для ORA10g покажет все зарегистрированные сервисы. Помимо сконфигурированных вами сервисов, всегда имеются две внутренние службы: SYS$BACKGROUND используется внутренними процессами СУБД, а к SYS$USERS причисляются соединения пользователей, не указавших желаемую им службу.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#ffffff;"><span style=" font-family:'Trebuchet MS'; font-size:16px; color:#000000; background-color:#ffffff;">Итог: Если база данных зарегистрирована листенером, как службу с определенным SERVICE_NAME, тогда в tnsnames.ora можно использовать значение параметра SERVICE_NAME, иначе нужно будет использовать значение SID.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br />например в файле init - db_name = XE</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">соответственно в tnsnames - SERVICE_NAME = XE</p></body></html>