<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Table objects are initialized in SQLAlchemy Core in a supplied MetaData object by calling the <span style=" font-family:'FreeMono'; font-weight:600; color:#6a1009;">Table constructor</span> with the <span style=" font-family:'FreeMono'; font-weight:600; color:#6a1009;">table name</span> and <span style=" font-family:'FreeMono'; font-weight:600; color:#6a1009;">metadata</span>; any additional argu‐ ments are assumed to be <span style=" font-family:'FreeMono'; font-weight:600; color:#6a1009;">column objects</span>. There are also some additional keyword arguments that enable features that we will discuss later. Column objects represent each field in the table. The columns are constructed by calling Column with a name, type, and then arguments that represent any additional SQL constructs and con‐ straints. For the remainder of this chapter, we are going to build up a set of tables that we’ll use throughout Part I. In Example 1-1, we create a table that could be used to store the cookie inventory for our online cookie delivery service.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">from </span><span style=" font-family:'Courier New'; color:#000000;">sqlalchemy </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">import </span><span style=" font-family:'Courier New'; color:#000000;">Table, Column, Integer, Numeric, String, ForeignKey<br /><br />cookies = Table(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">'cookies'</span><span style=" font-family:'Courier New'; color:#000000;">, metadata,<br />     Column(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">'cookie_id'</span><span style=" font-family:'Courier New'; color:#000000;">, Integer(), </span><span style=" font-family:'Courier New'; color:#660099;">primary_key</span><span style=" font-family:'Courier New'; color:#000000;">=</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">True</span><span style=" font-family:'Courier New'; color:#000000;">),<br />     Column(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">'cookie_name'</span><span style=" font-family:'Courier New'; color:#000000;">, String(</span><span style=" font-family:'Courier New'; color:#0000ff;">50</span><span style=" font-family:'Courier New'; color:#000000;">), </span><span style=" font-family:'Courier New'; color:#660099;">index</span><span style=" font-family:'Courier New'; color:#000000;">=</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">True</span><span style=" font-family:'Courier New'; color:#000000;">),<br />     Column(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">'cookie_recipe_url'</span><span style=" font-family:'Courier New'; color:#000000;">, String(</span><span style=" font-family:'Courier New'; color:#0000ff;">255</span><span style=" font-family:'Courier New'; color:#000000;">)),<br />     Column(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">'cookie_sku'</span><span style=" font-family:'Courier New'; color:#000000;">, String(</span><span style=" font-family:'Courier New'; color:#0000ff;">55</span><span style=" font-family:'Courier New'; color:#000000;">)),<br />     Column(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">'quantity'</span><span style=" font-family:'Courier New'; color:#000000;">, Integer()),<br />     Column(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008080;">'unit_cost'</span><span style=" font-family:'Courier New'; color:#000000;">, Numeric(</span><span style=" font-family:'Courier New'; color:#0000ff;">12</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; color:#0000ff;">2</span><span style=" font-family:'Courier New'; color:#000000;">))<br />)</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Notice the way we marked this column as the table’s primary key. More on this in a second. </p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">We’re making an index of cookie names to speed up queries on this column. </p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">This is a column which takes multiple arguments, length and precision, such as 11.2, which would give us numbers up to 11 digits long with two decimal places.</p></body></html>