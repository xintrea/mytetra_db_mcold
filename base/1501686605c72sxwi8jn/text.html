<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<pre style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#2b2b2b;"><span style=" font-family:'Courier New'; color:#808080;">#coding: utf-8<br /></span><span style=" font-family:'Courier New'; font-style:italic; color:#629755;">&quot;&quot;&quot;<br />XRC is an XML-based resource format for wxPython.  With it you can<br />define the layout of widgets, and then load that XRC at runtime to<br />create the layout.  There are several GUI designers available that<br />understand the XRC format, a simple one called XRCed comes with<br />wxPython.<br />&quot;&quot;&quot;<br /><br /></span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">import </span><span style=" font-family:'Courier New'; color:#a9b7c6;">wx<br /></span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">import </span><span style=" font-family:'Courier New'; color:#a9b7c6;">threading<br /></span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">import </span><span style=" font-family:'Courier New'; color:#a9b7c6;">random<br /><br /><br /></span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">class </span><span style=" font-family:'Courier New'; font-weight:600; color:#a9b7c6;">WorkerThread</span><span style=" font-family:'Courier New'; color:#a9b7c6;">(threading.Thread):<br />    </span><span style=" font-family:'Courier New'; font-style:italic; color:#629755;">&quot;&quot;&quot;<br />    This just simulates some long-running task that periodically sends<br />    a message to the GUI thread.<br />    &quot;&quot;&quot;<br />    </span><span style=" font-family:'Courier New'; color:#808080;">### </span><span style=" font-family:'Courier New'; font-style:italic; color:#a8c023;">TODO: в качестве окна принимаешь self = MyFrame<br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">def </span><span style=" font-family:'Courier New'; color:#b200b2;">__init__</span><span style=" font-family:'Courier New'; color:#a9b7c6;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">threadNum</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">window):<br />        threading.Thread.</span><span style=" font-family:'Courier New'; color:#b200b2;">__init__</span><span style=" font-family:'Courier New'; color:#a9b7c6;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.threadNum = threadNum<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.window = window<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.timeToQuit = threading.Event()<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.timeToQuit.clear()<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.messageCount = random.randint(</span><span style=" font-family:'Courier New'; color:#6897bb;">10</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#6897bb;">20</span><span style=" font-family:'Courier New'; color:#a9b7c6;">)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.messageDelay = </span><span style=" font-family:'Courier New'; color:#6897bb;">0.1 </span><span style=" font-family:'Courier New'; color:#a9b7c6;">+ </span><span style=" font-family:'Courier New'; color:#6897bb;">2.0 </span><span style=" font-family:'Courier New'; color:#a9b7c6;">* random.random()<br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">def </span><span style=" font-family:'Courier New'; font-weight:600; color:#a9b7c6;">stop</span><span style=" font-family:'Courier New'; color:#a9b7c6;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">):<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.timeToQuit.set()<br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">def </span><span style=" font-family:'Courier New'; font-weight:600; color:#a9b7c6;">run</span><span style=" font-family:'Courier New'; color:#a9b7c6;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">):<br />        msg = </span><span style=" font-family:'Courier New'; color:#a5c261;">&quot;Thread %d iterating %d times with a delay of %1.4f</span><span style=" font-family:'Courier New'; color:#cc7832;">\n</span><span style=" font-family:'Courier New'; color:#a5c261;">&quot; </span><span style=" font-family:'Courier New'; color:#a9b7c6;">\<br />              % (</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.threadNum</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.messageCount</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.messageDelay)<br />        wx.CallAfter(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.window.LogMessage</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">msg)<br /><br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">for </span><span style=" font-family:'Courier New'; color:#a9b7c6;">i </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">in </span><span style=" font-family:'Courier New'; color:#8888c6;">range</span><span style=" font-family:'Courier New'; color:#a9b7c6;">(</span><span style=" font-family:'Courier New'; color:#6897bb;">1</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.messageCount + </span><span style=" font-family:'Courier New'; color:#6897bb;">1</span><span style=" font-family:'Courier New'; color:#a9b7c6;">):<br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.timeToQuit.wait(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.messageDelay)<br />            </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">if </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.timeToQuit.isSet():<br />                </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">break<br />            </span><span style=" font-family:'Courier New'; color:#a9b7c6;">msg = </span><span style=" font-family:'Courier New'; color:#a5c261;">&quot;Message %d from thread %d</span><span style=" font-family:'Courier New'; color:#cc7832;">\n</span><span style=" font-family:'Courier New'; color:#a5c261;">&quot; </span><span style=" font-family:'Courier New'; color:#a9b7c6;">% (i</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.threadNum)<br />            </span><span style=" font-family:'Courier New'; color:#808080;">### </span><span style=" font-family:'Courier New'; font-style:italic; color:#a8c023;">TODO: Добавляем в текстовое поле сообщение<br />            </span><span style=" font-family:'Courier New'; color:#a9b7c6;">wx.CallAfter(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.window.LogMessage</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">msg)<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">else</span><span style=" font-family:'Courier New'; color:#a9b7c6;">:<br />            wx.CallAfter(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.window.ThreadFinished</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">)<br /><br /><br /></span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">class </span><span style=" font-family:'Courier New'; font-weight:600; color:#a9b7c6;">MyFrame</span><span style=" font-family:'Courier New'; color:#a9b7c6;">(wx.Frame):<br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">def </span><span style=" font-family:'Courier New'; color:#b200b2;">__init__</span><span style=" font-family:'Courier New'; color:#a9b7c6;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">):<br />        wx.Frame.</span><span style=" font-family:'Courier New'; color:#b200b2;">__init__</span><span style=" font-family:'Courier New'; color:#a9b7c6;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#8888c6;">None</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#aa4926;">title</span><span style=" font-family:'Courier New'; color:#a9b7c6;">=</span><span style=" font-family:'Courier New'; color:#a5c261;">&quot;Multi-threaded GUI&quot;</span><span style=" font-family:'Courier New'; color:#a9b7c6;">)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.threads = []<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.count = </span><span style=" font-family:'Courier New'; color:#6897bb;">0<br /><br />        </span><span style=" font-family:'Courier New'; color:#a9b7c6;">panel = wx.Panel(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">)<br />        startBtn = wx.Button(panel</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">-</span><span style=" font-family:'Courier New'; color:#6897bb;">1</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a5c261;">&quot;Start a thread&quot;</span><span style=" font-family:'Courier New'; color:#a9b7c6;">)<br />        stopBtn = wx.Button(panel</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">-</span><span style=" font-family:'Courier New'; color:#6897bb;">1</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a5c261;">&quot;Stop all threads&quot;</span><span style=" font-family:'Courier New'; color:#a9b7c6;">)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.tc = wx.StaticText(panel</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">-</span><span style=" font-family:'Courier New'; color:#6897bb;">1</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a5c261;">&quot;Worker Threads: 00&quot;</span><span style=" font-family:'Courier New'; color:#a9b7c6;">)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.log = wx.TextCtrl(panel</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">-</span><span style=" font-family:'Courier New'; color:#6897bb;">1</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a5c261;">&quot;&quot;</span><span style=" font-family:'Courier New'; color:#cc7832;">,<br />                               </span><span style=" font-family:'Courier New'; color:#aa4926;">style</span><span style=" font-family:'Courier New'; color:#a9b7c6;">=wx.TE_RICH | wx.TE_MULTILINE)<br /><br />        inner = wx.BoxSizer(wx.HORIZONTAL)<br />        inner.Add(startBtn</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#6897bb;">0</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">wx.RIGHT</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#6897bb;">15</span><span style=" font-family:'Courier New'; color:#a9b7c6;">)<br />        inner.Add(stopBtn</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#6897bb;">0</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">wx.RIGHT</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#6897bb;">15</span><span style=" font-family:'Courier New'; color:#a9b7c6;">)<br />        inner.Add(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.tc</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#6897bb;">0</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">wx.ALIGN_CENTER_VERTICAL)<br />        main = wx.BoxSizer(wx.VERTICAL)<br />        main.Add(inner</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#6897bb;">0</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">wx.ALL</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#6897bb;">5</span><span style=" font-family:'Courier New'; color:#a9b7c6;">)<br />        main.Add(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.log</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#6897bb;">1</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">wx.EXPAND | wx.ALL</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#6897bb;">5</span><span style=" font-family:'Courier New'; color:#a9b7c6;">)<br />        panel.SetSizer(main)<br /><br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.Bind(wx.EVT_BUTTON</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.OnStartButton</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">startBtn)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.Bind(wx.EVT_BUTTON</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.OnStopButton</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">stopBtn)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.Bind(wx.EVT_CLOSE</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.OnCloseWindow)<br /><br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.UpdateCount()<br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">def </span><span style=" font-family:'Courier New'; font-weight:600; color:#a9b7c6;">OnStartButton</span><span style=" font-family:'Courier New'; color:#a9b7c6;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#808080;">evt</span><span style=" font-family:'Courier New'; color:#a9b7c6;">):<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.count += </span><span style=" font-family:'Courier New'; color:#6897bb;">1<br />        </span><span style=" font-family:'Courier New'; color:#808080;">### </span><span style=" font-family:'Courier New'; font-style:italic; color:#a8c023;">TODO: в качестве self передавать себя, т.е. окно <br />        </span><span style=" font-family:'Courier New'; color:#a9b7c6;">thread = WorkerThread(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.count</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.threads.append(thread)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.UpdateCount()<br />        thread.start()<br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">def </span><span style=" font-family:'Courier New'; font-weight:600; color:#a9b7c6;">OnStopButton</span><span style=" font-family:'Courier New'; color:#a9b7c6;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#808080;">evt</span><span style=" font-family:'Courier New'; color:#a9b7c6;">):<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.StopThreads()<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.UpdateCount()<br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">def </span><span style=" font-family:'Courier New'; font-weight:600; color:#a9b7c6;">OnCloseWindow</span><span style=" font-family:'Courier New'; color:#a9b7c6;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#808080;">evt</span><span style=" font-family:'Courier New'; color:#a9b7c6;">):<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.StopThreads()<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.Destroy()<br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">def </span><span style=" font-family:'Courier New'; font-weight:600; color:#a9b7c6;">StopThreads</span><span style=" font-family:'Courier New'; color:#a9b7c6;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">):<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">while </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.threads:<br />            thread = </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.threads[</span><span style=" font-family:'Courier New'; color:#6897bb;">0</span><span style=" font-family:'Courier New'; color:#a9b7c6;">]<br />            thread.stop()<br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.threads.remove(thread)<br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">def </span><span style=" font-family:'Courier New'; font-weight:600; color:#a9b7c6;">UpdateCount</span><span style=" font-family:'Courier New'; color:#a9b7c6;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">):<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.tc.SetLabel(</span><span style=" font-family:'Courier New'; color:#a5c261;">&quot;Worker Threads: %d&quot; </span><span style=" font-family:'Courier New'; color:#a9b7c6;">% </span><span style=" font-family:'Courier New'; color:#8888c6;">len</span><span style=" font-family:'Courier New'; color:#a9b7c6;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.threads))<br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">def </span><span style=" font-family:'Courier New'; font-weight:600; color:#a9b7c6;">LogMessage</span><span style=" font-family:'Courier New'; color:#a9b7c6;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">msg):<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.log.AppendText(msg)<br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">def </span><span style=" font-family:'Courier New'; font-weight:600; color:#a9b7c6;">ThreadFinished</span><span style=" font-family:'Courier New'; color:#a9b7c6;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">thread):<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.threads.remove(thread)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.UpdateCount()<br /><br /><br />app = wx.App()<br />frm = MyFrame()<br />frm.Show()<br />app.MainLoop()</span></pre></body></html>