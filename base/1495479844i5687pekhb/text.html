<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:7px; margin-bottom:7px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:16px; background-color:#ffffff;"><a name="id_104"></a><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000; background-color:#ffffff;">В</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000; background-color:#ffffff;"> отличие от схемы, понятие пользователя в базах данных служит для моделирования возможностей прикладной программы совершать те или иные действия в БД. Что касается действий с объектами БД, то </span><span style=" font-family:'FreeMono'; font-size:12px; font-weight:600; color:#6a1009; background-color:#ffffff;">специального разрешения</span><span style=" font-family:'FreeMono'; font-size:12px; color:#6a1009; background-color:#ffffff;"> </span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000; background-color:#ffffff;">на такие действия Oracle не требует в двух случаях:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000; background-color:#ffffff;" style=" margin-top:7px; margin-bottom:2px; margin-left:7px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="mark_104"></a><span style=" font-size:12px; font-weight:600;">к</span><span style=" font-size:12px; font-weight:600;">огда объект доступа принадлежит самому пользователю,</span></li>
<li style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; font-weight:600; color:#000000;" style=" margin-top:2px; margin-bottom:7px; margin-left:7px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:12px;">когда действие с объектом объявлено &quot;публичным&quot;.</span></li></ul>
<p style=" margin-top:7px; margin-bottom:7px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:16px; background-color:#ffffff;"><a name="mark_105"></a><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000; background-color:#ffffff;">В</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000; background-color:#ffffff;"> остальных случаях для выполнения действия пользователь должен иметь специально выданное ему полномочие (&quot;привилегию&quot;, по терминологии Oracle). Примерами таких полномочий могут служить полномочие создавать таблицу (в собственной схеме!), полномочие обращаться запросом SELECT к чужой таблице.</span></p>
<p style=" margin-top:7px; margin-bottom:7px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:16px; background-color:#ffffff;"><a name="mark_108"></a><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000; background-color:#ffffff;">В</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000; background-color:#ffffff;"> БД Oracle самостоятельным является понятие пользователя, а </span><span style=" font-family:'FreeMono'; font-size:12px; font-weight:600; color:#6a1009; background-color:#ffffff;">понятие схемы подчинено</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000; background-color:#ffffff;"> ему. Так, по команде</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:12px; color:#8b0000;">CREATE USER</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000;"> СУБД создаст в БД </span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; font-style:italic; color:#000000;">пользователя</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000;"> и одновременно автоматически — </span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; font-style:italic; color:#000000;">схему</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000;"> с тем же именем, к которой будет относить все объекты &quot;этого пользователя&quot;, и только их. Схема будет удалена из БД также автоматически при удалении пользователя.</span></p>
<p style=" margin-top:7px; margin-bottom:7px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:16px; background-color:#ffffff;"><a name="mark_109"></a><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000; background-color:#ffffff;">Б</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000; background-color:#ffffff;">ольшинство объектов БД, например, таблицы, индексы, процедуры вида</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:12px; color:#8b0000;">SYNONYM</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000;">, обязаны находиться в одной и ровно одной схеме (&quot;принадлежать одному пользователю&quot;). Однако небольшая часть объектов, например, вида </span><span style=" font-family:'monospace'; font-size:12px; color:#8b0000;">PUBLIC SYNONYM</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000;"> или </span><span style=" font-family:'monospace'; font-size:12px; color:#8b0000;">DIRECTORY</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000;">, хранятся в БД вне всякой схемы и &quot;не принадлежат </span><span style=" font-family:'FreeMono'; font-size:12px; font-weight:600; color:#6a1009;">никакому конкретному пользователю</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000;">&quot;.</span></p>
<p style=" margin-top:7px; margin-bottom:7px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:16px; background-color:#ffffff;"><a name="mark_111"></a><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000; background-color:#ffffff;">Д</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000; background-color:#ffffff;">емонстрационный пользователь</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:12px; color:#8b0000;">SCOTT</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000;"> изначально обладает некоторым набором полномочий, например, создания таблиц и подключения к СУБД. В то же время ему изначально не приданы, скажем, полномочия создавать представления данных или же синонимы. Придать ему эти полномочия способны, например, пользователи </span><span style=" font-family:'monospace'; font-size:12px; color:#8b0000;">SYS</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000;"> и </span><span style=" font-family:'monospace'; font-size:12px; color:#8b0000;">SYSTEM</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000;">. Эти пользователи могут быть названы &quot;администраторами&quot;; они имеются в любой БД Oracle, и при этом </span><span style=" font-family:'monospace'; font-size:12px; color:#8b0000;">SYS</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000;"> может быть неформально назван &quot;суперпользователем&quot; или &quot;главным администратором&quot;, а </span><span style=" font-family:'monospace'; font-size:12px; color:#8b0000;">SYSTEM</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000;"> несколько ограничен в правах по сравнению с </span><span style=" font-family:'monospace'; font-size:12px; color:#8b0000;">SYS</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000;">.</span></p>
<p style=" margin-top:7px; margin-bottom:7px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:16px; background-color:#ffffff;"><a name="mark_115"></a><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000; background-color:#ffffff;">П</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000; background-color:#ffffff;">олномочия (= привилегии) выдаются командой</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:12px; color:#8b0000;">GRANT</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000;"> и изымаются командой </span><span style=" font-family:'monospace'; font-size:12px; color:#8b0000;">REVOKE</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000;">.</span></p>
<p style=" margin-top:7px; margin-bottom:7px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:16px; background-color:#ffffff;"><a name="mark_122"></a><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; font-style:italic; color:#000000;">П</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; font-style:italic; color:#000000;">ример</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000;">. Подсоединение в </span><span style=" font-family:'monospace'; font-size:12px; color:#8b0000;">SQL*Plus</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000;"> в качестве </span><span style=" font-family:'monospace'; font-size:12px; color:#8b0000;">SYS</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000;">, простое создание пользователя </span><span style=" font-family:'monospace'; font-size:12px; color:#8b0000;">YARD</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000;"> вместе со своей схемой и с паролем pass, наделение пользователя </span><span style=" font-family:'monospace'; font-size:12px; color:#8b0000;">YARD</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000;"> некоторыми общими привилегиями:</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><a name="mark_125"></a><span style=" font-family:'Courier New,courier'; font-size:12px; color:#8b0000;">C</span><span style=" font-family:'Courier New,courier'; font-size:12px; color:#8b0000;">ONNECT / AS SYSDBA</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Courier New,courier'; font-size:12px; color:#8b0000;">CREATE USER yard IDENTIFIED BY pass;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Courier New,courier'; font-size:12px; color:#8b0000;">GRANT connect, resource, create view TO yard;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Courier New,courier'; font-size:12px; color:#8b0000;">Подключение к СУБД под именем YARD и попытка обратиться к таблице EMP:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Courier New,courier'; font-size:12px; color:#8b0000;">SQL&gt; CONNECT yard/pass</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Courier New,courier'; font-size:12px; color:#8b0000;">Connected.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Courier New,courier'; font-size:12px; color:#8b0000;">SQL&gt; DESCRIBE emp</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Courier New,courier'; font-size:12px; color:#8b0000;">ERROR:</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Courier New,courier'; font-size:12px; color:#8b0000;">ORA-04043: object emp does not exist</span></p>
<p style=" margin-top:7px; margin-bottom:7px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:16px; background-color:#ffffff;"><a name="mark_130"></a><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000; background-color:#ffffff;">О</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000; background-color:#ffffff;">шибка возникла потому, что пользователь</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:12px; color:#8b0000;">YARD</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000;"> (как и любой другой) работает в собственной схеме БД, а в схеме </span><span style=" font-family:'monospace'; font-size:12px; color:#8b0000;">YARD</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000;"> таблицы </span><span style=" font-family:'monospace'; font-size:12px; color:#8b0000;">EMP</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000;">нет — она имеется в схеме </span><span style=" font-family:'monospace'; font-size:12px; color:#8b0000;">SCOTT</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000;">. Разрешить же пользователю </span><span style=" font-family:'monospace'; font-size:12px; color:#8b0000;">YARD</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000;"> обращаться к данным таблицы </span><span style=" font-family:'monospace'; font-size:12px; color:#8b0000;">EMP</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000;"> в схеме </span><span style=" font-family:'monospace'; font-size:12px; color:#8b0000;">SCOTT</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000;"> можно специально выданной командой </span><span style=" font-family:'monospace'; font-size:12px; color:#8b0000;">GRANT</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000;">, например:</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><a name="mark_131"></a><span style=" font-family:'Courier New,courier'; font-size:12px; color:#8b0000;">C</span><span style=" font-family:'Courier New,courier'; font-size:12px; color:#8b0000;">ONNECT scott/tiger</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:10px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Courier New,courier'; font-size:12px; color:#8b0000;">GRANT SELECT ON emp TO yard;</span></p>
<p style=" margin-top:7px; margin-bottom:7px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:16px; background-color:#ffffff;"><a name="mark_140"></a><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000; background-color:#ffffff;">В</span><span style=" font-family:'lucida grande,tahoma,verdana,arial,sans-serif'; font-size:12px; color:#000000; background-color:#ffffff;"> Oracle понятие &quot;пользователь&quot; естественно связывать не с физическим лицом, обращающимся к БД, а с приложением.</span></p></body></html>