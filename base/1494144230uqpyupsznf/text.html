<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#2b2b2b;"><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">def </span><span style=" font-family:'Courier New'; font-weight:600; color:#a9b7c6;">delete_event</span><span style=" font-family:'Courier New'; color:#a9b7c6;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#808080;">widget</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#808080;">event</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#808080;">data=</span><span style=" font-family:'Courier New'; font-weight:600; color:#808080;">None</span><span style=" font-family:'Courier New'; color:#a9b7c6;">):<br />    </span><span style=" font-family:'Courier New'; color:#808080;"># Если вы возвращаете FALSE в обработчике &quot;delete_event&quot;,<br />    # GTK отправит сигнал &quot;destroy&quot;. Возвращение TRUE означает<br />    # что вы не хотите чтобы окно было уничтожено.<br />    # Это удобно использовать для всплывающих окон<br />    # type dialogs.<br />    </span><span style=" font-family:'Courier New'; color:#8888c6;">print</span><span style=" font-family:'Courier New'; color:#a9b7c6;">(</span><span style=" font-family:'Courier New'; color:#008080;">&quot;delete event occurred&quot;</span><span style=" font-family:'Courier New'; color:#a9b7c6;">)<br /><br />    </span><span style=" font-family:'Courier New'; color:#808080;"># Измените с FALSE на TRUE И главное окно не будет уничтожено<br />    # обработчиком &quot;delete_event&quot;.<br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">return False</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#2b2b2b;"><span style=" font-family:'Courier New'; color:#a9b7c6; background-color:#344134;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.window.connect(</span><span style=" font-family:'Courier New'; color:#008080;">&quot;delete_event&quot;</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6; background-color:#344134;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.delete_event)</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; color:#a9b7c6;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">строки 41 и 46 иллюстрируют 2 примера присоединения к объекту обработчика сигнала, в данном случае к window. Здесь отлавливаются сигналы “delete event” и “destroy”. Первый излучается, когда мы закрываем окно в оконном менеджере, или используем метод GtkWidgetdestroy(). Второй излучается, когда мы возвращаем FALSE в методе “delete_event”.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">    self.window.connect(&quot;delete_event&quot;, self.delete_event)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'FreeMono'; color:#6a1009;">    self.window.connect(&quot;destroy&quot;, self.destroy)</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'FreeMono'; color:#6a1009;"><br /></p></body></html>