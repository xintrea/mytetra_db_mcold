<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'georgia,serif'; font-size:xx-large; font-weight:600; color:#a0abba;"><br />4.3. Функции range() и xrange()</span></p>
<p style=" margin-top:5px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;">Если Вам необходимо перебирать последовательность чисел, то пригодится встроенная функция </span><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">range()</span><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;">. Она создает список, содержащий арифметическую прогрессию:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">&gt;&gt;&gt; range(10)</span><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"><br /></span><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;">Указанная верхняя граница никогда не входит в созданную последовательность. </span><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">range(10)</span><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"> создает список из 10 значений, точно соответствующих допустимым индексам для элементов последовательности, имеющей длину 10. Можно указать другую нижнюю границу или другое приращение (шаг), в том числе и отрицательное:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">&gt;&gt;&gt; range(5, 10)</span><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"><br /></span><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">[5, 6, 7, 8, 9]</span><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"><br /></span><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">&gt;&gt;&gt; range(0, 10, 3)</span><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"><br /></span><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">[0, 3, 6, 9]</span><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"><br /></span><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">&gt;&gt;&gt; range(-10, -100, -30)</span><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"><br /></span><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">[-10, -40, -70]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;">Для того, чтобы перебрать индексы последовательности, используйте совместно </span><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">range()</span><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"> и </span><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">len()</span><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;">:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">&gt;&gt;&gt; a = ['У', 'Матери', 'есть', 'маленькая', 'овечка']</span><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"><br /></span><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">&gt;&gt;&gt; for i in range(len(a)):</span><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"><br /></span><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">...     print i, a[i]</span><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"><br /></span><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">...</span><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"><br /></span><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">0 У</span><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"><br /></span><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">1 Матери</span><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"><br /></span><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">2 есть</span><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"><br /></span><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">3 маленькая</span><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"><br /></span><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">4 овечка</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;">Дотошный читатель может заметить, что если нужно перебирать числа большого диапазона, создание списка будет неоправданно, а в некоторых случаях просто не хватит памяти:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">&gt;&gt;&gt; l=range(1000000000)</span><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"><br /></span><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">Traceback (most recent call last):</span><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"><br /></span><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"><br /></span><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">MemoryError</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;">Действительно, если мы не собираемся изменять список, достаточно создать псевдосписок — объект, для которого мы можем получить значения &quot;элементов&quot;, но не можем изменить их или порядок их следования. Для этих целей в языке Python предусмотрена функция </span><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">xrange()</span><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;">:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">&gt;&gt;&gt; xrange(5, 10)</span><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"><br /></span><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">xrange(5, 10)</span><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"><br /></span><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">&gt;&gt;&gt; xrange(0, 10, 3)</span><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"><br /></span><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">xrange(0, 12, 3)</span><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"><br /></span><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">&gt;&gt;&gt; xrange(-10, -100, -30)</span><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"><br /></span><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">xrange(-10, -100, -30)</span><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"><br /></span><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">&gt;&gt;&gt; a = ['У', 'Матери', 'есть', 'маленькая', 'овечка']</span><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"><br /></span><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">&gt;&gt;&gt; for i in xrange(len(a)):</span><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"><br /></span><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">...     print i, a[i]</span><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"><br /></span><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">...</span><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"><br /></span><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">0 У</span><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"><br /></span><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">1 Матери</span><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"><br /></span><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">2 есть</span><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"><br /></span><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">3 маленькая</span><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"><br /></span><span style=" font-family:'courier new,courier,monospace'; font-size:13px; color:#454444;">4 овечка</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;"> </span></p>
<p style=" margin-top:3px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><a name="instr-footnotes"></a><span style=" font-family:'arial,sans-serif'; font-size:13px; font-weight:600; color:#454444;">П</span><span style=" font-family:'arial,sans-serif'; font-size:13px; font-weight:600; color:#454444;">римечания:</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'arial,sans-serif'; font-size:13px; color:#454444;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:13px;">(в том числе и инструкция for) требует возможности получить произвольный элемент по индексу.</span></li></ol></body></html>