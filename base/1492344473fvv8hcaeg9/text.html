<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<pre style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#2b2b2b;"><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">from </span><span style=" font-family:'Courier New'; color:#a9b7c6;">PyQt5.QtCore </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">import </span><span style=" font-family:'Courier New'; color:#a9b7c6;">QDir</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">Qt</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">QTimer<br /></span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">from </span><span style=" font-family:'Courier New'; color:#a9b7c6;">PyQt5.QtGui </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">import </span><span style=" font-family:'Courier New'; color:#a9b7c6;">QPixmap<br /></span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">from </span><span style=" font-family:'Courier New'; color:#a9b7c6;">PyQt5.QtWidgets </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">import </span><span style=" font-family:'Courier New'; color:#a9b7c6;">(QApplication</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">QCheckBox</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">QFileDialog</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">QGridLayout</span><span style=" font-family:'Courier New'; color:#cc7832;">,<br />        </span><span style=" font-family:'Courier New'; color:#a9b7c6;">QGroupBox</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">QHBoxLayout</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">QLabel</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">QPushButton</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">QSizePolicy</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">QSpinBox</span><span style=" font-family:'Courier New'; color:#cc7832;">,<br />        </span><span style=" font-family:'Courier New'; color:#a9b7c6;">QVBoxLayout</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">QWidget)<br /><br /><br /></span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">class </span><span style=" font-family:'Courier New'; font-weight:600; color:#a9b7c6;">Screenshot</span><span style=" font-family:'Courier New'; color:#a9b7c6;">(QWidget):<br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">def </span><span style=" font-family:'Courier New'; color:#b200b2;">__init__</span><span style=" font-family:'Courier New'; color:#a9b7c6;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">):<br />        </span><span style=" font-family:'Courier New'; color:#8888c6;">super</span><span style=" font-family:'Courier New'; color:#a9b7c6;">(Screenshot</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">).</span><span style=" font-family:'Courier New'; color:#b200b2;">__init__</span><span style=" font-family:'Courier New'; color:#a9b7c6;">()<br /><br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.screenshotLabel = QLabel()<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.screenshotLabel.setSizePolicy(QSizePolicy.Expanding</span><span style=" font-family:'Courier New'; color:#cc7832;">,                   </span><span style=" font-family:'Courier New'; color:#808080;"># политики<br />                </span><span style=" font-family:'Courier New'; color:#a9b7c6;">QSizePolicy.Expanding)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.screenshotLabel.setAlignment(Qt.AlignCenter)                           </span><span style=" font-family:'Courier New'; color:#808080;"># выравниваем<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.screenshotLabel.setMinimumSize(</span><span style=" font-family:'Courier New'; color:#6897bb;">240</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#6897bb;">160</span><span style=" font-family:'Courier New'; color:#a9b7c6;">)                               </span><span style=" font-family:'Courier New'; color:#808080;"># устанавливаем минимальный размер окна<br /><br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.createOptionsGroupBox()                                                </span><span style=" font-family:'Courier New'; color:#808080;"># собственная функция создания контейнера опций<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.createButtonsLayout()                                                  </span><span style=" font-family:'Courier New'; color:#808080;"># собственная функция создания контейнера кнопок<br /><br /><br />        </span><span style=" font-family:'Courier New'; color:#a9b7c6;">mainLayout = QVBoxLayout()                                                  </span><span style=" font-family:'Courier New'; color:#808080;"># контейнер<br />        </span><span style=" font-family:'Courier New'; color:#a9b7c6;">mainLayout.addWidget(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.screenshotLabel)                                  </span><span style=" font-family:'Courier New'; color:#808080;"># добавление элементов<br />        </span><span style=" font-family:'Courier New'; color:#a9b7c6;">mainLayout.addWidget(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.optionsGroupBox)<br />        mainLayout.addLayout(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.buttonsLayout)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.setLayout(mainLayout)                                                  </span><span style=" font-family:'Courier New'; color:#808080;"># устанавливаем контейнер как основной для формы<br /><br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.shootScreen()                                                          </span><span style=" font-family:'Courier New'; color:#808080;"># функция создания скриншота<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.delaySpinBox.setValue(</span><span style=" font-family:'Courier New'; color:#6897bb;">5</span><span style=" font-family:'Courier New'; color:#a9b7c6;">)                                               </span><span style=" font-family:'Courier New'; color:#808080;"># задаем значение по умолчанию<br /><br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.setWindowTitle(</span><span style=" font-family:'Courier New'; color:#008080;">&quot;Screenshot&quot;</span><span style=" font-family:'Courier New'; color:#a9b7c6;">)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.resize(</span><span style=" font-family:'Courier New'; color:#6897bb;">300</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#6897bb;">200</span><span style=" font-family:'Courier New'; color:#a9b7c6;">)<br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">def </span><span style=" font-family:'Courier New'; font-weight:600; color:#a9b7c6;">resizeEvent</span><span style=" font-family:'Courier New'; color:#a9b7c6;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">event):<br />        scaledSize = </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.originalPixmap.size()<br />        scaledSize.scale(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.screenshotLabel.size()</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">Qt.KeepAspectRatio)<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">if not </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.screenshotLabel.pixmap() </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">or </span><span style=" font-family:'Courier New'; color:#a9b7c6;">scaledSize != </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.screenshotLabel.pixmap().size():<br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.updateScreenshotLabel()<br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">def </span><span style=" font-family:'Courier New'; font-weight:600; color:#a9b7c6;">newScreenshot</span><span style=" font-family:'Courier New'; color:#a9b7c6;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">):<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">if </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.hideThisWindowCheckBox.isChecked():<br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.hide()<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.newScreenshotButton.setDisabled(</span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">True</span><span style=" font-family:'Courier New'; color:#a9b7c6;">)<br /><br />        QTimer.singleShot(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.delaySpinBox.value() * </span><span style=" font-family:'Courier New'; color:#6897bb;">1000</span><span style=" font-family:'Courier New'; color:#cc7832;">,<br />                </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.shootScreen)<br /><br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">def </span><span style=" font-family:'Courier New'; font-weight:600; color:#a9b7c6;">saveScreenshot</span><span style=" font-family:'Courier New'; color:#a9b7c6;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">):<br />        format = </span><span style=" font-family:'Courier New'; color:#008080;">'png'<br /><br />        </span><span style=" font-family:'Courier New'; color:#a9b7c6;">initialPath = QDir.currentPath() + </span><span style=" font-family:'Courier New'; color:#008080;">&quot;/untitled.&quot; </span><span style=" font-family:'Courier New'; color:#a9b7c6;">+ format        </span><span style=" font-family:'Courier New'; color:#808080;"># 'C:/Users/mcold/Dropbox/Python projects/PyQt_examples/desktop/untitled.png'<br /><br />        </span><span style=" font-family:'Courier New'; color:#a9b7c6;">fileName</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">_ = QFileDialog.getSaveFileName(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#008080;">&quot;Save As&quot;</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">initialPath</span><span style=" font-family:'Courier New'; color:#cc7832;">,<br />                </span><span style=" font-family:'Courier New'; color:#008080;">&quot;%s Files (*.%s);;All Files (*)&quot; </span><span style=" font-family:'Courier New'; color:#a9b7c6;">% (format.upper()</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">format))<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">if </span><span style=" font-family:'Courier New'; color:#a9b7c6;">fileName:<br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.originalPixmap.save(fileName</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">format)<br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">def </span><span style=" font-family:'Courier New'; font-weight:600; color:#a9b7c6;">shootScreen</span><span style=" font-family:'Courier New'; color:#a9b7c6;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">):<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">if </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.delaySpinBox.value() != </span><span style=" font-family:'Courier New'; color:#6897bb;">0</span><span style=" font-family:'Courier New'; color:#a9b7c6;">:<br />            QApplication.instance().beep()                          </span><span style=" font-family:'Courier New'; color:#808080;"># звуковой сигнал<br /><br />        </span><span style=" font-family:'Courier New'; color:#a9b7c6;">screen = QApplication.primaryScreen()                       </span><span style=" font-family:'Courier New'; color:#808080;"># тип данных QScreen<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">if </span><span style=" font-family:'Courier New'; color:#a9b7c6;">screen </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">is not None</span><span style=" font-family:'Courier New'; color:#a9b7c6;">:<br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.originalPixmap = screen.grabWindow(</span><span style=" font-family:'Courier New'; color:#6897bb;">0</span><span style=" font-family:'Courier New'; color:#a9b7c6;">)              </span><span style=" font-family:'Courier New'; color:#808080;"># return QPixmap<br /><br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">else</span><span style=" font-family:'Courier New'; color:#a9b7c6;">:<br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.originalPixmap = QPixmap()<br /><br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.updateScreenshotLabel()                                </span><span style=" font-family:'Courier New'; color:#808080;"># устанавливаем Pixmap в label<br /><br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.newScreenshotButton.setDisabled(</span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">False</span><span style=" font-family:'Courier New'; color:#a9b7c6;">)<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">if </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.hideThisWindowCheckBox.isChecked():<br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.show()<br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">def </span><span style=" font-family:'Courier New'; font-weight:600; color:#a9b7c6;">updateCheckBox</span><span style=" font-family:'Courier New'; color:#a9b7c6;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">):<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">if </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.delaySpinBox.value() == </span><span style=" font-family:'Courier New'; color:#6897bb;">0</span><span style=" font-family:'Courier New'; color:#a9b7c6;">:<br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.hideThisWindowCheckBox.setDisabled(</span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">True</span><span style=" font-family:'Courier New'; color:#a9b7c6;">)                   </span><span style=" font-family:'Courier New'; color:#808080;"># блокировка чекбокса<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">else</span><span style=" font-family:'Courier New'; color:#a9b7c6;">:<br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.hideThisWindowCheckBox.setDisabled(</span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">False</span><span style=" font-family:'Courier New'; color:#a9b7c6;">)<br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">def </span><span style=" font-family:'Courier New'; font-weight:600; color:#a9b7c6;">createOptionsGroupBox</span><span style=" font-family:'Courier New'; color:#a9b7c6;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">):<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.optionsGroupBox = QGroupBox(</span><span style=" font-family:'Courier New'; color:#008080;">&quot;Options&quot;</span><span style=" font-family:'Courier New'; color:#a9b7c6;">)                         </span><span style=" font-family:'Courier New'; color:#808080;"># создаем группировку<br /><br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.delaySpinBox = QSpinBox()                                      </span><span style=" font-family:'Courier New'; color:#808080;"># строка редактирования<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.delaySpinBox.setSuffix(</span><span style=" font-family:'Courier New'; color:#008080;">&quot; s&quot;</span><span style=" font-family:'Courier New'; color:#a9b7c6;">)                                   </span><span style=" font-family:'Courier New'; color:#808080;"># суффикс секунды<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.delaySpinBox.setMaximum(</span><span style=" font-family:'Courier New'; color:#6897bb;">60</span><span style=" font-family:'Courier New'; color:#a9b7c6;">)                                    </span><span style=" font-family:'Courier New'; color:#808080;"># максимальное значение<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.delaySpinBox.valueChanged.connect(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.updateCheckBox)         </span><span style=" font-family:'Courier New'; color:#808080;"># сигнал - слот<br /><br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.delaySpinBoxLabel = QLabel(</span><span style=" font-family:'Courier New'; color:#008080;">&quot;Screenshot Delay:&quot;</span><span style=" font-family:'Courier New'; color:#a9b7c6;">)<br /><br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.hideThisWindowCheckBox = QCheckBox(</span><span style=" font-family:'Courier New'; color:#008080;">&quot;Hide This Window&quot;</span><span style=" font-family:'Courier New'; color:#a9b7c6;">)<br /><br />        optionsGroupBoxLayout = QGridLayout()                               </span><span style=" font-family:'Courier New'; color:#808080;"># расставляем элементы в гриде<br />        </span><span style=" font-family:'Courier New'; color:#a9b7c6;">optionsGroupBoxLayout.addWidget(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.delaySpinBoxLabel</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#6897bb;">0</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#6897bb;">0</span><span style=" font-family:'Courier New'; color:#a9b7c6;">)<br />        optionsGroupBoxLayout.addWidget(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.delaySpinBox</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#6897bb;">0</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#6897bb;">1</span><span style=" font-family:'Courier New'; color:#a9b7c6;">)<br />        optionsGroupBoxLayout.addWidget(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.hideThisWindowCheckBox</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#6897bb;">1</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#6897bb;">0</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#6897bb;">1</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#6897bb;">2</span><span style=" font-family:'Courier New'; color:#a9b7c6;">)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.optionsGroupBox.setLayout(optionsGroupBoxLayout)               </span><span style=" font-family:'Courier New'; color:#808080;"># ставим грид в групбокс<br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">def </span><span style=" font-family:'Courier New'; font-weight:600; color:#a9b7c6;">createButtonsLayout</span><span style=" font-family:'Courier New'; color:#a9b7c6;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">):<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.newScreenshotButton = </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.createButton(</span><span style=" font-family:'Courier New'; color:#008080;">&quot;New Screenshot&quot;</span><span style=" font-family:'Courier New'; color:#cc7832;">,<br />                </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.newScreenshot)<br /><br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.saveScreenshotButton = </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.createButton(</span><span style=" font-family:'Courier New'; color:#008080;">&quot;Save Screenshot&quot;</span><span style=" font-family:'Courier New'; color:#cc7832;">,<br />                </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.saveScreenshot)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.quitScreenshotButton = </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.createButton(</span><span style=" font-family:'Courier New'; color:#008080;">&quot;Quit&quot;</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.close)<br /><br /><br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.buttonsLayout = QHBoxLayout()<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.buttonsLayout.addStretch()<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.buttonsLayout.addWidget(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.newScreenshotButton)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.buttonsLayout.addWidget(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.saveScreenshotButton)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.buttonsLayout.addWidget(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.quitScreenshotButton)<br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">def </span><span style=" font-family:'Courier New'; font-weight:600; color:#a9b7c6;">createButton</span><span style=" font-family:'Courier New'; color:#a9b7c6;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">text</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">member):                                                                   </span><span style=" font-family:'Courier New'; color:#808080;"># функция создания кнопки<br />        </span><span style=" font-family:'Courier New'; color:#a9b7c6;">button = QPushButton(text)<br />        button.clicked.connect(member)<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">return </span><span style=" font-family:'Courier New'; color:#a9b7c6;">button<br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">def </span><span style=" font-family:'Courier New'; font-weight:600; color:#a9b7c6;">updateScreenshotLabel</span><span style=" font-family:'Courier New'; color:#a9b7c6;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">):<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.screenshotLabel.setPixmap(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.originalPixmap.scaled(<br />                </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#a9b7c6;">.screenshotLabel.size()</span><span style=" font-family:'Courier New'; color:#cc7832;">, </span><span style=" font-family:'Courier New'; color:#a9b7c6;">Qt.KeepAspectRatio</span><span style=" font-family:'Courier New'; color:#cc7832;">,<br />                </span><span style=" font-family:'Courier New'; color:#a9b7c6;">Qt.SmoothTransformation))<br /><br /><br /></span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">if </span><span style=" font-family:'Courier New'; color:#a9b7c6;">__name__ == </span><span style=" font-family:'Courier New'; color:#008080;">'__main__'</span><span style=" font-family:'Courier New'; color:#a9b7c6;">:<br /><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#cc7832;">import </span><span style=" font-family:'Courier New'; color:#a9b7c6;">sys<br /><br />    app = QApplication(sys.argv)<br />    screenshot = Screenshot()<br />    screenshot.show()<br />    sys.exit(app.exec_())<br /></span></pre></body></html>