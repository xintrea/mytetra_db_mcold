<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:18px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><a name="Simplified_Code"></a><span style=" font-family:'serif'; font-size:xx-large; color:#234764; background-color:#ffffff;">S</span><span style=" font-family:'serif'; font-size:xx-large; color:#234764; background-color:#ffffff;">implified Code</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000; background-color:#ffffff;">The simplification of code is a result of generator function and generator expression support provided by Python.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000; background-color:#ffffff;">To illustrate this, we will compare different implementations that implement a function, &quot;firstn&quot;, that represents the first</span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000;"> </span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; font-style:italic; color:#000000;">n</span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000;"> non-negative integers, where </span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; font-style:italic; color:#000000;">n</span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000;"> is a really big number, and assume (for the sake of the examples in this section) that each integer take up a lot of space, say 10 megabytes each.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000; background-color:#ffffff;">Note: Please note that in real life, integers do not take up that much space, unless they are really, really, really, big integers. For instance you can represent a 309 digit number with 128 bytes (add some overhead, it will still be less than 150 bytes).</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000; background-color:#ffffff;">First, let us consider the simple example of building a list and returning it.</span></p>
<p style=" margin-top:7px; margin-bottom:7px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a name="line-13"></a><a href="https://wiki.python.org/moin/Generators#"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#808080;">T</span></a><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#808080;">oggle line numbers</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a name="CA-73c1ec4dcfbe9f81e8af5205a528baf15cdc1356"></a><a href="https://wiki.python.org/moin/Generators#CA-73c1ec4dcfbe9f81e8af5205a528baf15cdc1356_1"><span style=" font-family:'courier,monospace'; color:#551a8b;"> </span></a><span style=" font-family:'courier,monospace'; color:#551a8b;">  1</span><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-73c1ec4dcfbe9f81e8af5205a528baf15cdc1356_1"></a><span style=" font-family:'courier,monospace'; color:#008000;">#</span><span style=" font-family:'courier,monospace'; color:#008000;"> Build and return a list</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-73c1ec4dcfbe9f81e8af5205a528baf15cdc1356_2"><span style=" font-family:'courier,monospace'; color:#551a8b;">   2</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-73c1ec4dcfbe9f81e8af5205a528baf15cdc1356_2"></a><span style=" font-family:'courier,monospace'; color:#a00000;">d</span><span style=" font-family:'courier,monospace'; color:#a00000;">ef</span><span style=" font-family:'courier,monospace'; color:#000000;"> firstn(n):</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-73c1ec4dcfbe9f81e8af5205a528baf15cdc1356_3"><span style=" font-family:'courier,monospace'; color:#551a8b;">   3</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-73c1ec4dcfbe9f81e8af5205a528baf15cdc1356_3"></a><span style=" font-family:'courier,monospace'; color:#000000;"> </span><span style=" font-family:'courier,monospace'; color:#000000;">   </span><span style=" font-family:'courier,monospace'; color:#000000;">num, nums = </span><span style=" font-family:'courier,monospace'; color:#0080c0;">0</span><span style=" font-family:'courier,monospace'; color:#000000;">, []</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-73c1ec4dcfbe9f81e8af5205a528baf15cdc1356_4"><span style=" font-family:'courier,monospace'; color:#551a8b;">   4</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-73c1ec4dcfbe9f81e8af5205a528baf15cdc1356_4"></a><span style=" font-family:'courier,monospace'; color:#000000;"> </span><span style=" font-family:'courier,monospace'; color:#000000;">   </span><span style=" font-family:'courier,monospace'; color:#a00000;">while</span><span style=" font-family:'courier,monospace'; color:#000000;"> num &lt; n:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-73c1ec4dcfbe9f81e8af5205a528baf15cdc1356_5"><span style=" font-family:'courier,monospace'; color:#551a8b;">   5</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-73c1ec4dcfbe9f81e8af5205a528baf15cdc1356_5"></a><span style=" font-family:'courier,monospace'; color:#000000;"> </span><span style=" font-family:'courier,monospace'; color:#000000;">       </span><span style=" font-family:'courier,monospace'; color:#000000;">nums.append(num)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-73c1ec4dcfbe9f81e8af5205a528baf15cdc1356_6"><span style=" font-family:'courier,monospace'; color:#551a8b;">   6</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-73c1ec4dcfbe9f81e8af5205a528baf15cdc1356_6"></a><span style=" font-family:'courier,monospace'; color:#000000;"> </span><span style=" font-family:'courier,monospace'; color:#000000;">       </span><span style=" font-family:'courier,monospace'; color:#000000;">num += </span><span style=" font-family:'courier,monospace'; color:#0080c0;">1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-73c1ec4dcfbe9f81e8af5205a528baf15cdc1356_7"><span style=" font-family:'courier,monospace'; color:#551a8b;">   7</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-73c1ec4dcfbe9f81e8af5205a528baf15cdc1356_7"></a><span style=" font-family:'courier,monospace'; color:#000000;"> </span><span style=" font-family:'courier,monospace'; color:#000000;">   </span><span style=" font-family:'courier,monospace'; color:#a00000;">return</span><span style=" font-family:'courier,monospace'; color:#000000;"> nums</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-73c1ec4dcfbe9f81e8af5205a528baf15cdc1356_8"><span style=" font-family:'courier,monospace'; color:#551a8b;">   8</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-73c1ec4dcfbe9f81e8af5205a528baf15cdc1356_9"><span style=" font-family:'courier,monospace'; color:#551a8b;">   9</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-73c1ec4dcfbe9f81e8af5205a528baf15cdc1356_9"></a><span style=" font-family:'courier,monospace'; color:#000000;">s</span><span style=" font-family:'courier,monospace'; color:#000000;">um_of_first_n</span><span style=" font-family:'courier,monospace'; color:#000000;"> = </span><span style=" font-family:'courier,monospace'; color:#a00000;">sum</span><span style=" font-family:'courier,monospace'; color:#000000;">(firstn(</span><span style=" font-family:'courier,monospace'; color:#0080c0;">1000000</span><span style=" font-family:'courier,monospace'; color:#000000;">))</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000; background-color:#ffffff;">The code is quite simple and straightforward, but its builds the full list in memory. This is clearly not acceptable in our case, because we cannot afford to keep all</span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000;"> </span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; font-style:italic; color:#000000;">n</span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000;"> &quot;10 megabyte&quot; integers in memory.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000; background-color:#ffffff;">So, we resort to the generator pattern. The following implements generator as an iterable object.</span></p>
<p style=" margin-top:7px; margin-bottom:7px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a name="line-28"></a><a href="https://wiki.python.org/moin/Generators#"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#808080;">T</span></a><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#808080;">oggle line numbers</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a name="CA-31c8468eb74aeab199a158c358a0dcdea389911d"></a><a href="https://wiki.python.org/moin/Generators#CA-31c8468eb74aeab199a158c358a0dcdea389911d_1"><span style=" font-family:'courier,monospace'; color:#551a8b;"> </span></a><span style=" font-family:'courier,monospace'; color:#551a8b;">  1</span><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-31c8468eb74aeab199a158c358a0dcdea389911d_1"></a><span style=" font-family:'courier,monospace'; color:#008000;">#</span><span style=" font-family:'courier,monospace'; color:#008000;"> Using the generator pattern (an iterable)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-31c8468eb74aeab199a158c358a0dcdea389911d_2"><span style=" font-family:'courier,monospace'; color:#551a8b;">   2</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-31c8468eb74aeab199a158c358a0dcdea389911d_2"></a><span style=" font-family:'courier,monospace'; color:#a00000;">c</span><span style=" font-family:'courier,monospace'; color:#a00000;">lass</span><span style=" font-family:'courier,monospace'; color:#000000;"> firstn(</span><span style=" font-family:'courier,monospace'; color:#a00000;">object</span><span style=" font-family:'courier,monospace'; color:#000000;">):</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-31c8468eb74aeab199a158c358a0dcdea389911d_3"><span style=" font-family:'courier,monospace'; color:#551a8b;">   3</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-31c8468eb74aeab199a158c358a0dcdea389911d_3"></a><span style=" font-family:'courier,monospace'; color:#000000;"> </span><span style=" font-family:'courier,monospace'; color:#000000;">   </span><span style=" font-family:'courier,monospace'; color:#a00000;">def</span><span style=" font-family:'courier,monospace'; color:#000000;"> __init__(</span><span style=" font-family:'courier,monospace'; color:#a00000;">self</span><span style=" font-family:'courier,monospace'; color:#000000;">, n):</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-31c8468eb74aeab199a158c358a0dcdea389911d_4"><span style=" font-family:'courier,monospace'; color:#551a8b;">   4</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-31c8468eb74aeab199a158c358a0dcdea389911d_4"></a><span style=" font-family:'courier,monospace'; color:#000000;"> </span><span style=" font-family:'courier,monospace'; color:#000000;">       </span><span style=" font-family:'courier,monospace'; color:#a00000;">self</span><span style=" font-family:'courier,monospace'; color:#000000;">.n = n</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-31c8468eb74aeab199a158c358a0dcdea389911d_5"><span style=" font-family:'courier,monospace'; color:#551a8b;">   5</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-31c8468eb74aeab199a158c358a0dcdea389911d_5"></a><span style=" font-family:'courier,monospace'; color:#000000;"> </span><span style=" font-family:'courier,monospace'; color:#000000;">       </span><span style=" font-family:'courier,monospace'; color:#a00000;">self</span><span style=" font-family:'courier,monospace'; color:#000000;">.num, </span><span style=" font-family:'courier,monospace'; color:#a00000;">self</span><span style=" font-family:'courier,monospace'; color:#000000;">.nums = </span><span style=" font-family:'courier,monospace'; color:#0080c0;">0</span><span style=" font-family:'courier,monospace'; color:#000000;">, []</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-31c8468eb74aeab199a158c358a0dcdea389911d_6"><span style=" font-family:'courier,monospace'; color:#551a8b;">   6</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-31c8468eb74aeab199a158c358a0dcdea389911d_7"><span style=" font-family:'courier,monospace'; color:#551a8b;">   7</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-31c8468eb74aeab199a158c358a0dcdea389911d_7"></a><span style=" font-family:'courier,monospace'; color:#000000;"> </span><span style=" font-family:'courier,monospace'; color:#000000;">   </span><span style=" font-family:'courier,monospace'; color:#a00000;">def</span><span style=" font-family:'courier,monospace'; color:#000000;"> __iter__(</span><span style=" font-family:'courier,monospace'; color:#a00000;">self</span><span style=" font-family:'courier,monospace'; color:#000000;">):</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-31c8468eb74aeab199a158c358a0dcdea389911d_8"><span style=" font-family:'courier,monospace'; color:#551a8b;">   8</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-31c8468eb74aeab199a158c358a0dcdea389911d_8"></a><span style=" font-family:'courier,monospace'; color:#000000;"> </span><span style=" font-family:'courier,monospace'; color:#000000;">       </span><span style=" font-family:'courier,monospace'; color:#a00000;">return</span><span style=" font-family:'courier,monospace'; color:#000000;"> </span><span style=" font-family:'courier,monospace'; color:#a00000;">self</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-31c8468eb74aeab199a158c358a0dcdea389911d_9"><span style=" font-family:'courier,monospace'; color:#551a8b;">   9</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-31c8468eb74aeab199a158c358a0dcdea389911d_10"><span style=" font-family:'courier,monospace'; color:#551a8b;">  10</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-31c8468eb74aeab199a158c358a0dcdea389911d_10"></a><span style=" font-family:'courier,monospace'; color:#000000;"> </span><span style=" font-family:'courier,monospace'; color:#000000;">   </span><span style=" font-family:'courier,monospace'; color:#008000;"># Python 3 compatibility</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-31c8468eb74aeab199a158c358a0dcdea389911d_11"><span style=" font-family:'courier,monospace'; color:#551a8b;">  11</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-31c8468eb74aeab199a158c358a0dcdea389911d_11"></a><span style=" font-family:'courier,monospace'; color:#000000;"> </span><span style=" font-family:'courier,monospace'; color:#000000;">   </span><span style=" font-family:'courier,monospace'; color:#a00000;">def</span><span style=" font-family:'courier,monospace'; color:#000000;"> __next__(</span><span style=" font-family:'courier,monospace'; color:#a00000;">self</span><span style=" font-family:'courier,monospace'; color:#000000;">):</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-31c8468eb74aeab199a158c358a0dcdea389911d_12"><span style=" font-family:'courier,monospace'; color:#551a8b;">  12</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-31c8468eb74aeab199a158c358a0dcdea389911d_12"></a><span style=" font-family:'courier,monospace'; color:#000000;"> </span><span style=" font-family:'courier,monospace'; color:#000000;">       </span><span style=" font-family:'courier,monospace'; color:#a00000;">return</span><span style=" font-family:'courier,monospace'; color:#000000;"> </span><span style=" font-family:'courier,monospace'; color:#a00000;">self</span><span style=" font-family:'courier,monospace'; color:#000000;">.next()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-31c8468eb74aeab199a158c358a0dcdea389911d_13"><span style=" font-family:'courier,monospace'; color:#551a8b;">  13</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-31c8468eb74aeab199a158c358a0dcdea389911d_14"><span style=" font-family:'courier,monospace'; color:#551a8b;">  14</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-31c8468eb74aeab199a158c358a0dcdea389911d_14"></a><span style=" font-family:'courier,monospace'; color:#000000;"> </span><span style=" font-family:'courier,monospace'; color:#000000;">   </span><span style=" font-family:'courier,monospace'; color:#a00000;">def</span><span style=" font-family:'courier,monospace'; color:#000000;"> next(</span><span style=" font-family:'courier,monospace'; color:#a00000;">self</span><span style=" font-family:'courier,monospace'; color:#000000;">):</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-31c8468eb74aeab199a158c358a0dcdea389911d_15"><span style=" font-family:'courier,monospace'; color:#551a8b;">  15</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-31c8468eb74aeab199a158c358a0dcdea389911d_15"></a><span style=" font-family:'courier,monospace'; color:#000000;"> </span><span style=" font-family:'courier,monospace'; color:#000000;">       </span><span style=" font-family:'courier,monospace'; color:#a00000;">if</span><span style=" font-family:'courier,monospace'; color:#000000;"> </span><span style=" font-family:'courier,monospace'; color:#a00000;">self</span><span style=" font-family:'courier,monospace'; color:#000000;">.num &lt; </span><span style=" font-family:'courier,monospace'; color:#a00000;">self</span><span style=" font-family:'courier,monospace'; color:#000000;">.n:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-31c8468eb74aeab199a158c358a0dcdea389911d_16"><span style=" font-family:'courier,monospace'; color:#551a8b;">  16</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-31c8468eb74aeab199a158c358a0dcdea389911d_16"></a><span style=" font-family:'courier,monospace'; color:#000000;"> </span><span style=" font-family:'courier,monospace'; color:#000000;">           </span><span style=" font-family:'courier,monospace'; color:#000000;">cur, </span><span style=" font-family:'courier,monospace'; color:#a00000;">self</span><span style=" font-family:'courier,monospace'; color:#000000;">.num = </span><span style=" font-family:'courier,monospace'; color:#a00000;">self</span><span style=" font-family:'courier,monospace'; color:#000000;">.num, </span><span style=" font-family:'courier,monospace'; color:#a00000;">self</span><span style=" font-family:'courier,monospace'; color:#000000;">.num+</span><span style=" font-family:'courier,monospace'; color:#0080c0;">1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-31c8468eb74aeab199a158c358a0dcdea389911d_17"><span style=" font-family:'courier,monospace'; color:#551a8b;">  17</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-31c8468eb74aeab199a158c358a0dcdea389911d_17"></a><span style=" font-family:'courier,monospace'; color:#000000;"> </span><span style=" font-family:'courier,monospace'; color:#000000;">           </span><span style=" font-family:'courier,monospace'; color:#a00000;">return</span><span style=" font-family:'courier,monospace'; color:#000000;"> cur</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-31c8468eb74aeab199a158c358a0dcdea389911d_18"><span style=" font-family:'courier,monospace'; color:#551a8b;">  18</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-31c8468eb74aeab199a158c358a0dcdea389911d_18"></a><span style=" font-family:'courier,monospace'; color:#000000;"> </span><span style=" font-family:'courier,monospace'; color:#000000;">       </span><span style=" font-family:'courier,monospace'; color:#a00000;">else</span><span style=" font-family:'courier,monospace'; color:#000000;">:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-31c8468eb74aeab199a158c358a0dcdea389911d_19"><span style=" font-family:'courier,monospace'; color:#551a8b;">  19</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-31c8468eb74aeab199a158c358a0dcdea389911d_19"></a><span style=" font-family:'courier,monospace'; color:#000000;"> </span><span style=" font-family:'courier,monospace'; color:#000000;">           </span><span style=" font-family:'courier,monospace'; color:#a00000;">raise</span><span style=" font-family:'courier,monospace'; color:#000000;"> StopIteration()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-31c8468eb74aeab199a158c358a0dcdea389911d_20"><span style=" font-family:'courier,monospace'; color:#551a8b;">  20</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-31c8468eb74aeab199a158c358a0dcdea389911d_21"><span style=" font-family:'courier,monospace'; color:#551a8b;">  21</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-31c8468eb74aeab199a158c358a0dcdea389911d_21"></a><span style=" font-family:'courier,monospace'; color:#000000;">s</span><span style=" font-family:'courier,monospace'; color:#000000;">um_of_first_n</span><span style=" font-family:'courier,monospace'; color:#000000;"> = </span><span style=" font-family:'courier,monospace'; color:#a00000;">sum</span><span style=" font-family:'courier,monospace'; color:#000000;">(firstn(</span><span style=" font-family:'courier,monospace'; color:#0080c0;">1000000</span><span style=" font-family:'courier,monospace'; color:#000000;">))</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000; background-color:#ffffff;">This will perform as we expect, but we have the following issues:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">there is a lot of boilerplate</li>
<li style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">the logic has to be expressed in a somewhat convoluted way</li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000; background-color:#ffffff;">Furthermore, this is a pattern that we will use over and over for many similar constructs. Imagine writing all that just to get an iterator.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000; background-color:#ffffff;">Python provides generator functions as a convenient shortcut to building iterators. Lets us rewrite the above iterator as a generator function:</span></p>
<p style=" margin-top:7px; margin-bottom:7px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a name="line-60"></a><a href="https://wiki.python.org/moin/Generators#"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#808080;">T</span></a><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#808080;">oggle line numbers</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a name="CA-d5466ac7b4355903187a3edcd0c340643d098bbd"></a><a href="https://wiki.python.org/moin/Generators#CA-d5466ac7b4355903187a3edcd0c340643d098bbd_1"><span style=" font-family:'courier,monospace'; color:#551a8b;"> </span></a><span style=" font-family:'courier,monospace'; color:#551a8b;">  1</span><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-d5466ac7b4355903187a3edcd0c340643d098bbd_1"></a><span style=" font-family:'courier,monospace'; color:#008000;">#</span><span style=" font-family:'courier,monospace'; color:#008000;"> a generator that yields items instead of returning a list</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-d5466ac7b4355903187a3edcd0c340643d098bbd_2"><span style=" font-family:'courier,monospace'; color:#551a8b;">   2</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-d5466ac7b4355903187a3edcd0c340643d098bbd_2"></a><span style=" font-family:'courier,monospace'; color:#a00000;">d</span><span style=" font-family:'courier,monospace'; color:#a00000;">ef</span><span style=" font-family:'courier,monospace'; color:#000000;"> firstn(n):</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-d5466ac7b4355903187a3edcd0c340643d098bbd_3"><span style=" font-family:'courier,monospace'; color:#551a8b;">   3</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-d5466ac7b4355903187a3edcd0c340643d098bbd_3"></a><span style=" font-family:'courier,monospace'; color:#000000;"> </span><span style=" font-family:'courier,monospace'; color:#000000;">   </span><span style=" font-family:'courier,monospace'; color:#000000;">num = </span><span style=" font-family:'courier,monospace'; color:#0080c0;">0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-d5466ac7b4355903187a3edcd0c340643d098bbd_4"><span style=" font-family:'courier,monospace'; color:#551a8b;">   4</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-d5466ac7b4355903187a3edcd0c340643d098bbd_4"></a><span style=" font-family:'courier,monospace'; color:#000000;"> </span><span style=" font-family:'courier,monospace'; color:#000000;">   </span><span style=" font-family:'courier,monospace'; color:#a00000;">while</span><span style=" font-family:'courier,monospace'; color:#000000;"> num &lt; n:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-d5466ac7b4355903187a3edcd0c340643d098bbd_5"><span style=" font-family:'courier,monospace'; color:#551a8b;">   5</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-d5466ac7b4355903187a3edcd0c340643d098bbd_5"></a><span style=" font-family:'courier,monospace'; color:#000000;"> </span><span style=" font-family:'courier,monospace'; color:#000000;">       </span><span style=" font-family:'courier,monospace'; color:#a00000;">yield</span><span style=" font-family:'courier,monospace'; color:#000000;"> num</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-d5466ac7b4355903187a3edcd0c340643d098bbd_6"><span style=" font-family:'courier,monospace'; color:#551a8b;">   6</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-d5466ac7b4355903187a3edcd0c340643d098bbd_6"></a><span style=" font-family:'courier,monospace'; color:#000000;"> </span><span style=" font-family:'courier,monospace'; color:#000000;">       </span><span style=" font-family:'courier,monospace'; color:#000000;">num += </span><span style=" font-family:'courier,monospace'; color:#0080c0;">1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-d5466ac7b4355903187a3edcd0c340643d098bbd_7"><span style=" font-family:'courier,monospace'; color:#551a8b;">   7</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-d5466ac7b4355903187a3edcd0c340643d098bbd_8"><span style=" font-family:'courier,monospace'; color:#551a8b;">   8</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-d5466ac7b4355903187a3edcd0c340643d098bbd_8"></a><span style=" font-family:'courier,monospace'; color:#000000;">s</span><span style=" font-family:'courier,monospace'; color:#000000;">um_of_first_n</span><span style=" font-family:'courier,monospace'; color:#000000;"> = </span><span style=" font-family:'courier,monospace'; color:#a00000;">sum</span><span style=" font-family:'courier,monospace'; color:#000000;">(firstn(</span><span style=" font-family:'courier,monospace'; color:#0080c0;">1000000</span><span style=" font-family:'courier,monospace'; color:#000000;">))</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000; background-color:#ffffff;">Note that the expression of the number generation logic is clear and natural. It is very similar to the implementation that built a list in memory, but has the memory usage characteristic of the iterator implementation.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; font-style:italic; color:#000000;">Note: the above code is perfectly acceptable for expository purposes, but remember that in Python 2 </span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; font-weight:600; font-style:italic; color:#000000;">firstn()</span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; font-style:italic; color:#000000;"> is equivalent to the built-in </span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; font-weight:600; font-style:italic; color:#000000;">xrange()</span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; font-style:italic; color:#000000;"> function, and in Python 3 </span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; font-weight:600; font-style:italic; color:#000000;">range()</span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; font-style:italic; color:#000000;"> is a generator. The built-ins will always be much faster. SH</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000; background-color:#ffffff;">Generator expressions provide an additional shortcut to build generators out of expressions similar to that of list comprehensions.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000; background-color:#ffffff;">In fact, we can turn a list comprehension into a generator expression by replacing the square brackets (&quot;[ ]&quot;) with parentheses. Alternately, we can think of list comprehensions as generator expressions wrapped in a list constructor.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000; background-color:#ffffff;">Consider the following example:</span></p>
<p style=" margin-top:7px; margin-bottom:7px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a name="line-80"></a><a href="https://wiki.python.org/moin/Generators#"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#808080;">T</span></a><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#808080;">oggle line numbers</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a name="CA-6021c335e902d0510d5cf727f4891fa800d440d6"></a><a href="https://wiki.python.org/moin/Generators#CA-6021c335e902d0510d5cf727f4891fa800d440d6_1"><span style=" font-family:'courier,monospace'; color:#551a8b;"> </span></a><span style=" font-family:'courier,monospace'; color:#551a8b;">  1</span><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-6021c335e902d0510d5cf727f4891fa800d440d6_1"></a><span style=" font-family:'courier,monospace'; color:#008000;">#</span><span style=" font-family:'courier,monospace'; color:#008000;"> list comprehension</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-6021c335e902d0510d5cf727f4891fa800d440d6_2"><span style=" font-family:'courier,monospace'; color:#551a8b;">   2</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-6021c335e902d0510d5cf727f4891fa800d440d6_2"></a><span style=" font-family:'courier,monospace'; color:#000000;">d</span><span style=" font-family:'courier,monospace'; color:#000000;">oubles</span><span style=" font-family:'courier,monospace'; color:#000000;"> = [</span><span style=" font-family:'courier,monospace'; color:#0080c0;">2</span><span style=" font-family:'courier,monospace'; color:#000000;"> * n </span><span style=" font-family:'courier,monospace'; color:#a00000;">for</span><span style=" font-family:'courier,monospace'; color:#000000;"> n </span><span style=" font-family:'courier,monospace'; color:#a00000;">in</span><span style=" font-family:'courier,monospace'; color:#000000;"> </span><span style=" font-family:'courier,monospace'; color:#a00000;">range</span><span style=" font-family:'courier,monospace'; color:#000000;">(</span><span style=" font-family:'courier,monospace'; color:#0080c0;">50</span><span style=" font-family:'courier,monospace'; color:#000000;">)]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-6021c335e902d0510d5cf727f4891fa800d440d6_3"><span style=" font-family:'courier,monospace'; color:#551a8b;">   3</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-6021c335e902d0510d5cf727f4891fa800d440d6_4"><span style=" font-family:'courier,monospace'; color:#551a8b;">   4</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-6021c335e902d0510d5cf727f4891fa800d440d6_4"></a><span style=" font-family:'courier,monospace'; color:#008000;">#</span><span style=" font-family:'courier,monospace'; color:#008000;"> same as the list comprehension above</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-6021c335e902d0510d5cf727f4891fa800d440d6_5"><span style=" font-family:'courier,monospace'; color:#551a8b;">   5</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-6021c335e902d0510d5cf727f4891fa800d440d6_5"></a><span style=" font-family:'courier,monospace'; color:#000000;">d</span><span style=" font-family:'courier,monospace'; color:#000000;">oubles</span><span style=" font-family:'courier,monospace'; color:#000000;"> = </span><span style=" font-family:'courier,monospace'; color:#a00000;">list</span><span style=" font-family:'courier,monospace'; color:#000000;">(</span><span style=" font-family:'courier,monospace'; color:#0080c0;">2</span><span style=" font-family:'courier,monospace'; color:#000000;"> * n </span><span style=" font-family:'courier,monospace'; color:#a00000;">for</span><span style=" font-family:'courier,monospace'; color:#000000;"> n </span><span style=" font-family:'courier,monospace'; color:#a00000;">in</span><span style=" font-family:'courier,monospace'; color:#000000;"> </span><span style=" font-family:'courier,monospace'; color:#a00000;">range</span><span style=" font-family:'courier,monospace'; color:#000000;">(</span><span style=" font-family:'courier,monospace'; color:#0080c0;">50</span><span style=" font-family:'courier,monospace'; color:#000000;">))</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000; background-color:#ffffff;">Notice how a list comprehension looks essentially like a generator expression passed to a list constructor.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000; background-color:#ffffff;">By allowing generator expressions, we don't have to write a generator function if we do not need the list. If only list comprehensions were available, and we needed to lazily build a set of items to be processed, we will have to write a generator function.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000; background-color:#ffffff;">This also means that we can use the same syntax we have been using for list comprehensions to build generators.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000; background-color:#ffffff;">Keep in mind that generators are a special type of iterator, and that containers like</span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000;"> </span><span style=" font-family:'Courier New,courier'; color:#000000;">list</span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000;"> and </span><span style=" font-family:'Courier New,courier'; color:#000000;">set</span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000;"> are also iterables. The uniform way in which all of these are handled, adds greatly to the simplification of code.</span></p>
<p style=" margin-top:18px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><a name="Improved_Performance"></a><span style=" font-family:'serif'; font-size:xx-large; color:#234764; background-color:#ffffff;">I</span><span style=" font-family:'serif'; font-size:xx-large; color:#234764; background-color:#ffffff;">mproved Performance</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000; background-color:#ffffff;">The performance improvement from the use of generators is the result of the lazy (on demand) generation of values, which translates to lower memory usage. Furthermore, we do not need to wait until all the elements have been generated before we start to use them. This is similar to the benefits provided by iterators, but the generator makes building iterators easy.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000; background-color:#ffffff;">This can be illustrated by comparing the</span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000;"> </span><span style=" font-family:'Courier New,courier'; color:#000000;">range</span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000;"> and </span><span style=" font-family:'Courier New,courier'; color:#000000;">xrange</span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000;"> built-ins of Python 2.x.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000; background-color:#ffffff;">Both</span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000;"> </span><span style=" font-family:'Courier New,courier'; color:#000000;">range</span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000;"> and </span><span style=" font-family:'Courier New,courier'; color:#000000;">xrange</span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000;"> represent a range of numbers, and have the same function signature, but </span><span style=" font-family:'Courier New,courier'; color:#000000;">range</span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000;"> returns a </span><span style=" font-family:'Courier New,courier'; color:#000000;">list</span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000;"> while </span><span style=" font-family:'Courier New,courier'; color:#000000;">xrange</span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000;"> returns a generator (at least in concept; the implementation may differ).</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000; background-color:#ffffff;">Say, we had to compute the sum of the first</span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000;"> </span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; font-style:italic; color:#000000;">n</span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000;">, say 1,000,000, non-negative numbers.</span></p>
<p style=" margin-top:7px; margin-bottom:7px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a name="line-104"></a><a href="https://wiki.python.org/moin/Generators#"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#808080;">T</span></a><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#808080;">oggle line numbers</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a name="CA-bdc68d1c164def45d62ea764ccc6bd755bf24e0b"></a><a href="https://wiki.python.org/moin/Generators#CA-bdc68d1c164def45d62ea764ccc6bd755bf24e0b_1"><span style=" font-family:'courier,monospace'; color:#551a8b;"> </span></a><span style=" font-family:'courier,monospace'; color:#551a8b;">  1</span><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-bdc68d1c164def45d62ea764ccc6bd755bf24e0b_1"></a><span style=" font-family:'courier,monospace'; color:#008000;">#</span><span style=" font-family:'courier,monospace'; color:#008000;"> Note: Python 2.x only</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-bdc68d1c164def45d62ea764ccc6bd755bf24e0b_2"><span style=" font-family:'courier,monospace'; color:#551a8b;">   2</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-bdc68d1c164def45d62ea764ccc6bd755bf24e0b_2"></a><span style=" font-family:'courier,monospace'; color:#008000;">#</span><span style=" font-family:'courier,monospace'; color:#008000;"> using a non-generator</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-bdc68d1c164def45d62ea764ccc6bd755bf24e0b_3"><span style=" font-family:'courier,monospace'; color:#551a8b;">   3</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-bdc68d1c164def45d62ea764ccc6bd755bf24e0b_3"></a><span style=" font-family:'courier,monospace'; color:#000000;">s</span><span style=" font-family:'courier,monospace'; color:#000000;">um_of_first_n</span><span style=" font-family:'courier,monospace'; color:#000000;"> = </span><span style=" font-family:'courier,monospace'; color:#a00000;">sum</span><span style=" font-family:'courier,monospace'; color:#000000;">(</span><span style=" font-family:'courier,monospace'; color:#a00000;">range</span><span style=" font-family:'courier,monospace'; color:#000000;">(</span><span style=" font-family:'courier,monospace'; color:#0080c0;">1000000</span><span style=" font-family:'courier,monospace'; color:#000000;">))</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-bdc68d1c164def45d62ea764ccc6bd755bf24e0b_4"><span style=" font-family:'courier,monospace'; color:#551a8b;">   4</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-bdc68d1c164def45d62ea764ccc6bd755bf24e0b_5"><span style=" font-family:'courier,monospace'; color:#551a8b;">   5</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-bdc68d1c164def45d62ea764ccc6bd755bf24e0b_5"></a><span style=" font-family:'courier,monospace'; color:#008000;">#</span><span style=" font-family:'courier,monospace'; color:#008000;"> using a generator</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-bdc68d1c164def45d62ea764ccc6bd755bf24e0b_6"><span style=" font-family:'courier,monospace'; color:#551a8b;">   6</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-bdc68d1c164def45d62ea764ccc6bd755bf24e0b_6"></a><span style=" font-family:'courier,monospace'; color:#000000;">s</span><span style=" font-family:'courier,monospace'; color:#000000;">um_of_first_n</span><span style=" font-family:'courier,monospace'; color:#000000;"> = </span><span style=" font-family:'courier,monospace'; color:#a00000;">sum</span><span style=" font-family:'courier,monospace'; color:#000000;">(</span><span style=" font-family:'courier,monospace'; color:#a00000;">xrange</span><span style=" font-family:'courier,monospace'; color:#000000;">(</span><span style=" font-family:'courier,monospace'; color:#0080c0;">1000000</span><span style=" font-family:'courier,monospace'; color:#000000;">))</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000; background-color:#ffffff;">Note that both lines are identical in form, but the one using</span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000;"> </span><span style=" font-family:'Courier New,courier'; color:#000000;">range</span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000;"> is much more expensive.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000; background-color:#ffffff;">When we use</span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000;"> </span><span style=" font-family:'Courier New,courier'; color:#000000;">range</span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000;"> we build a 1,000,000 element list in memory and then find its sum. This is a waste, considering that we use these 1,000,000 elements just to compute the sum.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000; background-color:#ffffff;">This waste becomes more pronounced as the number of elements (our</span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000;"> </span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; font-style:italic; color:#000000;">n</span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000;">) becomes larger, the size of our elements become larger, or both.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000; background-color:#ffffff;">On the other hand, when we use</span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000;"> </span><span style=" font-family:'Courier New,courier'; color:#000000;">xrange</span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000;">, we do not incur the cost of building a 1,000,000 element list in memory. The generator created by xrange will generate each number, which </span><span style=" font-family:'Courier New,courier'; color:#000000;">sum</span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000;"> will consume to accumulate the sum.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000; background-color:#ffffff;">In the case of the &quot;range&quot; function, using it as an iterable is the dominant use-case, and this is reflected in Python 3.x, which makes the</span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000;"> </span><span style=" font-family:'Courier New,courier'; color:#000000;">range</span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000;"> built-in return a generator instead of a list.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000; background-color:#ffffff;">Note: a generator will provide performance benefits only if we do not intend to use that set of generated values more than once.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000; background-color:#ffffff;">Consider the following example:</span></p>
<p style=" margin-top:7px; margin-bottom:7px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a name="line-126"></a><a href="https://wiki.python.org/moin/Generators#"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#808080;">T</span></a><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#808080;">oggle line numbers</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a name="CA-7f5f127f307c9812f4165f9564a00d72bfaa9c2d"></a><a href="https://wiki.python.org/moin/Generators#CA-7f5f127f307c9812f4165f9564a00d72bfaa9c2d_1"><span style=" font-family:'courier,monospace'; color:#551a8b;"> </span></a><span style=" font-family:'courier,monospace'; color:#551a8b;">  1</span><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-7f5f127f307c9812f4165f9564a00d72bfaa9c2d_1"></a><span style=" font-family:'courier,monospace'; color:#008000;">#</span><span style=" font-family:'courier,monospace'; color:#008000;"> Note: Python 2.x only</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-7f5f127f307c9812f4165f9564a00d72bfaa9c2d_2"><span style=" font-family:'courier,monospace'; color:#551a8b;">   2</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-7f5f127f307c9812f4165f9564a00d72bfaa9c2d_2"></a><span style=" font-family:'courier,monospace'; color:#000000;">s</span><span style=" font-family:'courier,monospace'; color:#000000;"> = </span><span style=" font-family:'courier,monospace'; color:#a00000;">sum</span><span style=" font-family:'courier,monospace'; color:#000000;">(</span><span style=" font-family:'courier,monospace'; color:#a00000;">xrange</span><span style=" font-family:'courier,monospace'; color:#000000;">(</span><span style=" font-family:'courier,monospace'; color:#0080c0;">1000000</span><span style=" font-family:'courier,monospace'; color:#000000;">))</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-7f5f127f307c9812f4165f9564a00d72bfaa9c2d_3"><span style=" font-family:'courier,monospace'; color:#551a8b;">   3</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-7f5f127f307c9812f4165f9564a00d72bfaa9c2d_3"></a><span style=" font-family:'courier,monospace'; color:#000000;">p</span><span style=" font-family:'courier,monospace'; color:#000000;"> = product(</span><span style=" font-family:'courier,monospace'; color:#a00000;">xrange</span><span style=" font-family:'courier,monospace'; color:#000000;">(</span><span style=" font-family:'courier,monospace'; color:#0080c0;">1000000</span><span style=" font-family:'courier,monospace'; color:#000000;">))</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000; background-color:#ffffff;">Imagine that making a integer is a very expensive process. In the above code, we just performed the same expensive process twice. In cases like this, building a list in memory might be worth it (see example below):</span></p>
<p style=" margin-top:7px; margin-bottom:7px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a name="line-133"></a><a href="https://wiki.python.org/moin/Generators#"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#808080;">T</span></a><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#808080;">oggle line numbers</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a name="CA-2feb617fa11c8940f0548771255a2de723441cc5"></a><a href="https://wiki.python.org/moin/Generators#CA-2feb617fa11c8940f0548771255a2de723441cc5_1"><span style=" font-family:'courier,monospace'; color:#551a8b;"> </span></a><span style=" font-family:'courier,monospace'; color:#551a8b;">  1</span><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-2feb617fa11c8940f0548771255a2de723441cc5_1"></a><span style=" font-family:'courier,monospace'; color:#008000;">#</span><span style=" font-family:'courier,monospace'; color:#008000;"> Note: Python 2.x only</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-2feb617fa11c8940f0548771255a2de723441cc5_2"><span style=" font-family:'courier,monospace'; color:#551a8b;">   2</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-2feb617fa11c8940f0548771255a2de723441cc5_2"></a><span style=" font-family:'courier,monospace'; color:#000000;">n</span><span style=" font-family:'courier,monospace'; color:#000000;">ums</span><span style=" font-family:'courier,monospace'; color:#000000;"> = </span><span style=" font-family:'courier,monospace'; color:#a00000;">list</span><span style=" font-family:'courier,monospace'; color:#000000;">(</span><span style=" font-family:'courier,monospace'; color:#a00000;">xrange</span><span style=" font-family:'courier,monospace'; color:#000000;">(</span><span style=" font-family:'courier,monospace'; color:#0080c0;">1000000</span><span style=" font-family:'courier,monospace'; color:#000000;">))</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-2feb617fa11c8940f0548771255a2de723441cc5_3"><span style=" font-family:'courier,monospace'; color:#551a8b;">   3</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-2feb617fa11c8940f0548771255a2de723441cc5_3"></a><span style=" font-family:'courier,monospace'; color:#000000;">s</span><span style=" font-family:'courier,monospace'; color:#000000;"> = </span><span style=" font-family:'courier,monospace'; color:#a00000;">sum</span><span style=" font-family:'courier,monospace'; color:#000000;">(nums)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-2feb617fa11c8940f0548771255a2de723441cc5_4"><span style=" font-family:'courier,monospace'; color:#551a8b;">   4</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-2feb617fa11c8940f0548771255a2de723441cc5_4"></a><span style=" font-family:'courier,monospace'; color:#000000;">p</span><span style=" font-family:'courier,monospace'; color:#000000;"> = product(nums)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000; background-color:#ffffff;">However, a generator might still be the only way, if the storage of these generated objects in memory is not practical, and it might be worth to pay the price of duplicated expensive computations.</span></p>
<p style=" margin-top:18px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><a name="Examples"></a><span style=" font-family:'serif'; font-size:xx-large; color:#234764; background-color:#ffffff;">E</span><span style=" font-family:'serif'; font-size:xx-large; color:#234764; background-color:#ffffff;">xamples</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000; background-color:#ffffff;">For example, the</span><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000;"> </span><a href="https://wiki.python.org/moin/RangeGenerator"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#551a8b;">RangeGenerator</span></a><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000;"> can be used to iterate over a large number of values, without creating a massive list (like range would)</span></p>
<p style=" margin-top:7px; margin-bottom:7px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a name="line-144"></a><a href="https://wiki.python.org/moin/Generators#"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#808080;">T</span></a><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#808080;">oggle line numbers</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a name="CA-0fd96bfaf74a22f9c516757f409e0e9676c3a21a"></a><a href="https://wiki.python.org/moin/Generators#CA-0fd96bfaf74a22f9c516757f409e0e9676c3a21a_1"><span style=" font-family:'courier,monospace'; color:#551a8b;"> </span></a><span style=" font-family:'courier,monospace'; color:#551a8b;">  1</span><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-0fd96bfaf74a22f9c516757f409e0e9676c3a21a_1"></a><span style=" font-family:'courier,monospace'; color:#008000;">#</span><span style=" font-family:'courier,monospace'; color:#008000;">the for loop will generate each i (i.e. 1,2,3,4,5, ...), add it to total,  and throw it away</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-0fd96bfaf74a22f9c516757f409e0e9676c3a21a_2"><span style=" font-family:'courier,monospace'; color:#551a8b;">   2</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-0fd96bfaf74a22f9c516757f409e0e9676c3a21a_2"></a><span style=" font-family:'courier,monospace'; color:#008000;">#</span><span style=" font-family:'courier,monospace'; color:#008000;">before the next i is generated.  This is opposed to iterating through range(...), which creates</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-0fd96bfaf74a22f9c516757f409e0e9676c3a21a_3"><span style=" font-family:'courier,monospace'; color:#551a8b;">   3</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-0fd96bfaf74a22f9c516757f409e0e9676c3a21a_3"></a><span style=" font-family:'courier,monospace'; color:#008000;">#</span><span style=" font-family:'courier,monospace'; color:#008000;">a potentially massive list and then iterates through it.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-0fd96bfaf74a22f9c516757f409e0e9676c3a21a_4"><span style=" font-family:'courier,monospace'; color:#551a8b;">   4</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-0fd96bfaf74a22f9c516757f409e0e9676c3a21a_4"></a><span style=" font-family:'courier,monospace'; color:#000000;">t</span><span style=" font-family:'courier,monospace'; color:#000000;">otal</span><span style=" font-family:'courier,monospace'; color:#000000;"> = </span><span style=" font-family:'courier,monospace'; color:#0080c0;">0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-0fd96bfaf74a22f9c516757f409e0e9676c3a21a_5"><span style=" font-family:'courier,monospace'; color:#551a8b;">   5</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-0fd96bfaf74a22f9c516757f409e0e9676c3a21a_5"></a><span style=" font-family:'courier,monospace'; color:#a00000;">f</span><span style=" font-family:'courier,monospace'; color:#a00000;">or</span><span style=" font-family:'courier,monospace'; color:#000000;"> i </span><span style=" font-family:'courier,monospace'; color:#a00000;">in</span><span style=" font-family:'courier,monospace'; color:#000000;"> irange(</span><span style=" font-family:'courier,monospace'; color:#0080c0;">1000000</span><span style=" font-family:'courier,monospace'; color:#000000;">):</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-0fd96bfaf74a22f9c516757f409e0e9676c3a21a_6"><span style=" font-family:'courier,monospace'; color:#551a8b;">   6</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-0fd96bfaf74a22f9c516757f409e0e9676c3a21a_6"></a><span style=" font-family:'courier,monospace'; color:#000000;"> </span><span style=" font-family:'courier,monospace'; color:#000000;">  </span><span style=" font-family:'courier,monospace'; color:#000000;">total += i</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000; background-color:#ffffff;">Generators can be composed. Here we create a generator on the squares of consecutive integers.</span></p>
<p style=" margin-top:7px; margin-bottom:7px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a name="line-154"></a><a href="https://wiki.python.org/moin/Generators#"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#808080;">T</span></a><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#808080;">oggle line numbers</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a name="CA-190a69233b076a9c5d39034c6f0fcaa684481b19"></a><a href="https://wiki.python.org/moin/Generators#CA-190a69233b076a9c5d39034c6f0fcaa684481b19_1"><span style=" font-family:'courier,monospace'; color:#551a8b;"> </span></a><span style=" font-family:'courier,monospace'; color:#551a8b;">  1</span><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-190a69233b076a9c5d39034c6f0fcaa684481b19_1"></a><span style=" font-family:'courier,monospace'; color:#008000;">#</span><span style=" font-family:'courier,monospace'; color:#008000;">square is a generator</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-190a69233b076a9c5d39034c6f0fcaa684481b19_2"><span style=" font-family:'courier,monospace'; color:#551a8b;">   2</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-190a69233b076a9c5d39034c6f0fcaa684481b19_2"></a><span style=" font-family:'courier,monospace'; color:#000000;">s</span><span style=" font-family:'courier,monospace'; color:#000000;">quare</span><span style=" font-family:'courier,monospace'; color:#000000;"> = (i*i </span><span style=" font-family:'courier,monospace'; color:#a00000;">for</span><span style=" font-family:'courier,monospace'; color:#000000;"> i </span><span style=" font-family:'courier,monospace'; color:#a00000;">in</span><span style=" font-family:'courier,monospace'; color:#000000;"> irange(</span><span style=" font-family:'courier,monospace'; color:#0080c0;">1000000</span><span style=" font-family:'courier,monospace'; color:#000000;">))</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-190a69233b076a9c5d39034c6f0fcaa684481b19_3"><span style=" font-family:'courier,monospace'; color:#551a8b;">   3</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-190a69233b076a9c5d39034c6f0fcaa684481b19_3"></a><span style=" font-family:'courier,monospace'; color:#008000;">#</span><span style=" font-family:'courier,monospace'; color:#008000;">add the squares</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-190a69233b076a9c5d39034c6f0fcaa684481b19_4"><span style=" font-family:'courier,monospace'; color:#551a8b;">   4</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-190a69233b076a9c5d39034c6f0fcaa684481b19_4"></a><span style=" font-family:'courier,monospace'; color:#000000;">t</span><span style=" font-family:'courier,monospace'; color:#000000;">otal</span><span style=" font-family:'courier,monospace'; color:#000000;"> = </span><span style=" font-family:'courier,monospace'; color:#0080c0;">0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-190a69233b076a9c5d39034c6f0fcaa684481b19_5"><span style=" font-family:'courier,monospace'; color:#551a8b;">   5</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-190a69233b076a9c5d39034c6f0fcaa684481b19_5"></a><span style=" font-family:'courier,monospace'; color:#a00000;">f</span><span style=" font-family:'courier,monospace'; color:#a00000;">or</span><span style=" font-family:'courier,monospace'; color:#000000;"> i </span><span style=" font-family:'courier,monospace'; color:#a00000;">in</span><span style=" font-family:'courier,monospace'; color:#000000;"> square:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-190a69233b076a9c5d39034c6f0fcaa684481b19_6"><span style=" font-family:'courier,monospace'; color:#551a8b;">   6</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-190a69233b076a9c5d39034c6f0fcaa684481b19_6"></a><span style=" font-family:'courier,monospace'; color:#000000;"> </span><span style=" font-family:'courier,monospace'; color:#000000;">  </span><span style=" font-family:'courier,monospace'; color:#000000;">total += i</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000; background-color:#ffffff;">Here, we compose a square generator with the takewhile generator, to generate squares less than 100</span></p>
<p style=" margin-top:7px; margin-bottom:7px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a name="line-164"></a><a href="https://wiki.python.org/moin/Generators#"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#808080;">T</span></a><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#808080;">oggle line numbers</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a name="CA-7d6e8c43cc838ef17cf3001184b0a5afde143f8d"></a><a href="https://wiki.python.org/moin/Generators#CA-7d6e8c43cc838ef17cf3001184b0a5afde143f8d_1"><span style=" font-family:'courier,monospace'; color:#551a8b;"> </span></a><span style=" font-family:'courier,monospace'; color:#551a8b;">  1</span><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-7d6e8c43cc838ef17cf3001184b0a5afde143f8d_1"></a><span style=" font-family:'courier,monospace'; color:#008000;">#</span><span style=" font-family:'courier,monospace'; color:#008000;">add squares less than 100</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-7d6e8c43cc838ef17cf3001184b0a5afde143f8d_2"><span style=" font-family:'courier,monospace'; color:#551a8b;">   2</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-7d6e8c43cc838ef17cf3001184b0a5afde143f8d_2"></a><span style=" font-family:'courier,monospace'; color:#000000;">s</span><span style=" font-family:'courier,monospace'; color:#000000;">quare</span><span style=" font-family:'courier,monospace'; color:#000000;"> = (i*i </span><span style=" font-family:'courier,monospace'; color:#a00000;">for</span><span style=" font-family:'courier,monospace'; color:#000000;"> i </span><span style=" font-family:'courier,monospace'; color:#a00000;">in</span><span style=" font-family:'courier,monospace'; color:#000000;"> count())</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-7d6e8c43cc838ef17cf3001184b0a5afde143f8d_3"><span style=" font-family:'courier,monospace'; color:#551a8b;">   3</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-7d6e8c43cc838ef17cf3001184b0a5afde143f8d_3"></a><span style=" font-family:'courier,monospace'; color:#000000;">b</span><span style=" font-family:'courier,monospace'; color:#000000;">ounded_squares</span><span style=" font-family:'courier,monospace'; color:#000000;"> = takewhile(</span><span style=" font-family:'courier,monospace'; color:#a00000;">lambda</span><span style=" font-family:'courier,monospace'; color:#000000;"> x : x&lt; </span><span style=" font-family:'courier,monospace'; color:#0080c0;">100</span><span style=" font-family:'courier,monospace'; color:#000000;">, square)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-7d6e8c43cc838ef17cf3001184b0a5afde143f8d_4"><span style=" font-family:'courier,monospace'; color:#551a8b;">   4</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-7d6e8c43cc838ef17cf3001184b0a5afde143f8d_4"></a><span style=" font-family:'courier,monospace'; color:#000000;">t</span><span style=" font-family:'courier,monospace'; color:#000000;">otal</span><span style=" font-family:'courier,monospace'; color:#000000;"> = </span><span style=" font-family:'courier,monospace'; color:#0080c0;">0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-7d6e8c43cc838ef17cf3001184b0a5afde143f8d_5"><span style=" font-family:'courier,monospace'; color:#551a8b;">   5</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-7d6e8c43cc838ef17cf3001184b0a5afde143f8d_5"></a><span style=" font-family:'courier,monospace'; color:#a00000;">f</span><span style=" font-family:'courier,monospace'; color:#a00000;">or</span><span style=" font-family:'courier,monospace'; color:#000000;"> i </span><span style=" font-family:'courier,monospace'; color:#a00000;">in</span><span style=" font-family:'courier,monospace'; color:#000000;"> bounded_squares:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f3f5f7;"><a href="https://wiki.python.org/moin/Generators#CA-7d6e8c43cc838ef17cf3001184b0a5afde143f8d_6"><span style=" font-family:'courier,monospace'; color:#551a8b;">   6</span></a><span style=" font-family:'courier,monospace'; color:#808080;"> </span><a name="CA-7d6e8c43cc838ef17cf3001184b0a5afde143f8d_6"></a><span style=" font-family:'courier,monospace'; color:#000000;"> </span><span style=" font-family:'courier,monospace'; color:#000000;">  </span><span style=" font-family:'courier,monospace'; color:#000000;">total += i</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Verdana,Geneva,Bitstream Vera Sans,Helvetica,sans-serif'; color:#000000; background-color:#ffffff;">to be written: Generators made from classes?</span></p></body></html>