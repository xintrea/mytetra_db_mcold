<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; color:#000000; background-color:#ffffff;">Идея:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; color:#000000; background-color:#ffffff;">- из родительского класса создаем объект окна потомка с передачей в качестве аргументов объекта родителя и объекта функции, которая принимает необходимое значение</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-style:italic; color:#808080;"># coding: utf-8<br /><br /></span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">import </span><span style=" font-family:'Courier New'; color:#000000;">sys<br /></span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">from </span><span style=" font-family:'Courier New'; color:#000000;">PyQt4 </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">import </span><span style=" font-family:'Courier New'; color:#000000;">QtGui, QtCore<br /></span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">import </span><span style=" font-family:'Courier New'; color:#000000;">mod<br /></span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">class </span><span style=" font-family:'Courier New'; color:#000000;">MainWindow(QtGui.QWidget):<br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">def </span><span style=" font-family:'Courier New'; color:#b200b2;">__init__</span><span style=" font-family:'Courier New'; color:#000000;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; color:#808080;">parent=</span><span style=" font-family:'Courier New'; font-weight:600; color:#808080;">None</span><span style=" font-family:'Courier New'; color:#000000;">):<br />        QtGui.QWidget.</span><span style=" font-family:'Courier New'; color:#b200b2;">__init__</span><span style=" font-family:'Courier New'; color:#000000;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.secondWin = </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">None<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.build()<br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">def </span><span style=" font-family:'Courier New'; color:#000000;">build(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">):<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.resize(</span><span style=" font-family:'Courier New'; color:#0000ff;">300</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; color:#0000ff;">200</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.lab = QtGui.QLabel(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008000;">'simple text'</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.pole = QtGui.QTextEdit()<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.but1 = QtGui.QPushButton(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008000;">'open window'</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.but1.clicked.connect(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.openWin)<br />        </span><span style=" font-family:'Courier New'; font-style:italic; color:#808080;"># Блок разметки<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.mainLayout = QtGui.QVBoxLayout()<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.mainLayout.addWidget(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.lab)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.mainLayout.addWidget(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.pole)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.mainLayout.addWidget(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.but1)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.setLayout(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.mainLayout)<br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">def </span><span style=" font-family:'Courier New'; color:#000000;">openWin(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">):<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">if not </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.secondWin:<br />            </span><span style=" font-family:'Courier New'; font-style:italic; color:#808080;">#передаем в качестве второго параметра  метод pasteText<br />            </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.secondWin = mod.SecondWindow(</span><span style=" font-family:'FreeMono'; font-weight:600; color:#6a1009;">self, self.pasteText</span><span style=" font-family:'Courier New'; color:#000000;">) <br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.secondWin.show()<br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">def </span><span style=" font-family:'Courier New'; color:#000000;">pasteText(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">,text):<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.</span><span style=" font-family:'FreeMono'; font-weight:600; color:#6a1009;">pole.setText(text)		# text = получаемое значение</span><span style=" font-family:'Courier New'; color:#000000;"><br /></span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">if </span><span style=" font-family:'Courier New'; color:#000000;">__name__ == </span><span style=" font-family:'Courier New'; font-weight:600; color:#008000;">&quot;__main__&quot;</span><span style=" font-family:'Courier New'; color:#000000;">:<br />    app = QtGui.QApplication(sys.argv)<br />    window = MainWindow()<br />    window.show()<br />    sys.exit(app.exec_())</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; color:#000000;">-----------------</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; color:#000000;"># mod.py</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; color:#000000;">-----------------</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-style:italic; color:#808080;"># coding: utf-8<br /><br /></span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">import </span><span style=" font-family:'Courier New'; color:#000000;">sys<br /></span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">from </span><span style=" font-family:'Courier New'; color:#000000;">PyQt4 </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">import </span><span style=" font-family:'Courier New'; color:#000000;">QtGui, QtCore<br /></span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">class </span><span style=" font-family:'Courier New'; color:#000000;">SecondWindow(QtGui.QWidget):<br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">def </span><span style=" font-family:'Courier New'; color:#b200b2;">__init__</span><span style=" font-family:'Courier New'; color:#000000;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; color:#808080;">parent=</span><span style=" font-family:'Courier New'; font-weight:600; color:#808080;">None</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'FreeMono'; font-weight:600; color:#6a1009;">callback</span><span style=" font-family:'Courier New'; color:#000000;">=</span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">None</span><span style=" font-family:'Courier New'; color:#000000;">):<br />        </span><span style=" font-family:'Courier New'; font-style:italic; color:#808080;"># Передаём ссылку на родительский элемент и чтобы виджет<br />        # отображался как самостоятельное окно указываем тип окна<br />        </span><span style=" font-family:'Courier New'; color:#000000;">QtGui.QWidget.</span><span style=" font-family:'Courier New'; color:#b200b2;">__init__</span><span style=" font-family:'Courier New'; color:#000000;">(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.build()<br />        </span><span style=" font-family:'FreeMono'; font-weight:600; color:#6a1009;">self.callbackFunction = callback</span><span style=" font-family:'Courier New'; color:#000000;"><br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">def </span><span style=" font-family:'Courier New'; color:#000000;">build(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">):<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.resize(</span><span style=" font-family:'Courier New'; color:#0000ff;">100</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; color:#0000ff;">100</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.pole_2 = QtGui.QTextEdit()<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.button_0 = QtGui.QPushButton(</span><span style=" font-family:'Courier New'; font-weight:600; color:#008000;">'Жми'</span><span style=" font-family:'Courier New'; color:#000000;">)<br />        </span><span style=" font-family:'Courier New'; font-style:italic; color:#808080;"># Блок разметки<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.mainLayout = QtGui.QVBoxLayout()<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.mainLayout.addWidget(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.pole_2)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.mainLayout.addWidget(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.button_0)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.setLayout(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.mainLayout)<br />        </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.button_0.clicked.connect(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.on_click_1)<br />    </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">def </span><span style=" font-family:'Courier New'; color:#000000;">on_click_1(</span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">, </span><span style=" font-family:'Courier New'; color:#808080;">text</span><span style=" font-family:'Courier New'; color:#000000;">):<br />        q = </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.pole_2.toPlainText()<br />        </span><span style=" font-family:'Courier New'; font-style:italic; color:#808080;">#self.pole.setText(str(q))<br />        </span><span style=" font-family:'Courier New'; font-weight:600; color:#000080;">if </span><span style=" font-family:'Courier New'; color:#94558d;">self</span><span style=" font-family:'Courier New'; color:#000000;">.callbackFunction:    </span><span style=" font-family:'Courier New'; font-style:italic; color:#808080;"># если передали калбек функцию вызываем ее..<br />            </span><span style=" font-family:'FreeMono'; font-weight:600; color:#6a1009;">self.callbackFunction(q)          # передача значения методу предка</span></p></body></html>