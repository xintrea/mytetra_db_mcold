<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:40px; background-color:#ffffff;"><a href="http://fiercemix.ru/index.php/gaides/bash/132-bash-ifthen"><span style=" font-family:'Open Sans,Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:x-large; color:#0088cc;">Проверка условий в bash</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><a href="http://fiercemix.ru/index.php/gaides/bash/132-bash-ifthen#"><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#333333; background-color:#f5f5f5; vertical-align:middle;"> </span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:15px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#ffffff;"><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:13px; color:#999999;"> Written by Fiercemix </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:15px; -qt-block-indent:0; text-indent:0px; line-height:20px;"><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:13px; color:#999999;"> Category: </span><a href="http://fiercemix.ru/index.php/gaides/bash"><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:13px; color:#0088cc;">Bash</span></a><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:13px; color:#999999;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:15px; -qt-block-indent:0; text-indent:0px; line-height:20px;"><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:13px; color:#999999;"> Published: 05 March 2014 </span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:15px; -qt-block-indent:0; text-indent:0px; line-height:20px;"><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:13px; color:#999999;"> Hits: 9722</span></p>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:21.6px; background-color:#ffffff;"><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:12px; color:#444444; background-color:#ffffff;"> </span><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:12px; font-weight:600; color:#444444;">Операторы if | then и else.</span></p>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:21.6px; background-color:#ffffff;"><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:12px; color:#444444; background-color:#ffffff;">Операторы if | then проверяют код завершения списка команд на «успешное завершение(истина)» что в свою очередь означает «0», и если это так, то выполняет одну или более команд следующих за словом then. Если проверка возвращает «не успешное завершение (ложь)» что в свою очередь означает «1» выполняется else «иначе» если того требует условие. В завершении условия обязательно закрываем его «fi»!</span><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:12px; color:#444444;"><br />Все выше написанное возможно будет понятно не сразу, но когда дальше по статье пойдут примеры, все станет на свои места.</span></p>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:21.6px; background-color:#ffffff;"><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:12px; font-weight:600; color:#444444;">Скобки</span><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:12px; color:#444444;"><br /><br />[ — является специальной встроенной командой test воспринимающей свои аргументы как выражение сравнения или файловую проверку [.....].<br /><br />[[ — расширенный вариант от «[«, является зарезервированным словом, а не командой, его bash выполняет как один элемент с кодом возврата. Внутри «[[....]]» разрешается выполнение операторов &amp;&amp;, || которые приводят к ошибке в обычных скобках «[....]» тем самым вариант с двойной скобкой более универсален.<br /><br />(( — является арифметическими выражениями, которое так же возвращают код 0. Тем самым такие выражения могут участвовать в операциях сравнения. <br /><br />Приведу список логических операторов, которые используются для if|then|else:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666;" style=" margin-top:0px; margin-bottom:0px; margin-left:25px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px;"><span style=" font-size:14px;">строка пуста<br /></span></li>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:25px; margin-right:0px; -qt-block-indent:1; text-indent:0px; line-height:20px; background-color:#fffef4;"><span style=" font-family:'Monaco,Menlo,Consolas,Courier New,monospace'; font-size:12px; color:#000000; background-color:transparent;">-z</span></p>
<li style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666;" style=" margin-top:0px; margin-bottom:0px; margin-left:25px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px;"><span style=" font-size:14px;">строка не пуста<br /></span></li>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:25px; margin-right:0px; -qt-block-indent:1; text-indent:0px; line-height:20px; background-color:#fffef4;"><span style=" font-family:'Monaco,Menlo,Consolas,Courier New,monospace'; font-size:12px; color:#000000; background-color:transparent;">-n</span></p>
<li style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666;" style=" margin-top:0px; margin-bottom:0px; margin-left:25px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px;"><span style=" font-size:14px;">строки равны<br /></span></li>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:25px; margin-right:0px; -qt-block-indent:1; text-indent:0px; line-height:20px; background-color:#fffef4;"><span style=" font-family:'Monaco,Menlo,Consolas,Courier New,monospace'; font-size:12px; color:#000000; background-color:transparent;">=,(==)</span></p>
<li style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666;" style=" margin-top:0px; margin-bottom:0px; margin-left:25px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px;"><span style=" font-size:14px;">строки неравны<br /></span></li>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:25px; margin-right:0px; -qt-block-indent:1; text-indent:0px; line-height:20px; background-color:#fffef4;"><span style=" font-family:'Monaco,Menlo,Consolas,Courier New,monospace'; font-size:12px; color:#000000; background-color:transparent;">!=</span></p>
<li style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666;" style=" margin-top:0px; margin-bottom:0px; margin-left:25px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px;"><span style=" font-size:14px;">равно<br /></span></li>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:25px; margin-right:0px; -qt-block-indent:1; text-indent:0px; line-height:20px; background-color:#fffef4;"><span style=" font-family:'Monaco,Menlo,Consolas,Courier New,monospace'; font-size:12px; color:#000000; background-color:transparent;">-eq</span></p>
<li style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666;" style=" margin-top:0px; margin-bottom:0px; margin-left:25px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px;"><span style=" font-size:14px;">неравно<br /></span></li>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:25px; margin-right:0px; -qt-block-indent:1; text-indent:0px; line-height:20px; background-color:#fffef4;"><span style=" font-family:'Monaco,Menlo,Consolas,Courier New,monospace'; font-size:12px; color:#000000; background-color:transparent;">-ne</span></p>
<li style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666;" style=" margin-top:0px; margin-bottom:0px; margin-left:25px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px;"><span style=" font-size:14px;">меньше<br /></span></li>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:25px; margin-right:0px; -qt-block-indent:1; text-indent:0px; line-height:20px; background-color:#fffef4;"><span style=" font-family:'Monaco,Menlo,Consolas,Courier New,monospace'; font-size:12px; color:#000000; background-color:transparent;">-lt,(&lt;)</span></p>
<li style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666;" style=" margin-top:0px; margin-bottom:0px; margin-left:25px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px;"><span style=" font-size:14px;">меньше или равно<br /></span></li>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:25px; margin-right:0px; -qt-block-indent:1; text-indent:0px; line-height:20px; background-color:#fffef4;"><span style=" font-family:'Monaco,Menlo,Consolas,Courier New,monospace'; font-size:12px; color:#000000; background-color:transparent;">-le,(&lt;=)</span></p>
<li style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666;" style=" margin-top:0px; margin-bottom:0px; margin-left:25px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px;"><span style=" font-size:14px;">больше<br /></span></li>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:25px; margin-right:0px; -qt-block-indent:1; text-indent:0px; line-height:20px; background-color:#fffef4;"><span style=" font-family:'Monaco,Menlo,Consolas,Courier New,monospace'; font-size:12px; color:#000000; background-color:transparent;">-gt,(&gt;)</span></p>
<li style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666;" style=" margin-top:0px; margin-bottom:0px; margin-left:25px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px;"><span style=" font-size:14px;">больше или равно<br /></span></li>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:25px; margin-right:0px; -qt-block-indent:1; text-indent:0px; line-height:20px; background-color:#fffef4;"><span style=" font-family:'Monaco,Menlo,Consolas,Courier New,monospace'; font-size:12px; color:#000000; background-color:transparent;">-ge,(&gt;=)</span></p>
<li style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666;" style=" margin-top:0px; margin-bottom:0px; margin-left:25px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px;"><span style=" font-size:14px;">отрицание логического выражения<br /></span></li>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:25px; margin-right:0px; -qt-block-indent:1; text-indent:0px; line-height:20px; background-color:#fffef4;"><span style=" font-family:'Monaco,Menlo,Consolas,Courier New,monospace'; font-size:12px; color:#000000; background-color:transparent;">!</span></p>
<li style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666;" style=" margin-top:0px; margin-bottom:0px; margin-left:25px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px;"><span style=" font-size:14px;">логическое «И»<br /></span></li>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:25px; margin-right:0px; -qt-block-indent:1; text-indent:0px; line-height:20px; background-color:#fffef4;"><span style=" font-family:'Monaco,Menlo,Consolas,Courier New,monospace'; font-size:12px; color:#000000; background-color:transparent;">-a,(&amp;&amp;)</span></p>
<li style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666;" style=" margin-top:0px; margin-bottom:10px; margin-left:25px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px;"><span style=" font-size:14px;">логическое «ИЛИ»<br /></span></li></ul>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:25px; margin-right:0px; -qt-block-indent:1; text-indent:0px; line-height:20px; background-color:#fffef4;"><span style=" font-family:'Monaco,Menlo,Consolas,Courier New,monospace'; font-size:12px; color:#000000; background-color:transparent;">-o,(||)</span></p>
<p style=" margin-top:0px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; font-weight:600; color:#666666;">Конструкции простой проверки if|then</span></p>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#fffef4;"><span style=" font-family:'Monaco,Menlo,Consolas,Courier New,monospace'; font-size:12px; color:#000000; background-color:transparent;">ifусловие;then<br />    команды<br />fi</span></p>
<p style=" margin-top:0px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666; background-color:#ffffff;">другими словами</span></p>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#fffef4;"><span style=" font-family:'Monaco,Menlo,Consolas,Courier New,monospace'; font-size:12px; color:#000000; background-color:transparent;">если  проверяемое_выражение_или_команды_верны;  то<br />   выполняемкоманды<br />закрываемесли</span></p>
<p style=" margin-top:0px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; font-weight:600; font-style:italic; color:#666666;">Пример 1</span></p>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#fffef4;"><span style=" font-family:'Monaco,Menlo,Consolas,Courier New,monospace'; font-size:12px; color:#000000; background-color:transparent;">#!/bin/bash<br /><br />if echo Тест;then<br />    echo 0<br />fi</span></p>
<p style=" margin-top:0px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666; background-color:#ffffff;">Часто встречается в скриптах проверка — «существует ли файлы или каталоги» на их примере покажу работу</span><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666;"><br /><br /></span><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; font-weight:600; font-style:italic; color:#666666;">Пример 2</span></p>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#fffef4;"><span style=" font-family:'Monaco,Menlo,Consolas,Courier New,monospace'; font-size:12px; color:#000000; background-color:transparent;">#!/bin/bash<br /><br />if[-f $HOME/.bashrc ];then<br />    echo &quot;Файл существует!&quot;<br />fi</span></p>
<p style=" margin-top:0px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; font-style:italic; color:#666666;">где</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666;" style=" margin-top:0px; margin-bottom:0px; margin-left:25px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px;"><span style=" font-size:14px;">$HOME/.bashrc — путь до файла</span></li>
<li style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666;" style=" margin-top:0px; margin-bottom:10px; margin-left:25px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px;"><span style=" font-size:14px;">echo — печатает сообщение в консоль</span></li></ul>
<p style=" margin-top:0px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666;"><br /></span><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; font-weight:600; font-style:italic; color:#666666;">Пример 3</span></p>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#fffef4;"><span style=" font-family:'Monaco,Menlo,Consolas,Courier New,monospace'; font-size:12px; color:#000000; background-color:transparent;">#!/bin/bash<br /><br />if[[-f $HOME/.bashrc &amp;&amp;-f  /usr/bin/nano ]];then<br />    echo &quot;Все впорядке, можно редактировать!&quot;<br />fi</span></p>
<p style=" margin-top:0px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666;"><br /></span><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; font-style:italic; color:#666666;">где</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666;" style=" margin-top:0px; margin-bottom:0px; margin-left:25px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px;"><span style=" font-size:14px;">&amp;&amp; — логическое «и», если первый путь «истина» проверяем второй, если он тоже «истина», то выполняем команды (echo)</span></li>
<li style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666;" style=" margin-top:0px; margin-bottom:10px; margin-left:25px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px;"><span style=" font-size:14px;">-f — ключ проверки на существования файла (о них чуть ниже)</span></li></ul>
<p style=" margin-top:0px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666;"><br /></span><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; font-weight:600; color:#666666;">Конструкции простой проверки if|then|else</span></p>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#fffef4;"><span style=" font-family:'Monaco,Menlo,Consolas,Courier New,monospace'; font-size:12px; color:#000000; background-color:transparent;">ifусловие;then<br />    команды1<br />else<br />    команды2<br />fi</span></p>
<p style=" margin-top:0px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666; background-color:#ffffff;">другими словами</span></p>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#fffef4;"><span style=" font-family:'Monaco,Menlo,Consolas,Courier New,monospace'; font-size:12px; color:#000000; background-color:transparent;">еслипроверяемое_выражение_или_команды_верны;  то<br />   команды1<br />иначе<br />   команды2<br />закрываемесли</span></p>
<p style=" margin-top:0px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666;"><br /></span><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; font-weight:600; font-style:italic; color:#666666;">Пример 4</span><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666;"><br /><br />Возможно не лучший пример, нас интересует именно ответ 0 или 1. В результате печатается в консоль «Тест» и «0» потому что команда «echo Тест» успешна и это «истина».</span></p>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#fffef4;"><span style=" font-family:'Monaco,Menlo,Consolas,Courier New,monospace'; font-size:12px; color:#000000; background-color:transparent;">#!/bin/bash<br /><br />if echo Тест;then<br />    echo 0<br />else<br />    echo 1<br />fi</span></p>
<p style=" margin-top:0px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666; background-color:#ffffff;">Намерено допустите ошибку изменив echo, в результате получите «1» и сообщение о том что «команда eho не существует» и это «ложь».</span></p>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#fffef4;"><span style=" font-family:'Monaco,Menlo,Consolas,Courier New,monospace'; font-size:12px; color:#000000; background-color:transparent;">#!/bin/bash<br /><br />if eho Тест;then<br />    echo 0<br />else<br />    echo 1<br />fi</span></p>
<p style=" margin-top:0px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; font-weight:600; color:#666666;">Примеры «существуют ли файл?»</span><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666;"><br /><br /></span><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; font-weight:600; font-style:italic; color:#666666;">Пример 5</span><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666;"><br /><br />Если файл bashrc существует, то печатает в консоль «Файл существует!», иначе печатает «Файл не существует!»</span></p>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#fffef4;"><span style=" font-family:'Monaco,Menlo,Consolas,Courier New,monospace'; font-size:12px; color:#000000; background-color:transparent;">#!/bin/bash<br /><br />if[-f &quot;$HOME/.bashrc&quot;];then<br />    echo &quot;Файл существует!&quot;<br />else<br />  echo &quot;Файл не существует!&quot;<br />fi</span></p>
<p style=" margin-top:0px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666; background-color:#ffffff;">Поиграйте с именем проверяемого файла</span><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666;"><br /><br /></span><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; font-weight:600; font-style:italic; color:#666666;">Пример 6</span></p>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#fffef4;"><span style=" font-family:'Monaco,Menlo,Consolas,Courier New,monospace'; font-size:12px; color:#000000; background-color:transparent;">#!/bin/bash<br /><br />if[[-f &quot;$HOME/.bashrc&quot;&amp;&amp;-f &quot;/usr/bin/nano&quot;]];then<br />    echo &quot;Все в порядке, можно редактировать!&quot;<br />  else<br />  echo &quot;Ошибка!&quot;<br />fi</span></p>
<p style=" margin-top:0px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666; background-color:#ffffff;">Ключи к файлам и каталогам</span></p>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#fffef4;"><span style=" font-family:'Monaco,Menlo,Consolas,Courier New,monospace'; font-size:12px; color:#000000; background-color:transparent;">[-ключ&quot;путь&quot;]</span><span style=" font-family:'Monaco,Menlo,Consolas,Courier New,monospace'; font-size:13px; color:#333333;"> </span></p>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#fffef4;"><span style=" font-family:'Monaco,Menlo,Consolas,Courier New,monospace'; font-size:12px; color:#000000; background-color:transparent;">[-e &quot;путь каталогу_или_файлу&quot;]#- существует ли файл или каталог?<br />[-r &quot;путь к файлу/каталогу&quot;]#-  доступен ли файл/каталог для чтения?<br />[-f &quot;путь к файлу/каталогу&quot;]#- существует ли файл?<br />[-d &quot;путь к каталогу&quot;]#- существует ли каталог?</span></p>
<p style=" margin-top:0px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666; background-color:#ffffff;">Полное описание возможных применений различных скобок, правильное разставление кавычек уходит далеко от темы потому могу посоветовать обратится к руководству</span><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666;"> </span><a href="http://www.bash-scripting.ru/abs/chunks/index.html"><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#0088cc;">Advanced Bash Scripting</span></a><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666;"><br /><br /></span><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; font-weight:600; color:#666666;">Арифметика</span><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666;"><br /><br /></span><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; font-weight:600; font-style:italic; color:#666666;">Пример 7</span><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666;"><br /><br />Если оператор &gt; использовать внутри [[….]], он рассматривается как оператор сравнения строк, а не чисел. Поэтому операторам &gt; и &lt; для сравнения чисел лучше заключить в круглые скобки.<br /><br />Используем круглые скобки для математического сравнение. Если «3» меньше «6» печатаем «Да».</span></p>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#fffef4;"><span style=" font-family:'Monaco,Menlo,Consolas,Courier New,monospace'; font-size:12px; color:#000000; background-color:transparent;">#!/bin/bash<br /><br />if((3&lt;6));then<br />    echo Да<br />fi</span></p>
<p style=" margin-top:0px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; font-weight:600; font-style:italic; color:#666666;">Пример 8</span><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666;"><br /><br />Использование команды test коей является квадратные скобки. Если «3» меньше «6» печатаем «Да».</span></p>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#fffef4;"><span style=" font-family:'Monaco,Menlo,Consolas,Courier New,monospace'; font-size:12px; color:#000000; background-color:transparent;">#!/bin/bash<br /><br />if[3-lt 6];then<br />    echo Да<br />fi</span></p>
<p style=" margin-top:0px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666; background-color:#ffffff;">Можно использовать и двойные квадратные скобки, как вы наверно уже поняли это расширенный вариант команды test эквивалентом которой является «[ ]». Если «3» меньше «6» печатаем «Да».</span></p>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#fffef4;"><span style=" font-family:'Monaco,Menlo,Consolas,Courier New,monospace'; font-size:12px; color:#000000; background-color:transparent;">#!/bin/bash<br />if[[3-lt 6]];then<br />    echo Да<br />fi</span></p>
<p style=" margin-top:0px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; font-weight:600; font-style:italic; color:#666666;">Пример 9</span><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666;"><br /><br />Используем двойные квадратные скобки, потому что применяем оператор «&amp;&amp;». Если первое выражение 2 = 2 (истина) тогда выполняем второе, и если оно тоже 2=2 (истина), печатаем «Верно»</span></p>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#fffef4;"><span style=" font-family:'Monaco,Menlo,Consolas,Courier New,monospace'; font-size:12px; color:#000000; background-color:transparent;">#!/bin/bash<br /><br />a=&quot;2&quot;<br />b=&quot;2&quot;<br />if[[2=&quot;$a&quot;&amp;&amp;2=&quot;$b&quot;]];then<br />    echo Верно<br />else<br />    echo Неверно<br />fi</span></p>
<p style=" margin-top:0px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666; background-color:#ffffff;">Если первое выражение 2 = 2 (истина) тогда выполняем второе, и если переменная «b» не равна двум (лож), печатаем «Не верно»</span></p>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#fffef4;"><span style=" font-family:'Monaco,Menlo,Consolas,Courier New,monospace'; font-size:12px; color:#000000; background-color:transparent;">#!/bin/bash<br /><br />a=&quot;2&quot;<br />b=&quot;3&quot;<br />if[[2=&quot;$a&quot;&amp;&amp;2=&quot;$b&quot;]];then<br />    echo Верно<br />else<br />    echo Неверно<br />fi</span></p>
<p style=" margin-top:0px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666; background-color:#ffffff;">Можно конечно сделать проще, нам главное понять принцип if|then и else, не стесняйтесь менять подставляя свои значения.</span><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666;"><br /><br /></span><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; font-weight:600; color:#666666;">Вложение нескольких проверок</span><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666;"><br /><br />Bash позволяет вкладывать в блок несколько блоков</span></p>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#fffef4;"><span style=" font-family:'Monaco,Menlo,Consolas,Courier New,monospace'; font-size:12px; color:#000000; background-color:transparent;">#!/bin/bash<br /><br />if[Условие1];then<br />  if[Условие2];then<br />    Команда1<br />  else<br />    Команда2<br />  fi<br />else<br />  Команда3<br />fi</span></p>
<p style=" margin-top:0px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; font-weight:600; color:#666666;">Построения многоярусных конструкций</span><span style=" font-family:'Helvetica Neue,Helvetica,Arial,sans-serif'; font-size:14px; color:#666666;"><br /><br />Для построения многоярусных конструкции, когда необходимо выполнять множество проверок лучше использовать elif — это краткая форма записи конструкции else if.</span></p>
<p style=" margin-top:0px; margin-bottom:20px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#fffef4;"><span style=" font-family:'Monaco,Menlo,Consolas,Courier New,monospace'; font-size:12px; color:#000000; background-color:transparent;">if[Условие1];then<br />   Команда1<br />   Команда2<br />elif[Условие2];then<br />   Команда3<br />   Команда4<br />else<br />   Команда5<br />fi</span></p></body></html>