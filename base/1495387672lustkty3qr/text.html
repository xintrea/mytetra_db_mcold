<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style="-qt-paragraph-type:empty; margin-top:4px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Trebuchet MS,Arial,Helvetica,sans-serif'; font-size:x-large; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222;">Самое главное — побороть боязнь белого листа. Я всегда говорю это себе, когда нужно начать работу над чем-то и не знаешь, как подступиться. Так что я решил не ломать голову над тем, о чем будет первая запись в этом блоге, а просто выложить небольшую шпаргалку по текстовому редактору Vim.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222;">Шпаргалка эта уже не первый месяц хранится у меня в ~/txt/vim.txt. За это время я успел составить довольно объемный справочник по основным командам Vim. При желании вы можете начать свое обучение работе с Vim с этого поста.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222;">Итак, вот она:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#000000; background-color:#f1f1f1;">Файл настройки: ~/.vimrc</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"><br />Можно редактировать файлы через сеть, например<br />:e &lt;scp|ftp|ftps&gt;://user@host/path/to/the/file.txt<br />:Ex или :e ./ - файловый менеджер<br /><br />== Основы ==<br />hjkl                      перемещение в разные стороны<br />i                         режим вставки<br />I                         добавление в начало строки<br />a                         режим добавления<br />A                         добавление в конец строки<br />o                         добавить строку сразу за текущей<br />O                         добавить строку перед текущей<br />R                         писать поверх имеющегося текста<br />u, :u[ndo]                отмена предыдущего действия (undo)<br />CTR-R, :red[o]            отмена отмены предыдущего действия (redo)<br />dd                        вырезать (удалить) строку<br />cc                        удалить и начать редактирование<br />yy                        копировать строку<br />p                         вставить из буфера обмена<br />&lt;n&gt;d                      удалить n+1 строку<br />&lt;n&gt;y                      скопировать n+1 строку<br />ESC                       перейти в режим просмотра<br />DEL                       удалить следующий символ<br />:&lt;n&gt;                      перейти на строку #n<br />%                         перейти к парной скобке<br />:e **/filename.c          редактировать файл (с поиском по имени)<br />:w [fname]                записать изменения<br />:wa                       сохранить изменения во всех файлах<br />:q                        выйти из редактора<br />:q!                       выйти из редактора, не сохраняя изменения<br />:color &lt;name&gt;             выбор цветовой схемы. цветвые схемы:<br />                            /usr/local/share/vim/vim72/colors/*.vim<br />:pwd                      текущий каталог<br />:cd [path]                перейти в другой каталог<br />:!команда                 выполнить команду - man, git, и так далее<br />                            стрелочками веерх и вниз можно автодополнять<br />                            команды и искать по истории<br />CTR+p или CTR+n           автоматическое дополнение текста<br />                            (в режиме редактирования)<br />CTR+r,=,&lt;expr&gt;            вставить выражение, например 5*2 - 3<br />                            (в режиме редактирования)<br />CTR+u, CTR+d              Page Up / Page Down<br />CTR+y, CTR+e              Перемотка вверх/вниз без движения курсора               <br /><br />== Подсветка синтаксиса ==<br />:syntax on                включить подсветку<br />:syntax off               выключить подсветку (по умолчанию)<br /><br />== Перенос строк ==<br />:set wrap                 разрешить word wrap (по умолчанию)<br />:set nowrap               запретить word wrap<br /><br />== Печать ==<br />:ha[rdcopy]                   распечатать документ<br />:set printoptions=duplex:off  отключить двустороннюю печать<br /><br />== Сворачивание ==<br />zc                        свернуть блок<br />zo                        развернуть блок<br />zM                        закрыть все блоки<br />zR                        открыть все блоки<br />za                        инвертирование<br />zf                        см :set foldmethod=manual<br />:set foldenable           включить свoрачивание<br />:set foldmethod=syntax    сворачивание на основе синтаксиса<br />:set foldmethod=indent    сворачивание на основе отступов<br />:set foldmethod=manual    выделяем участок с помощью v и говорим zf<br />:set foldmethod=marker    сворачивание на основе маркеров в тексте<br />:set foldmarker=bigin,end задаем маркеры начала и конца блока<br /><br />== Маркеры ==<br />ma                        установить локальный маркер a<br />mB                        установить глобальный маркер B<br />`c                        перейти к локальному маркеру c<br />`0                        вернуться на позицию, на которой закончили<br />                            работу при закрытии vim<br />:marks                    просмотр маркеров<br />set viminfo='1000,f1      маркеры пишутся в ~/.viminfo, восстанавливаясь<br />                            при следующем запуске vim. маркер &quot; хранит<br />                            последнюю позицию курсора в файле<br />== Сессии ==<br />mksession file.session    сохранить текущую сессию<br />source file.session       восстановить ранее сохраненную сессию<br /><br />== Макросы ==<br />qa                        записать макрос с именем a<br />q                         в режиме записи макроса: закончить запись<br />@a                        выполнить макрос с именем a<br />@@                        повторить последний макрос<br /><br />== Регистры ==<br />&quot;ayy                      скопировать строку в регистр a<br />&quot;bdd                      вырезать строку и поместить в регистр b<br />&quot;С2d                      вырезать три строки и дописать в конец<br />                            регистра C<br />:reg [name1][name2][...]  просмотреть содержимое регистров<br /><br />== Выделение ==<br />v + hjkl                  выделение текста<br />SHIFT + v                 выделить строку<br />CTR + v                   выделение прямоугольника<br />p                         вставить<br />y                         копировать<br />d                         удалить<br />gu                        к нижнему регистру<br />gU                        к верхнему регистру<br /><br />== Отступы ==<br />[#]&gt;                      сдвинуть выделенное вправо<br />[#]&lt;                      сдвинуть выделенное влево<br />[#]&gt;&gt;                     сдвинуть строку вправо<br />[#]&lt;&lt;                     сдвинуть строку влево<br />set tabstop=#             для табуляции используется # пробелов<br />set shiftwidth=#          в командах отступа используется # пробелов <br />set [no]expandtab         заменять ли табуляцию на соответствующее<br />                            число пробелов<br /><br />== Поиск и замена в файле ==<br />/Выражение               поиск выражения в файле<br />\cВыражение              поиск без учета регистра<br />n                        следующее совпадение<br />N                        предыдущее совпадение<br />:%s/foo/bar/gi           замена строк, см http://eax.me/regular-expr/<br /><br />== Поиск по всему проекту ==<br />:vimgrep /EXPR/ **/*.c   поиск по регулярному выражению<br />:copen                   показать все найденные места<br />:close                   скрыть все найденные места<br />:cn                      переход к следующему результату<br />:cp                      переход к предыдущему результату<br /><br />== Нумерация строк ==<br />:set number              включить нумерацию строк<br />:set nonumber            отключить нумерацию строк<br /><br />== Работа с вкладками (a.k.a табами) ==<br />:tabnew [fname]          создать таб<br />:tabs                    вывести список табов<br />:tabn                    следующий таб<br />:tabp                    предыдущий таб<br />&lt;n&gt;gt                    перейти на таб #n<br />gt                       следующий таб<br />gT                       предыдущий таб<br />:tabm +1                 переместить таб вперед на одну позицию<br />:tabm -1                 переместить таб назад на одну позицию<br />:tabm 2                  переместить таб на заданную позицию<br />                           (нумерация начинается с нуля)<br /><br />== Работа с окнами ==<br />:split                   горизонтальное разбиение<br />:vsplit                  вертикальное разбиение<br />Ctr+W, затем<br />  с                      закрыть окно<br />  +-                     изменение высоты текущего окна<br />  &lt;&gt;                     изменение ширины текущего окна<br />  =                      установить равный размер окон<br />  hjkl или стрелочки     перемещение между окнами<br /><br />== Проверка орфографии ==<br />    mkdir -p ~/.vim/spell<br />    cd ~/.vim/spell<br />    wget http://ftp.vim.org/vim/runtime/spell/ru.koi8-r.sug<br />    wget http://ftp.vim.org/vim/runtime/spell/ru.koi8-r.spl<br />    wget http://ftp.vim.org/vim/runtime/spell/en.ascii.sug<br />    wget http://ftp.vim.org/vim/runtime/spell/en.ascii.spl<br /><br />:set spell spelllang=ru,en       включить проверку орфографии<br />:set nospell                     выключить проверку орфографии<br />]s                               следующее слово с ошибкой<br />[s                               предыдущее слово с ошибкой<br />z=                               замена слова на альтернативу из списка<br />zg                               good word<br />zw                               wrong word<br />zG                               ignore word<br /><br />== Работа с кодировкой ==<br />e ++enc=&lt;имя кодировки&gt;         Редактирование файла в ??? кодировке<br />w ++enc=&lt;имя кодировки&gt;         Сохранить файл в новой кодировке<br />set fileencodings=utf-8,koi8-r  Список автоматически определяемых<br />                                  кодировок в порядке убывания<br />                                  приоритета<br /><br />== Другое ==<br />:set [no]wildmenu          При авто-дополнении в командной строке над<br />                             ней выводятся возможные варианты<br />:set list                  Отображать табуляцию и переводы строк<br />q:                         История команд<br />.                          Повторение последней команды</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222;">Более подробный материал об использовании текстового редактора Vim вы найдете в книге </span><a href="http://www.books.ru/books/izuchaem-redaktory-vi-i-vim-7-e-izdanie-827256/"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; text-decoration: underline; color:#666666;">Изучаем редакторы vi и Vim, 7-е издание</span></a><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222;">. Книга доступна как в бумажном, так и в электронном формате.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222;">На этом пока все. Думаю, я буду время от времени редактировать эту шпаргалку, так что следите за PS в конце следующих постов.</span></p></body></html>